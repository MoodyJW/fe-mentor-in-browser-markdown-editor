(self.webpackChunkfe_mentor_in_browser_markdown_editor=self.webpackChunkfe_mentor_in_browser_markdown_editor||[]).push([[179],{2011:(pt,Fe,B)=>{"use strict";B.d(Fe,{Dh:()=>_e,GT:()=>ce,Ot:()=>ge,cc:()=>Ce,hO:()=>me,on:()=>U,pX:()=>Ee,xv:()=>de});var l=B(4650),pe=B(127),K=B(7130);pt=B.hmd(pt);const O=["ngOnDestroy"],Ee=(ke,rt,dt,E={})=>new Proxy(ke,{get:(x,T)=>dt.runOutsideAngular(()=>{var W;if(ke[T])return!(null===(W=E?.spy)||void 0===W)&&W.get&&E.spy.get(T,ke[T]),ke[T];if(O.indexOf(T)>-1)return()=>{};const Y=rt.toPromise().then(P=>{const L=P&&P[T];return"function"==typeof L?L.bind(P):L&&L.then?L.then(N=>dt.run(()=>N)):dt.run(()=>L)});return new Proxy(()=>{},{get:(P,L)=>Y[L],apply:(P,L,N)=>Y.then(ne=>{var Q;const re=ne&&ne(...N);return!(null===(Q=E?.spy)||void 0===Q)&&Q.apply&&E.spy.apply(T,N,re),re})})})}),ce=(ke,rt)=>{rt.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(E=>{Object.defineProperty(ke.prototype,E,Object.getOwnPropertyDescriptor(dt.prototype||dt,E))})})};class ge{constructor(rt){return rt}}const _e=new l.OlP("angularfire2.app.options"),de=new l.OlP("angularfire2.app.name");function U(ke,rt,dt){const x="object"==typeof dt&&dt||{};x.name=x.name||"string"==typeof dt&&dt||"[DEFAULT]";const W=pe.Z.apps.filter(Y=>Y&&Y.name===x.name)[0]||rt.runOutsideAngular(()=>pe.Z.initializeApp(ke,x));try{JSON.stringify(ke)!==JSON.stringify(W.options)&&J("error",`${W.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(W)}const J=(ke,...rt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ke](...rt)},q={provide:ge,useFactory:U,deps:[_e,l.R0b,[new l.FiY,de]]};let me=(()=>{class ke{constructor(dt){pe.Z.registerVersion("angularfire",K.q4.full,"core"),pe.Z.registerVersion("angularfire",K.q4.full,"app-compat"),pe.Z.registerVersion("angular",l.q4F.full,dt.toString())}static initializeApp(dt,E){return{ngModule:ke,providers:[{provide:_e,useValue:dt},{provide:de,useValue:E}]}}}return ke.\u0275fac=function(dt){return new(dt||ke)(l.LFG(l.Lbi))},ke.\u0275mod=l.oAB({type:ke}),ke.\u0275inj=l.cJS({providers:[q]}),ke})();function Ce(ke,rt,dt,E,x){const[,T,W]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===ke)||[];if(T)return function De(ke,rt){try{return ke.toString()===rt.toString()}catch{return ke===rt}}(x,W)||(xe("error",`${rt} was already initialized on the ${dt} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:x,was:W})),T;{const Y=E();return globalThis.\u0275AngularfireInstanceCache.push([ke,Y,x]),Y}}const Oe=!!pt.hot,xe=(ke,...rt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ke](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7130:(pt,Fe,B)=>{"use strict";B.d(Fe,{q4:()=>Di,iC:()=>Ps,HU:()=>lc,vb:()=>Go,JM:()=>uc,nk:()=>Ua});var l=B(4650),pe=B(5867),K=B(5861),O=B(9681),Ee=B(2090),ce=B(4859),ge=B(1877);B(2833);const de="@firebase/remote-config",U="0.3.11",Ce=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class be{constructor(H,fe,Me,Se){this.client=H,this.storage=fe,this.storageCache=Me,this.logger=Se}isCachedDataFresh(H,fe){if(!fe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Me=Date.now()-fe,Se=Me<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Me}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${Se}.`),Se}fetch(H){var fe=this;return(0,K.Z)(function*(){const[Me,Se]=yield Promise.all([fe.storage.getLastSuccessfulFetchTimestampMillis(),fe.storage.getLastSuccessfulFetchResponse()]);if(Se&&fe.isCachedDataFresh(H.cacheMaxAgeMillis,Me))return Se;H.eTag=Se&&Se.eTag;const st=yield fe.client.fetch(H),At=[fe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===st.status&&At.push(fe.storage.setLastSuccessfulFetchResponse(st)),yield Promise.all(At),st})()}}function $e(j=navigator){return j.languages&&j.languages[0]||j.language}class qe{constructor(H,fe,Me,Se,st,At){this.firebaseInstallations=H,this.sdkVersion=fe,this.namespace=Me,this.projectId=Se,this.apiKey=st,this.appId=At}fetch(H){var fe=this;return(0,K.Z)(function*(){var Me,Se,st;const[At,rn]=yield Promise.all([fe.firebaseInstallations.getId(),fe.firebaseInstallations.getToken()]),Cr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${fe.projectId}/namespaces/${fe.namespace}:fetch?key=${fe.apiKey}`,Nn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},zt={sdk_version:fe.sdkVersion,app_instance_id:At,app_instance_id_token:rn,app_id:fe.appId,language_code:$e()},is={method:"POST",headers:Nn,body:JSON.stringify(zt)},je=fetch(Cr,is),Yt=new Promise((Dr,Ns)=>{H.signal.addEventListener(()=>{const _o=new Error("The operation was aborted.");_o.name="AbortError",Ns(_o)})});let Hi;try{yield Promise.race([je,Yt]),Hi=yield je}catch(Dr){let Ns="fetch-client-network";throw"AbortError"===(null===(Me=Dr)||void 0===Me?void 0:Me.name)&&(Ns="fetch-timeout"),Ce.create(Ns,{originalErrorMessage:null===(Se=Dr)||void 0===Se?void 0:Se.message})}let Ii=Hi.status;const rr=Hi.headers.get("ETag")||void 0;let qs,ss;if(200===Hi.status){let Dr;try{Dr=yield Hi.json()}catch(Ns){throw Ce.create("fetch-client-parse",{originalErrorMessage:null===(st=Ns)||void 0===st?void 0:st.message})}qs=Dr.entries,ss=Dr.state}if("INSTANCE_STATE_UNSPECIFIED"===ss?Ii=500:"NO_CHANGE"===ss?Ii=304:("NO_TEMPLATE"===ss||"EMPTY_CONFIG"===ss)&&(qs={}),304!==Ii&&200!==Ii)throw Ce.create("fetch-status",{httpStatus:Ii});return{status:Ii,eTag:rr,config:qs}})()}}class on{constructor(H,fe){this.client=H,this.storage=fe}fetch(H){var fe=this;return(0,K.Z)(function*(){const Me=(yield fe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return fe.attemptFetch(H,Me)})()}attemptFetch(H,{throttleEndTimeMillis:fe,backoffCount:Me}){var Se=this;return(0,K.Z)(function*(){yield function Ue(j,H){return new Promise((fe,Me)=>{const Se=Math.max(H-Date.now(),0),st=setTimeout(fe,Se);j.addEventListener(()=>{clearTimeout(st),Me(Ce.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,fe);try{const st=yield Se.client.fetch(H);return yield Se.storage.deleteThrottleMetadata(),st}catch(st){if(!function Xe(j){if(!(j instanceof Ee.ZR&&j.customData))return!1;const H=Number(j.customData.httpStatus);return 429===H||500===H||503===H||504===H}(st))throw st;const At={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(Me),backoffCount:Me+1};return yield Se.storage.setThrottleMetadata(At),Se.attemptFetch(H,At)}})()}}class nn{constructor(H,fe,Me,Se,st){this.app=H,this._client=fe,this._storageCache=Me,this._storage=Se,this._logger=st,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dt(j,H){var fe;const Me=j.target.error||void 0;return Ce.create(H,{originalErrorMessage:Me&&(null===(fe=Me)||void 0===fe?void 0:fe.message)})}const _t="app_namespace_store";class Mn{constructor(H,fe,Me,Se=function Gn(){return new Promise((j,H)=>{var fe;try{const Me=indexedDB.open("firebase_remote_config",1);Me.onerror=Se=>{H(Dt(Se,"storage-open"))},Me.onsuccess=Se=>{j(Se.target.result)},Me.onupgradeneeded=Se=>{0===Se.oldVersion&&Se.target.result.createObjectStore(_t,{keyPath:"compositeKey"})}}catch(Me){H(Ce.create("storage-open",{originalErrorMessage:null===(fe=Me)||void 0===fe?void 0:fe.message}))}})}()){this.appId=H,this.appName=fe,this.namespace=Me,this.openDbPromise=Se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var fe=this;return(0,K.Z)(function*(){const Me=yield fe.openDbPromise;return new Promise((Se,st)=>{var At;const pr=Me.transaction([_t],"readonly").objectStore(_t),Cr=fe.createCompositeKey(H);try{const Nn=pr.get(Cr);Nn.onerror=zt=>{st(Dt(zt,"storage-get"))},Nn.onsuccess=zt=>{const is=zt.target.result;Se(is?is.value:void 0)}}catch(Nn){st(Ce.create("storage-get",{originalErrorMessage:null===(At=Nn)||void 0===At?void 0:At.message}))}})})()}set(H,fe){var Me=this;return(0,K.Z)(function*(){const Se=yield Me.openDbPromise;return new Promise((st,At)=>{var rn;const Cr=Se.transaction([_t],"readwrite").objectStore(_t),Nn=Me.createCompositeKey(H);try{const zt=Cr.put({compositeKey:Nn,value:fe});zt.onerror=is=>{At(Dt(is,"storage-set"))},zt.onsuccess=()=>{st()}}catch(zt){At(Ce.create("storage-set",{originalErrorMessage:null===(rn=zt)||void 0===rn?void 0:rn.message}))}})})()}delete(H){var fe=this;return(0,K.Z)(function*(){const Me=yield fe.openDbPromise;return new Promise((Se,st)=>{var At;const pr=Me.transaction([_t],"readwrite").objectStore(_t),Cr=fe.createCompositeKey(H);try{const Nn=pr.delete(Cr);Nn.onerror=zt=>{st(Dt(zt,"storage-delete"))},Nn.onsuccess=()=>{Se()}}catch(Nn){st(Ce.create("storage-delete",{originalErrorMessage:null===(At=Nn)||void 0===At?void 0:At.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class tr{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,K.Z)(function*(){const fe=H.storage.getLastFetchStatus(),Me=H.storage.getLastSuccessfulFetchTimestampMillis(),Se=H.storage.getActiveConfig(),st=yield fe;st&&(H.lastFetchStatus=st);const At=yield Me;At&&(H.lastSuccessfulFetchTimestampMillis=At);const rn=yield Se;rn&&(H.activeConfig=rn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function St(){return br.apply(this,arguments)}function br(){return(br=(0,K.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function cr(){(0,O._registerComponent)(new ce.wA("remote-config",function j(H,{instanceIdentifier:fe}){const Me=H.getProvider("app").getImmediate(),Se=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ce.create("registration-window");if(!(0,Ee.hl)())throw Ce.create("indexed-db-unavailable");const{projectId:st,apiKey:At,appId:rn}=Me.options;if(!st)throw Ce.create("registration-project-id");if(!At)throw Ce.create("registration-api-key");if(!rn)throw Ce.create("registration-app-id");const pr=new Mn(rn,Me.name,fe=fe||"firebase"),Cr=new tr(pr),Nn=new ge.Yd(de);Nn.logLevel=ge.in.ERROR;const zt=new qe(Se,O.SDK_VERSION,fe,st,At,rn),is=new on(zt,pr),je=new be(is,pr,Cr,Nn),Yt=new nn(Me,je,Cr,pr,Nn);return function W(j){const H=(0,Ee.m9)(j);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Yt),Yt},"PUBLIC").setMultipleInstances(!0)),(0,O.registerVersion)(de,U),(0,O.registerVersion)(de,U,"esm2017")}();var mn=B(8766);const Bn="/firebase-messaging-sw.js",Vr="/firebase-cloud-messaging-push-scope",wi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zn="google.c.a.c_id",Xr="google.c.a.c_l",Wr="google.c.a.ts",sn="google.c.a.e";var vt=(()=>{return(j=vt||(vt={})).PUSH_RECEIVED="push-received",j.NOTIFICATION_CLICKED="notification-clicked",vt;var j})();function En(j){const H=new Uint8Array(j);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nr(j){const fe=(j+"=".repeat((4-j.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Me=atob(fe),Se=new Uint8Array(Me.length);for(let st=0;st<Me.length;++st)Se[st]=Me.charCodeAt(st);return Se}const Lt="fcm_token_details_db",Wn="fcm_token_object_Store";function Or(j){return cn.apply(this,arguments)}function cn(){return cn=(0,K.Z)(function*(j){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(st=>st.name).includes(Lt))return null;let H=null;return(yield(0,mn.X3)(Lt,5,{upgrade:(Me=(0,K.Z)(function*(Se,st,At,rn){var pr;if(st<2||!Se.objectStoreNames.contains(Wn))return;const Cr=rn.objectStore(Wn),Nn=yield Cr.index("fcmSenderId").get(j);if(yield Cr.clear(),Nn)if(2===st){const zt=Nn;if(!zt.auth||!zt.p256dh||!zt.endpoint)return;H={token:zt.fcmToken,createTime:null!==(pr=zt.createTime)&&void 0!==pr?pr:Date.now(),subscriptionOptions:{auth:zt.auth,p256dh:zt.p256dh,endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:"string"==typeof zt.vapidKey?zt.vapidKey:En(zt.vapidKey)}}}else if(3===st){const zt=Nn;H={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:En(zt.auth),p256dh:En(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:En(zt.vapidKey)}}}else if(4===st){const zt=Nn;H={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:En(zt.auth),p256dh:En(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:En(zt.vapidKey)}}}}),function(st,At,rn,pr){return Me.apply(this,arguments)})})).close(),yield(0,mn.Lj)(Lt),yield(0,mn.Lj)("fcm_vapid_details_db"),yield(0,mn.Lj)("undefined"),dr(H)?H:null;var Me}),cn.apply(this,arguments)}function dr(j){if(!j||!j.subscriptionOptions)return!1;const{subscriptionOptions:H}=j;return"number"==typeof j.createTime&&j.createTime>0&&"string"==typeof j.token&&j.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const X="firebase-messaging-store";let se=null;function oe(){return se||(se=(0,mn.X3)("firebase-messaging-database",1,{upgrade:(j,H)=>{0===H&&j.createObjectStore(X)}})),se}function He(j){return it.apply(this,arguments)}function it(){return(it=(0,K.Z)(function*(j){const H=Ae(j),Me=yield(yield oe()).transaction(X).objectStore(X).get(H);if(Me)return Me;{const Se=yield Or(j.appConfig.senderId);if(Se)return yield yt(j,Se),Se}})).apply(this,arguments)}function yt(j,H){return fn.apply(this,arguments)}function fn(){return(fn=(0,K.Z)(function*(j,H){const fe=Ae(j),Se=(yield oe()).transaction(X,"readwrite");return yield Se.objectStore(X).put(H,fe),yield Se.done,H})).apply(this,arguments)}function an(j){return we.apply(this,arguments)}function we(){return(we=(0,K.Z)(function*(j){const H=Ae(j),Me=(yield oe()).transaction(X,"readwrite");yield Me.objectStore(X).delete(H),yield Me.done})).apply(this,arguments)}function Ae({appConfig:j}){return j.appId}const Ke=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(j,H){return wt.apply(this,arguments)}function wt(){return(wt=(0,K.Z)(function*(j,H){var fe;const Me=yield wr(j),Se=$n(H),st={method:"POST",headers:Me,body:JSON.stringify(Se)};let At;try{At=yield(yield fetch(Qt(j.appConfig),st)).json()}catch(rn){throw Ke.create("token-subscribe-failed",{errorInfo:null===(fe=rn)||void 0===fe?void 0:fe.toString()})}if(At.error)throw Ke.create("token-subscribe-failed",{errorInfo:At.error.message});if(!At.token)throw Ke.create("token-subscribe-no-token");return At.token})).apply(this,arguments)}function xt(j,H){return ze.apply(this,arguments)}function ze(){return(ze=(0,K.Z)(function*(j,H){var fe;const Me=yield wr(j),Se=$n(H.subscriptionOptions),st={method:"PATCH",headers:Me,body:JSON.stringify(Se)};let At;try{At=yield(yield fetch(`${Qt(j.appConfig)}/${H.token}`,st)).json()}catch(rn){throw Ke.create("token-update-failed",{errorInfo:null===(fe=rn)||void 0===fe?void 0:fe.toString()})}if(At.error)throw Ke.create("token-update-failed",{errorInfo:At.error.message});if(!At.token)throw Ke.create("token-update-no-token");return At.token})).apply(this,arguments)}function ct(j,H){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,K.Z)(function*(j,H){var fe;const Se={method:"DELETE",headers:yield wr(j)};try{const At=yield(yield fetch(`${Qt(j.appConfig)}/${H}`,Se)).json();if(At.error)throw Ke.create("token-unsubscribe-failed",{errorInfo:At.error.message})}catch(st){throw Ke.create("token-unsubscribe-failed",{errorInfo:null===(fe=st)||void 0===fe?void 0:fe.toString()})}})).apply(this,arguments)}function Qt({projectId:j}){return`https://fcmregistrations.googleapis.com/v1/projects/${j}/registrations`}function wr(j){return bn.apply(this,arguments)}function bn(){return(bn=(0,K.Z)(function*({appConfig:j,installations:H}){const fe=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j.apiKey,"x-goog-firebase-installations-auth":`FIS ${fe}`})})).apply(this,arguments)}function $n({p256dh:j,auth:H,endpoint:fe,vapidKey:Me}){const Se={web:{endpoint:fe,auth:H,p256dh:j}};return Me!==wi&&(Se.web.applicationPubKey=Me),Se}const In=6048e5;function Hs(j){return li.apply(this,arguments)}function li(){return(li=(0,K.Z)(function*(j){const H=yield kn(j.swRegistration,j.vapidKey),fe={vapidKey:j.vapidKey,swScope:j.swRegistration.scope,endpoint:H.endpoint,auth:En(H.getKey("auth")),p256dh:En(H.getKey("p256dh"))},Me=yield He(j.firebaseDependencies);if(Me){if(xn(Me.subscriptionOptions,fe))return Date.now()>=Me.createTime+In?he(j,{token:Me.token,createTime:Date.now(),subscriptionOptions:fe}):Me.token;try{yield ct(j.firebaseDependencies,Me.token)}catch(Se){console.warn(Se)}return Ze(j.firebaseDependencies,fe)}return Ze(j.firebaseDependencies,fe)})).apply(this,arguments)}function Wt(j){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,K.Z)(function*(j){const H=yield He(j.firebaseDependencies);H&&(yield ct(j.firebaseDependencies,H.token),yield an(j.firebaseDependencies));const fe=yield j.swRegistration.pushManager.getSubscription();return!fe||fe.unsubscribe()})).apply(this,arguments)}function he(j,H){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,K.Z)(function*(j,H){try{const fe=yield xt(j.firebaseDependencies,H),Me=Object.assign(Object.assign({},H),{token:fe,createTime:Date.now()});return yield yt(j.firebaseDependencies,Me),fe}catch(fe){throw yield Wt(j),fe}})).apply(this,arguments)}function Ze(j,H){return ut.apply(this,arguments)}function ut(){return(ut=(0,K.Z)(function*(j,H){const Me={token:yield et(j,H),createTime:Date.now(),subscriptionOptions:H};return yield yt(j,Me),Me.token})).apply(this,arguments)}function kn(j,H){return un.apply(this,arguments)}function un(){return(un=(0,K.Z)(function*(j,H){return(yield j.pushManager.getSubscription())||j.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nr(H)})})).apply(this,arguments)}function xn(j,H){return H.vapidKey===j.vapidKey&&H.endpoint===j.endpoint&&H.auth===j.auth&&H.p256dh===j.p256dh}function On(j){const H={from:j.from,collapseKey:j.collapse_key,messageId:j.fcmMessageId};return function xi(j,H){if(!H.notification)return;j.notification={};const fe=H.notification.title;fe&&(j.notification.title=fe);const Me=H.notification.body;Me&&(j.notification.body=Me);const Se=H.notification.image;Se&&(j.notification.image=Se)}(H,j),function Xt(j,H){!H.data||(j.data=H.data)}(H,j),function jo(j,H){var fe,Me,Se,st,At;if(!(H.fcmOptions||null!==(fe=H.notification)&&void 0!==fe&&fe.click_action))return;j.fcmOptions={};const rn=null!==(Se=null===(Me=H.fcmOptions)||void 0===Me?void 0:Me.link)&&void 0!==Se?Se:null===(st=H.notification)||void 0===st?void 0:st.click_action;rn&&(j.fcmOptions.link=rn);const pr=null===(At=H.fcmOptions)||void 0===At?void 0:At.analytics_label;pr&&(j.fcmOptions.analyticsLabel=pr)}(H,j),H}function Ui(j){return"object"==typeof j&&!!j&&zn in j}function Ho(j,H){const fe=[];for(let Me=0;Me<j.length;Me++)fe.push(j.charAt(Me)),Me<H.length&&fe.push(H.charAt(Me));return fe.join("")}function ks(j){return Ke.create("missing-app-config-values",{valueName:j})}Ho("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ho("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class po{constructor(H,fe,Me){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Se=function fo(j){if(!j||!j.options)throw ks("App Configuration Object");if(!j.name)throw ks("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:fe}=j;for(const Me of H)if(!fe[Me])throw ks(Me);return{appName:j.name,projectId:fe.projectId,apiKey:fe.apiKey,appId:fe.appId,senderId:fe.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:Se,installations:fe,analyticsProvider:Me}}_delete(){return Promise.resolve()}}function Ei(j){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,K.Z)(function*(j){var H;try{j.swRegistration=yield navigator.serviceWorker.register(Bn,{scope:Vr}),j.swRegistration.update().catch(()=>{})}catch(fe){throw Ke.create("failed-service-worker-registration",{browserErrorMessage:null===(H=fe)||void 0===H?void 0:H.message})}})).apply(this,arguments)}function fh(j,H){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,K.Z)(function*(j,H){if(!H&&!j.swRegistration&&(yield Ei(j)),H||!j.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");j.swRegistration=H}})).apply(this,arguments)}function Oi(j,H){return xs.apply(this,arguments)}function xs(){return(xs=(0,K.Z)(function*(j,H){H?j.vapidKey=H:j.vapidKey||(j.vapidKey=wi)})).apply(this,arguments)}function ci(){return(ci=(0,K.Z)(function*(j,H){if(!navigator)throw Ke.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ke.create("permission-blocked");return yield Oi(j,H?.vapidKey),yield fh(j,H?.serviceWorkerRegistration),Hs(j)})).apply(this,arguments)}function ei(j,H,fe){return zo.apply(this,arguments)}function zo(){return(zo=(0,K.Z)(function*(j,H,fe){const Me=j_(H);(yield j.firebaseDependencies.analyticsProvider.get()).logEvent(Me,{message_id:fe[zn],message_name:fe[Xr],message_time:fe[Wr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function j_(j){switch(j){case vt.NOTIFICATION_CLICKED:return"notification_open";case vt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ru(){return(Ru=(0,K.Z)(function*(j,H){const fe=H.data;if(!fe.isFirebaseMessaging)return;j.onMessageHandler&&fe.messageType===vt.PUSH_RECEIVED&&("function"==typeof j.onMessageHandler?j.onMessageHandler(On(fe)):j.onMessageHandler.next(On(fe)));const Me=fe.data;Ui(Me)&&"1"===Me[sn]&&(yield ei(j,fe.messageType,Me))})).apply(this,arguments)}const Pu="@firebase/messaging",$s=j=>{const H=new po(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),j.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",fe=>function Na(j,H){return Ru.apply(this,arguments)}(H,fe)),H},Ci=j=>{const H=j.getProvider("messaging").getImmediate();return{getToken:Me=>function zs(j,H){return ci.apply(this,arguments)}(H,Me)}};function ji(){return ic.apply(this,arguments)}function ic(){return(ic=(0,K.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Np(){(0,O._registerComponent)(new ce.wA("messaging",$s,"PUBLIC")),(0,O._registerComponent)(new ce.wA("messaging-internal",Ci,"PRIVATE")),(0,O.registerVersion)(Pu,"0.9.16"),(0,O.registerVersion)(Pu,"0.9.16","esm2017")}();var ts=B(7982),Fp=B(341),Lp=B(353),La=B(2868),mo=B(3334),Fu=B(2102);const Di=new l.GfV("7.4.1"),ns="__angularfire_symbol__analyticsIsSupportedValue",Os="__angularfire_symbol__analyticsIsSupported",Va="__angularfire_symbol__remoteConfigIsSupportedValue",Gs="__angularfire_symbol__remoteConfigIsSupported",Ws="__angularfire_symbol__messagingIsSupportedValue",Lu="__angularfire_symbol__messagingIsSupported";globalThis[Os]||(globalThis[Os]=(0,ts.Gb)().then(j=>globalThis[ns]=j).catch(()=>globalThis[ns]=!1)),globalThis[Lu]||(globalThis[Lu]=ji().then(j=>globalThis[Ws]=j).catch(()=>globalThis[Ws]=!1)),globalThis[Gs]||(globalThis[Gs]=St().then(j=>globalThis[Va]=j).catch(()=>globalThis[Va]=!1));const Ua={async:()=>globalThis[Os],sync:()=>{const j=globalThis[ns];if(void 0===j)throw new Error((j=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${j} in the constructor, first ensure that ${j} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${j})\`.`)("Analytics"));return j}};function uc(j,H,fe){if(H){if(1===H.length)return H[0];const st=H.filter(At=>At.app===fe);if(1===st.length)return st[0]}return fe.container.getProvider(j).getImmediate({optional:!0})}const Go=(j,H)=>{const fe=H?[H]:(0,pe.C6)(),Me=[];return fe.forEach(Se=>{Se.container.getProvider(j).instances.forEach(At=>{Me.includes(At)||Me.push(At)})}),Me};function Er(){}class ja{constructor(H,fe=Fp.N){this.zone=H,this.delegate=fe}now(){return this.delegate.now()}schedule(H,fe,Me){const Se=this.zone;return this.delegate.schedule(function(At){Se.runGuarded(()=>{H.apply(this,[At])})},fe,Me)}}class hr{constructor(H){this.zone=H,this.task=null}call(H,fe){const Me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Er,{},Er,Er)),fe.pipe((0,La.b)({next:Me,complete:Me,error:Me})).subscribe(H).add(Me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lc=(()=>{class j{constructor(fe){this.ngZone=fe,this.outsideAngular=fe.runOutsideAngular(()=>new ja(Zone.current)),this.insideAngular=fe.run(()=>new ja(Zone.current,Lp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return j.\u0275fac=function(fe){return new(fe||j)(l.LFG(l.R0b))},j.\u0275prov=l.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function Rs(){const j=globalThis.\u0275AngularFireScheduler;if(!j)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return j}function Ps(j){return Rs(),function Br(j){return function(fe){return(fe=fe.lift(new hr(j.ngZone))).pipe((0,mo.R)(j.outsideAngular),(0,Fu.QV)(j.insideAngular))}}(Rs())(j)}},2090:(pt,Fe,B)=>{"use strict";B.d(Fe,{$s:()=>Wn,BH:()=>me,G6:()=>Y,L:()=>_e,LL:()=>ee,Mn:()=>T,Sg:()=>Ce,UG:()=>xe,US:()=>ce,ZB:()=>J,ZR:()=>re,b$:()=>dt,d:()=>E,eu:()=>L,hl:()=>P,jU:()=>ke,m9:()=>dr,ne:()=>St,pd:()=>Gr,r3:()=>nn,ru:()=>rt,tV:()=>de,uI:()=>Oe,vZ:()=>Lr,w1:()=>x,xO:()=>tr,xb:()=>_t,z$:()=>De,zI:()=>N,zd:()=>cr});const O=function(ie){const ae=[];let X=0;for(let se=0;se<ie.length;se++){let oe=ie.charCodeAt(se);oe<128?ae[X++]=oe:oe<2048?(ae[X++]=oe>>6|192,ae[X++]=63&oe|128):55296==(64512&oe)&&se+1<ie.length&&56320==(64512&ie.charCodeAt(se+1))?(oe=65536+((1023&oe)<<10)+(1023&ie.charCodeAt(++se)),ae[X++]=oe>>18|240,ae[X++]=oe>>12&63|128,ae[X++]=oe>>6&63|128,ae[X++]=63&oe|128):(ae[X++]=oe>>12|224,ae[X++]=oe>>6&63|128,ae[X++]=63&oe|128)}return ae},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,ae){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let oe=0;oe<ie.length;oe+=3){const He=ie[oe],it=oe+1<ie.length,yt=it?ie[oe+1]:0,fn=oe+2<ie.length,an=fn?ie[oe+2]:0;let Le=(15&yt)<<2|an>>6,Ke=63&an;fn||(Ke=64,it||(Le=64)),se.push(X[He>>2],X[(3&He)<<4|yt>>4],X[Le],X[Ke])}return se.join("")},encodeString(ie,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(ie):this.encodeByteArray(O(ie),ae)},decodeString(ie,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(ie):function(ie){const ae=[];let X=0,se=0;for(;X<ie.length;){const oe=ie[X++];if(oe<128)ae[se++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const He=ie[X++];ae[se++]=String.fromCharCode((31&oe)<<6|63&He)}else if(oe>239&&oe<365){const fn=((7&oe)<<18|(63&ie[X++])<<12|(63&ie[X++])<<6|63&ie[X++])-65536;ae[se++]=String.fromCharCode(55296+(fn>>10)),ae[se++]=String.fromCharCode(56320+(1023&fn))}else{const He=ie[X++],it=ie[X++];ae[se++]=String.fromCharCode((15&oe)<<12|(63&He)<<6|63&it)}}return ae.join("")}(this.decodeStringToByteArray(ie,ae))},decodeStringToByteArray(ie,ae){this.init_();const X=ae?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let oe=0;oe<ie.length;){const He=X[ie.charAt(oe++)],yt=oe<ie.length?X[ie.charAt(oe)]:0;++oe;const an=oe<ie.length?X[ie.charAt(oe)]:64;++oe;const Ae=oe<ie.length?X[ie.charAt(oe)]:64;if(++oe,null==He||null==yt||null==an||null==Ae)throw Error();se.push(He<<2|yt>>4),64!==an&&(se.push(yt<<4&240|an>>2),64!==Ae&&se.push(an<<6&192|Ae))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},_e=function(ie){return function(ie){const ae=O(ie);return ce.encodeByteArray(ae,!0)}(ie).replace(/\./g,"")},de=function(ie){try{return ce.decodeString(ie,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function J(ie,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return ae}for(const X in ae)!ae.hasOwnProperty(X)||!q(X)||(ie[X]=J(ie[X],ae[X]));return ie}function q(ie){return"__proto__"!==ie}class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,X)=>{this.resolve=ae,this.reject=X})}wrapCallback(ae){return(X,se)=>{X?this.reject(X):this.resolve(se),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(X):ae(X,se))}}}function Ce(ie,ae){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=ae||"demo-project",oe=ie.iat||0,He=ie.sub||ie.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const it=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:oe,exp:oe+3600,auth_time:oe,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(it)),""].join(".")}function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ke(){return"object"==typeof self&&self.self===self}function rt(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){return De().indexOf("Electron/")>=0}function x(){const ie=De();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function T(){return De().indexOf("MSAppHost/")>=0}function Y(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P(){return"object"==typeof indexedDB}function L(){return new Promise((ie,ae)=>{try{let X=!0;const se="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(se);oe.onsuccess=()=>{oe.result.close(),X||self.indexedDB.deleteDatabase(se),ie(!0)},oe.onupgradeneeded=()=>{X=!1},oe.onerror=()=>{var He;ae((null===(He=oe.error)||void 0===He?void 0:He.message)||"")}}catch(X){ae(X)}})}function N(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class re extends Error{constructor(ae,X,se){super(X),this.code=ae,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(ae,X,se){this.service=ae,this.serviceName=X,this.errors=se}create(ae,...X){const se=X[0]||{},oe=`${this.service}/${ae}`,He=this.errors[ae],it=He?function V(ie,ae){return ie.replace(be,(X,se)=>{const oe=ae[se];return null!=oe?String(oe):`<${se}?>`})}(He,se):"Error";return new re(oe,`${this.serviceName}: ${it} (${oe}).`,se)}}const be=/\{\$([^}]+)}/g;function nn(ie,ae){return Object.prototype.hasOwnProperty.call(ie,ae)}function _t(ie){for(const ae in ie)if(Object.prototype.hasOwnProperty.call(ie,ae))return!1;return!0}function Lr(ie,ae){if(ie===ae)return!0;const X=Object.keys(ie),se=Object.keys(ae);for(const oe of X){if(!se.includes(oe))return!1;const He=ie[oe],it=ae[oe];if(Gn(He)&&Gn(it)){if(!Lr(He,it))return!1}else if(He!==it)return!1}for(const oe of se)if(!X.includes(oe))return!1;return!0}function Gn(ie){return null!==ie&&"object"==typeof ie}function tr(ie){const ae=[];for(const[X,se]of Object.entries(ie))Array.isArray(se)?se.forEach(oe=>{ae.push(encodeURIComponent(X)+"="+encodeURIComponent(oe))}):ae.push(encodeURIComponent(X)+"="+encodeURIComponent(se));return ae.length?"&"+ae.join("&"):""}function cr(ie){const ae={};return ie.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[oe,He]=se.split("=");ae[decodeURIComponent(oe)]=decodeURIComponent(He)}}),ae}function Gr(ie){const ae=ie.indexOf("?");if(!ae)return"";const X=ie.indexOf("#",ae);return ie.substring(ae,X>0?X:void 0)}function St(ie,ae){const X=new br(ie,ae);return X.subscribe.bind(X)}class br{constructor(ae,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{ae(this)}).catch(se=>{this.error(se)})}next(ae){this.forEachObserver(X=>{X.next(ae)})}error(ae){this.forEachObserver(X=>{X.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,X,se){let oe;if(void 0===ae&&void 0===X&&void 0===se)throw new Error("Missing Observer.");oe=function Bn(ie,ae){if("object"!=typeof ie||null===ie)return!1;for(const X of ae)if(X in ie&&"function"==typeof ie[X])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:X,complete:se},void 0===oe.next&&(oe.next=Vr),void 0===oe.error&&(oe.error=Vr),void 0===oe.complete&&(oe.complete=Vr);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),He}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,ae)}sendOne(ae,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{X(this.observers[ae])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vr(){}function Wn(ie,ae=1e3,X=2){const se=ae*Math.pow(X,ie),oe=Math.round(.5*se*(Math.random()-.5)*2);return Math.min(144e5,se+oe)}function dr(ie){return ie&&ie._delegate?ie._delegate:ie}},5518:(pt,Fe,B)=>{"use strict";var l=B(4650);let pe=null;function K(){return pe}const ge=new l.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function de(){return(0,l.LFG)(J)}()},providedIn:"platform"}),n})();const U=new l.OlP("Location Initialized");let J=(()=>{class n extends _e{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(t){const r=K().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=K().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function me(){return new J((0,l.LFG)(ge))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Ce(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Oe(n){return n&&"?"!==n[0]?"?"+n:n}let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ke(){const n=(0,l.LFG)(ge).location;return new dt((0,l.LFG)(_e),n&&n.origin||"")}()},providedIn:"root"}),n})();const rt=new l.OlP("appBaseHref");let dt=(()=>{class n extends xe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ce(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Oe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Oe(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Oe(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_e),l.LFG(rt,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),E=(()=>{class n extends xe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ce(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Oe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Oe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_e),l.LFG(rt,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),x=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=De(Y(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Oe(r))}normalize(t){return n.stripTrailingSlash(function W(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Y(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Oe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Oe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Oe,n.joinWithSlash=Ce,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(l.LFG(xe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function T(){return new x((0,l.LFG)(xe))}()},providedIn:"root"}),n})();function Y(n){return n.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Format=0]="Format",ne[ne.Standalone=1]="Standalone",ne))(),Q=(()=>((Q=Q||{})[Q.Narrow=0]="Narrow",Q[Q.Abbreviated=1]="Abbreviated",Q[Q.Wide=2]="Wide",Q[Q.Short=3]="Short",Q))(),re=(()=>((re=re||{})[re.Short=0]="Short",re[re.Medium=1]="Medium",re[re.Long=2]="Long",re[re.Full=3]="Full",re))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function Ht(n,e){return mn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function nn(n,e){return mn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function Dt(n,e){return mn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function _t(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ee.CurrencyDecimal)return t[l.wAp.NumberSymbols][ee.Decimal];if(e===ee.CurrencyGroup)return t[l.wAp.NumberSymbols][ee.Group]}return r}function Gr(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Bn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const zn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xr={},Wr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=(()=>((sn=sn||{})[sn.Short=0]="Short",sn[sn.ShortGMT=1]="ShortGMT",sn[sn.Long=2]="Long",sn[sn.Extended=3]="Extended",sn))(),tt=(()=>((tt=tt||{})[tt.FullYear=0]="FullYear",tt[tt.Month=1]="Month",tt[tt.Date=2]="Date",tt[tt.Hours=3]="Hours",tt[tt.Minutes=4]="Minutes",tt[tt.Seconds=5]="Seconds",tt[tt.FractionalSeconds=6]="FractionalSeconds",tt[tt.Day=7]="Day",tt))(),vt=(()=>((vt=vt||{})[vt.DayPeriods=0]="DayPeriods",vt[vt.Days=1]="Days",vt[vt.Months=2]="Months",vt[vt.Eras=3]="Eras",vt))();function En(n,e,t,r){let i=function et(n){if(xt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(f=>+f);return nr(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(zn))return function wt(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,f,_,w),e}(r)}const e=new Date(n);if(!xt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Lt(t,e)||e;let f,c=[];for(;e;){if(f=Wr.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const I=c.pop();if(!I)break;e=I}}let _=i.getTimezoneOffset();r&&(_=Ae(r,_),i=function Ke(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Le(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Ae(e,i)-i))}(i,r,!0));let w="";return c.forEach(I=>{const M=function we(n){if(an[n])return an[n];let e;switch(n){case"G":case"GG":case"GGG":e=ie(vt.Eras,Q.Abbreviated);break;case"GGGG":e=ie(vt.Eras,Q.Wide);break;case"GGGGG":e=ie(vt.Eras,Q.Narrow);break;case"y":e=cn(tt.FullYear,1,0,!1,!0);break;case"yy":e=cn(tt.FullYear,2,0,!0,!0);break;case"yyy":e=cn(tt.FullYear,3,0,!1,!0);break;case"yyyy":e=cn(tt.FullYear,4,0,!1,!0);break;case"Y":e=fn(1);break;case"YY":e=fn(2,!0);break;case"YYY":e=fn(3);break;case"YYYY":e=fn(4);break;case"M":case"L":e=cn(tt.Month,1,1);break;case"MM":case"LL":e=cn(tt.Month,2,1);break;case"MMM":e=ie(vt.Months,Q.Abbreviated);break;case"MMMM":e=ie(vt.Months,Q.Wide);break;case"MMMMM":e=ie(vt.Months,Q.Narrow);break;case"LLL":e=ie(vt.Months,Q.Abbreviated,ne.Standalone);break;case"LLLL":e=ie(vt.Months,Q.Wide,ne.Standalone);break;case"LLLLL":e=ie(vt.Months,Q.Narrow,ne.Standalone);break;case"w":e=yt(1);break;case"ww":e=yt(2);break;case"W":e=yt(1,!0);break;case"d":e=cn(tt.Date,1);break;case"dd":e=cn(tt.Date,2);break;case"c":case"cc":e=cn(tt.Day,1);break;case"ccc":e=ie(vt.Days,Q.Abbreviated,ne.Standalone);break;case"cccc":e=ie(vt.Days,Q.Wide,ne.Standalone);break;case"ccccc":e=ie(vt.Days,Q.Narrow,ne.Standalone);break;case"cccccc":e=ie(vt.Days,Q.Short,ne.Standalone);break;case"E":case"EE":case"EEE":e=ie(vt.Days,Q.Abbreviated);break;case"EEEE":e=ie(vt.Days,Q.Wide);break;case"EEEEE":e=ie(vt.Days,Q.Narrow);break;case"EEEEEE":e=ie(vt.Days,Q.Short);break;case"a":case"aa":case"aaa":e=ie(vt.DayPeriods,Q.Abbreviated);break;case"aaaa":e=ie(vt.DayPeriods,Q.Wide);break;case"aaaaa":e=ie(vt.DayPeriods,Q.Narrow);break;case"b":case"bb":case"bbb":e=ie(vt.DayPeriods,Q.Abbreviated,ne.Standalone,!0);break;case"bbbb":e=ie(vt.DayPeriods,Q.Wide,ne.Standalone,!0);break;case"bbbbb":e=ie(vt.DayPeriods,Q.Narrow,ne.Standalone,!0);break;case"B":case"BB":case"BBB":e=ie(vt.DayPeriods,Q.Abbreviated,ne.Format,!0);break;case"BBBB":e=ie(vt.DayPeriods,Q.Wide,ne.Format,!0);break;case"BBBBB":e=ie(vt.DayPeriods,Q.Narrow,ne.Format,!0);break;case"h":e=cn(tt.Hours,1,-12);break;case"hh":e=cn(tt.Hours,2,-12);break;case"H":e=cn(tt.Hours,1);break;case"HH":e=cn(tt.Hours,2);break;case"m":e=cn(tt.Minutes,1);break;case"mm":e=cn(tt.Minutes,2);break;case"s":e=cn(tt.Seconds,1);break;case"ss":e=cn(tt.Seconds,2);break;case"S":e=cn(tt.FractionalSeconds,1);break;case"SS":e=cn(tt.FractionalSeconds,2);break;case"SSS":e=cn(tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=X(sn.Short);break;case"ZZZZZ":e=X(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=X(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=X(sn.Long);break;default:return null}return an[n]=e,e}(I);w+=M?M(i,t,_):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function nr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Lt(n,e){const t=function be(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Xr[t]=Xr[t]||{},Xr[t][e])return Xr[t][e];let r="";switch(e){case"shortDate":r=Ht(n,re.Short);break;case"mediumDate":r=Ht(n,re.Medium);break;case"longDate":r=Ht(n,re.Long);break;case"fullDate":r=Ht(n,re.Full);break;case"shortTime":r=nn(n,re.Short);break;case"mediumTime":r=nn(n,re.Medium);break;case"longTime":r=nn(n,re.Long);break;case"fullTime":r=nn(n,re.Full);break;case"short":const i=Lt(n,"shortTime"),a=Lt(n,"shortDate");r=xr(Dt(n,re.Short),[i,a]);break;case"medium":const c=Lt(n,"mediumTime"),f=Lt(n,"mediumDate");r=xr(Dt(n,re.Medium),[c,f]);break;case"long":const _=Lt(n,"longTime"),w=Lt(n,"longDate");r=xr(Dt(n,re.Long),[_,w]);break;case"full":const I=Lt(n,"fullTime"),M=Lt(n,"fullDate");r=xr(Dt(n,re.Full),[I,M])}return r&&(Xr[t][e]=r),r}function xr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Wn(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),a+c}function cn(n,e,t=0,r=!1,i=!1){return function(a,c){let f=function dr(n,e){switch(n){case tt.FullYear:return e.getFullYear();case tt.Month:return e.getMonth();case tt.Date:return e.getDate();case tt.Hours:return e.getHours();case tt.Minutes:return e.getMinutes();case tt.Seconds:return e.getSeconds();case tt.FractionalSeconds:return e.getMilliseconds();case tt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===tt.Hours)0===f&&-12===t&&(f=12);else if(n===tt.FractionalSeconds)return function Or(n,e){return Wn(n,3).substring(0,e)}(f,e);const _=_t(c,ee.MinusSign);return Wn(f,e,_,r,i)}}function ie(n,e,t=ne.Format,r=!1){return function(i,a){return function ae(n,e,t,r,i,a){switch(t){case vt.Months:return function Ue(n,e,t){const r=(0,l.cg1)(n),a=mn([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return mn(a,t)}(e,i,r)[n.getMonth()];case vt.Days:return function qe(n,e,t){const r=(0,l.cg1)(n),a=mn([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return mn(a,t)}(e,i,r)[n.getDay()];case vt.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(a){const w=function kr(n){const e=(0,l.cg1)(n);return Gr(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Bn(r):[Bn(r[0]),Bn(r[1])])}(e),I=function St(n,e,t){const r=(0,l.cg1)(n);Gr(r);const a=mn([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return mn(a,t)||[]}(e,i,r),M=w.findIndex(z=>{if(Array.isArray(z)){const[G,te]=z,ye=c>=G.hours&&f>=G.minutes,Ve=c<te.hours||c===te.hours&&f<te.minutes;if(G.hours<te.hours){if(ye&&Ve)return!0}else if(ye||Ve)return!0}else if(z.hours===c&&z.minutes===f)return!0;return!1});if(-1!==M)return I[M]}return function $e(n,e,t){const r=(0,l.cg1)(n),a=mn([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return mn(a,t)}(e,i,r)[c<12?0:1];case vt.Eras:return function Xe(n,e){return mn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function X(n){return function(e,t,r){const i=-1*r,a=_t(t,ee.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case sn.Short:return(i>=0?"+":"")+Wn(c,2,a)+Wn(Math.abs(i%60),2,a);case sn.ShortGMT:return"GMT"+(i>=0?"+":"")+Wn(c,1,a);case sn.Long:return"GMT"+(i>=0?"+":"")+Wn(c,2,a)+":"+Wn(Math.abs(i%60),2,a);case sn.Extended:return 0===r?"Z":(i>=0?"+":"")+Wn(c,2,a)+":"+Wn(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function it(n){return nr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function yt(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=it(t),c=function He(n){const e=nr(n,0,1).getDay();return nr(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return Wn(i,n,_t(r,ee.MinusSign))}}function fn(n,e=!1){return function(t,r){return Wn(it(t).getFullYear(),n,_t(r,ee.MinusSign),e)}}const an={};function Ae(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function xt(n){return n instanceof Date&&!isNaN(n.valueOf())}function jo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let Ui=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class po{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ei=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new po(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),Qn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Qn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Qn(n,e){n.context.$implicit=e.item}let Sn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Oi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Oi{constructor(){this.$implicit=null,this.ngIf=null}}function xs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class zs{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ci=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ei=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new zs(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ci,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();function Ci(n,e){return new l.vHH(2100,!1)}class Np{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class ji{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ic=new ji,sc=new Np;let Nu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return ic;if((0,l.F4k)(t))return sc;throw Ci()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})();const z_=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Fa=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,a){if(null==t||""===t||t!=t)return null;try{return En(t,r,a||this.locale,i??this.defaultTimezone??void 0)}catch(c){throw Ci()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(z_,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0}),n})(),Ba=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const qr="browser";function Er(n){return n===qr}function ja(n){return"server"===n}let Wo=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new fr((0,l.LFG)(ge),window)}),n})();class fr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ha(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mh(this.window.history)||mh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mh(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Br{}class go extends class qo extends class ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ee(n){pe||(pe=n)}(new go)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function H(){return j=j||document.querySelector("base"),j?j.getAttribute("href"):null}();return null==t?null:function Me(n){fe=fe||document.createElement("a"),fe.setAttribute("href",n);const e=fe.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){j=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jo(document.cookie,e)}}let fe,j=null;const Se=new l.OlP("TRANSITION_ID"),At=[{provide:l.ip1,useFactory:function st(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=K(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Se,ge,l.zs3],multi:!0}];let pr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Cr=new l.OlP("EventManagerPlugins");let Nn=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class zt{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=K().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let is=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n extends is{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Yt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Yt))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Yt(n){K().remove(n)}const Hi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ii=/%COMP%/g;function cc(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?cc(n,i,t):(i=i.replace(Ii,n),t.push(i))}return t}function dc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ks=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Kr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new as(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new $_(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=cc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Nn),l.LFG(je),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Kr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Hi[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ko(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ko(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Hi[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Hi[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,dc(r)):this.eventManager.addEventListener(e,t,dc(r))}}function Ko(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class as extends Kr{constructor(e,t,r,i){super(e),this.component=r;const a=cc(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Ns(n){return"_ngcontent-%COMP%".replace(Ii,n)}(i+"-"+r.id),this.hostAttr=function _o(n){return"_nghost-%COMP%".replace(Ii,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class $_ extends Kr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=cc(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Vp=(()=>{class n extends zt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hc=["alt","control","meta","shift"],Vu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _h=(()=>{class n extends zt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>K().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(hc.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),c+=_+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function yh(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&fc.hasOwnProperty(e)&&(e=fc[e]))}return Vu[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hc.forEach(a=>{a!=i&&(0,pc[a])(t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const q_=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:qr},{provide:l.g9A,useValue:function _c(){go.makeCurrent()},multi:!0},{provide:ge,useFactory:function yc(){return(0,l.RDi)(document),document},deps:[]}]),vh=new l.OlP(""),Ur=[{provide:l.rWj,useClass:class rn{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?K().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Zs=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Bp(){return new l.qLn},deps:[]},{provide:Cr,useClass:Vp,multi:!0,deps:[ge,l.R0b,l.Lbi]},{provide:Cr,useClass:_h,multi:!0,deps:[ge]},{provide:Ks,useClass:Ks,deps:[Nn,je,l.AFp]},{provide:l.FYo,useExisting:Ks},{provide:is,useExisting:je},{provide:je,useClass:je,deps:[ge]},{provide:Nn,useClass:Nn,deps:[Cr,l.R0b]},{provide:Br,useClass:pr,deps:[]},[]];let Fn=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Se,useExisting:l.AFp},At]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vh,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Zs,...Ur],imports:[Ba,l.hGG]}),n})(),bh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Y_(){return new bh((0,l.LFG)(ge))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Yo=B(655),Et=B(1086),dn=B(8896),Wa=B(2102),It=B(4850),qn=B(5254),ti=B(1177);function Jn(n,e){return"function"==typeof e?t=>t.pipe(Jn((r,i)=>(0,qn.D)(n(r,i)).pipe((0,It.U)((a,c)=>e(r,a,i,c))))):t=>t.lift(new Cc(n))}class Cc{constructor(e){this.project=e}call(e,t){return t.subscribe(new $p(e,this.project))}}class $p extends ti.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new ti.IY(this),i=this.destination;i.add(r),this.innerSubscription=(0,ti.ft)(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Ut=B(8929),Hu=B(341),Ys=B(2654),Qo=B(5279),Dc=B(5283);class Ic extends Ut.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Jo(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=r.length;let c;if(this.closed)throw new Qo.N;if(this.isStopped||this.hasError?c=Ys.w.EMPTY:(this.observers.push(e),c=new Dc.W(this,e)),i&&e.add(e=new Wa.ht(e,i)),t)for(let f=0;f<a&&!e.closed;f++)e.next(r[f]);else for(let f=0;f<a&&!e.closed;f++)e.next(r[f].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),c}_getNow(){return(this.scheduler||Hu.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,a=i.length;let c=0;for(;c<a&&!(e-i[c].time<r);)c++;return a>t&&(c=Math.max(c,a-t)),c>0&&i.splice(0,c),i}}class Jo{constructor(e,t){this.time=e,this.value=t}}function Sc(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},i=>i.lift(function Tc({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let i,c,a=0,f=!1,_=!1;return function(I){let M;a++,!i||f?(f=!1,i=new Ic(n,e,r),M=i.subscribe(this),c=I.subscribe({next(z){i.next(z)},error(z){f=!0,i.error(z)},complete(){_=!0,c=void 0,i.complete()}}),_&&(c=void 0)):M=i.subscribe(this),this.add(()=>{a--,M.unsubscribe(),M=void 0,c&&!_&&t&&0===a&&(c.unsubscribe(),c=void 0,i=void 0)})}}(r))}var Un=B(7130),ir=B(2011),Gp=B(7982);class Ri extends Ut.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qo.N;return this._value}next(e){super.next(this._value=e)}}var qa=B(2866),Ch=B(6688),sr=B(3489);class Dh extends sr.L{notifyNext(e,t,r,i,a){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ka extends sr.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Za=B(9249),or=B(2916);function Wp(n,e,t,r,i=new Ka(n,t,r)){if(!i.closed)return e instanceof or.y?e.subscribe(i):(0,Za.s)(e)(i)}var Ac=B(3009);const bo={};function qp(...n){let e,t;return(0,qa.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Ch.k)(n[0])&&(n=n[0]),(0,Ac.n)(n,t).lift(new sy(e))}class sy{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Tn(e,this.resultSelector))}}class Tn extends Dh{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(bo),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Wp(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,c=this.toRespond?i[r]===bo?--this.toRespond:this.toRespond:0;i[r]=t,0===c&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}var Ya=B(1737);const Mc=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Qa=B(9146);function Ih(...n){return function Vw(){return(0,Qa.J)(1)}()((0,Et.of)(...n))}function Sh(n){return new or.y(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?(0,qn.D)(t):(0,dn.c)()).subscribe(e)})}var Ja=B(1762);const Kp=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function gn(n){return e=>0===n?(0,dn.c)():e.lift(new Th(n))}class Th{constructor(e){if(this.total=e,this.total<0)throw new Kp}call(e,t){return t.subscribe(new zu(e,this.total))}}class zu extends sr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Si(...n){const e=n[n.length-1];return(0,qa.K)(e)?(n.pop(),t=>Ih(n,t,e)):t=>Ih(n,t)}function $u(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new di(n,e,t))}}class di{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Qs(e,this.accumulator,this.seed,this.hasSeed))}}class Qs extends sr.L{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Rn(n,e){return function(r){return r.lift(new kc(n,e))}}class kc{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Xo(e,this.predicate,this.thisArg))}}class Xo extends sr.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function ls(n){return function(t){const r=new Ah(n),i=t.lift(r);return r.caught=i}}class Ah{constructor(e){this.selector=e}call(e,t){return t.subscribe(new oy(e,this.selector,this.caught))}}class oy extends ti.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(a){return void super.error(a)}this._unsubscribeAndRecycle();const r=new ti.IY(this);this.add(r);const i=(0,ti.ft)(t,r);i!==r&&this.add(i)}}}var ni=B(1709);function Js(n,e){return(0,ni.zg)(n,e,1)}function Fs(n){return function(t){return 0===n?(0,dn.c)():t.lift(new hi(n))}}class hi{constructor(e){if(this.total=e,this.total<0)throw new Kp}call(e,t){return t.subscribe(new Mh(e,this.total))}}class Mh extends sr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let a=0;a<r;a++){const c=t++%r;e.next(i[c])}}e.complete()}}function ea(n=Zp){return e=>e.lift(new Bw(n))}class Bw{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new xc(e,this.errorFactory))}}class xc extends sr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Zp(){return new Mc}function kh(n=null){return e=>e.lift(new ay(n))}class ay{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new xh(e,this.defaultValue))}}class xh extends sr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Yp=B(5379);function Ls(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rn((i,a)=>n(i,a,r)):Yp.y,gn(1),t?kh(e):ea(()=>new Mc))}var Kn=B(2868);function Oc(n){return e=>e.lift(new Gu(n))}class Gu{constructor(e){this.value=e}call(e,t){return t.subscribe(new ta(e,this.value))}}class ta extends sr.L{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}function na(n){return e=>e.lift(new uy(n))}class uy{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Rh(e,this.callback))}}class Rh extends sr.L{constructor(e,t){super(e),this.add(new Ys.w(t))}}var Rc=B(4327);class zi{constructor(e,t){this.id=e,this.url=t}}class ra extends zi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $i extends zi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wu extends zi{constructor(e,t,r){super(e,t),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ar extends zi{constructor(e,t,r){super(e,t),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qp extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jp extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qu extends zi{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ku extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ly extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ph{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cy{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nh{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ia{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class Xa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function sa(n){return new Xa(n)}const Nc="Redirecting to ",Fh="ngNavigationCancelingError";function Xs(n){const e=Error("NavigationCancelingError: "+(n||""));return e[Fh]=!0,e}function em(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!nm(n[i],e[i]))return!1;return!0}function nm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function dy(n){return Array.prototype.concat.apply([],n)}function Fc(n){return n.length>0?n[n.length-1]:null}function Zr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Gi(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,qn.D)(Promise.resolve(n)):(0,Et.of)(n)}const rm={exact:function Bc(n,e,t){if(!Vs(n.segments,e.segments)||!Eo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Bc(n.children[r],e.children[r],t))return!1;return!0},subset:Vh},hy={exact:function jw(n,e){return cs(n,e)},subset:function fy(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nm(n[t],e[t]))},ignored:()=>!0};function Lh(n,e,t){return rm[t.paths](n.root,e.root,t.matrixParams)&&hy[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Vh(n,e,t){return Qu(n,e,e.segments,t)}function Qu(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Vs(i,t)||e.hasChildren()||!Eo(i,t,r))}if(n.segments.length===t.length){if(!Vs(n.segments,t)||!Eo(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Vh(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Vs(n.segments,i)&&Eo(n.segments,i,r)&&n.children[Zt])&&Qu(n.children[Zt],e,a,r)}}function Eo(n,e,t){return e.every((r,i)=>hy[t](n[i].parameters,r.parameters))}class Wi{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return im.serialize(this)}}class hn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Zr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bs(this)}}class Ju{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=sa(this.parameters)),this._parameterMap}toString(){return om(this)}}function Vs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Bh{}class Uh{parse(e){const t=new vy(e);return new Wi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${oa(e.root,!0)}`,r=function um(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${eu(t)}=${eu(i)}`).join("&"):`${eu(t)}=${eu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function py(n){return encodeURI(n)}(e.fragment)}`:""}`}}const im=new Uh;function Bs(n){return n.segments.map(e=>om(e)).join("/")}function oa(n,e){if(!n.hasChildren())return Bs(n);if(e){const t=n.children[Zt]?oa(n.children[Zt],!1):"",r=[];return Zr(n.children,(i,a)=>{a!==Zt&&r.push(`${a}:${oa(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Uc(n,e){let t=[];return Zr(n.children,(r,i)=>{i===Zt&&(t=t.concat(e(r,i)))}),Zr(n.children,(r,i)=>{i!==Zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Zt?[oa(n.children[Zt],!1)]:[`${i}:${oa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${Bs(n)}/${t[0]}`:`${Bs(n)}/(${t.join("//")})`}}function sm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eu(n){return sm(n).replace(/%3B/gi,";")}function jc(n){return sm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qi(n){return decodeURIComponent(n)}function eo(n){return qi(n.replace(/\+/g,"%20"))}function om(n){return`${jc(n.path)}${function am(n){return Object.keys(n).map(e=>`;${jc(e)}=${jc(n[e])}`).join("")}(n.parameters)}`}const my=/^[^\/()?;=#]+/;function Hc(n){const e=n.match(my);return e?e[0]:""}const gy=/^[^=?&#]+/,aa=/^[^&#]+/;class vy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Zt]=new hn(e,t)),r}parseSegment(){const e=Hc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Ju(qi(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Hc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Hc(this.remaining);i&&(r=i,this.capture(r))}e[qi(t)]=qi(r)}parseQueryParam(e){const t=function _y(n){const e=n.match(gy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function yy(n){const e=n.match(aa);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=eo(t),a=eo(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Zt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Zt]:new hn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}class zc{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=lm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xu(e,this._root).map(t=>t.value)}}function lm(n,e){if(n===e.value)return e;for(const t of e.children){const r=lm(n,t);if(r)return r}return null}function Xu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Xu(n,t);if(r.length)return r.unshift(e),r}return[]}class Pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ua(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ni extends zc{constructor(e,t){super(e),this.snapshot=t,el(this,e)}toString(){return this.snapshot.toString()}}function tu(n,e){const t=function cm(n,e){const c=new Hh([],{},{},"",{},Zt,e,null,n.root,-1,{});return new by("",new Pi(c,[]))}(n,e),r=new Ri([new Ju("",{})]),i=new Ri({}),a=new Ri({}),c=new Ri({}),f=new Ri(""),_=new to(r,i,c,f,a,Zt,e,t.root);return _.snapshot=t.root,new Ni(new Pi(_,[]),t)}class to{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>sa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>sa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function zw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hh{constructor(e,t,r,i,a,c,f,_,w,I,M,z){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._correctedLastPathIndex=z??I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class by extends zc{constructor(e,t){super(t),this.url=e,el(this,t)}toString(){return tl(this._root)}}function el(n,e){e.value._routerState=n,e.children.forEach(t=>el(n,t))}function tl(n){const e=n.children.length>0?` { ${n.children.map(tl).join(", ")} } `:"";return`${n.value}${e}`}function la(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),cs(e.params,t.params)||n.params.next(t.params),function tm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),cs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function dm(n,e){const t=cs(n.params,e.params)&&function Hw(n,e){return Vs(n,e)&&n.every((t,r)=>cs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||dm(n.parent,e.parent))}function Co(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Co(n,r,i);return Co(n,r)})}(n,e,t);return new Pi(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Co(n,f)),c}}const r=function wy(n){return new to(new Ri(n.url),new Ri(n.params),new Ri(n.queryParams),new Ri(n.fragment),new Ri(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Co(n,a));return new Pi(r,i)}}function nl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Do(n){return"object"==typeof n&&null!=n&&n.outlets}function Gc(n,e,t,r,i){let a={};if(r&&Zr(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===e)return new Wi(t,a,i);const c=rl(n,e,t);return new Wi(c,a,i)}function rl(n,e,t){const r={};return Zr(n.children,(i,a)=>{r[a]=i===e?t:rl(i,e,t)}),new hn(n.segments,r)}class hm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nl(r[0]))throw new l.vHH(4003,false);const i=r.find(Do);if(i&&i!==Fc(r))throw new l.vHH(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Gh(n,e,t){if(n||(n=new hn([],{})),0===n.segments.length&&n.hasChildren())return qc(n,e,t);const r=function Cy(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(Do(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!qh(_,w,c))return a;r+=2}else{if(!qh(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new hn(n.segments.slice(0,r.pathIndex),{});return a.children[Zt]=new hn(n.segments.slice(r.pathIndex),n.children),qc(a,0,i)}return r.match&&0===i.length?new hn(n.segments,{}):r.match&&!n.hasChildren()?Wh(n,e,t):r.match?qc(n,0,i):Wh(n,e,t)}function qc(n,e,t){if(0===t.length)return new hn(n.segments,{});{const r=function fm(n){return Do(n[0])?n[0].outlets:{[Zt]:n}}(t),i={};return Zr(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=Gh(n.children[c],e,a))}),Zr(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new hn(n.segments,i)}}function Wh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Do(a)){const _=Dy(a.outlets);return new hn(r,_)}if(0===i&&nl(t[0])){r.push(new Ju(n.segments[e].path,pm(t[0]))),i++;continue}const c=Do(a)?a.outlets[Zt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&nl(f)?(r.push(new Ju(c,pm(f))),i+=2):(r.push(new Ju(c,{})),i++)}return new hn(r,{})}function Dy(n){const e={};return Zr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Wh(new hn([],{}),0,t))}),e}function pm(n){const e={};return Zr(n,(t,r)=>e[r]=`${t}`),e}function qh(n,e,t){return n==t.path&&cs(e,t.parameters)}class da{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Io,this.attachRef=null}}class Io{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new da,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const Kc=!1;let nu=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||Zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Kc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Kc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Kc);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,Kc);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new il(t,f,i.injector);if(r&&function Fi(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(c);this.activated=i.createComponent(w,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Io),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class il{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===to?this.route:e===Io?this.childContexts:this.parent.get(e,t)}}let ha=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[nu],encapsulation:2}),n})();function Kh(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Yh(n){const e=n.children&&n.children.map(Yh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=ha),t}function Li(n){return n.outlet||Zt}function ym(n,e){const t=n.filter(r=>Li(r)===e);return t.push(...n.filter(r=>Li(r)!==e)),t}function Qh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class sl{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),la(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ua(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Zr(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ua(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ua(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ua(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new wo(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ia(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(la(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),la(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Qh(i.snapshot),_=f?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}function fa(n){return"function"==typeof n}function An(n){return n instanceof Wi}const To=Symbol("INITIAL_VALUE");function ol(){return Jn(n=>qp(n.map(e=>e.pipe(gn(1),Si(To)))).pipe($u((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==To?i:(a===To&&(r=!0),r||!1!==a&&c!==t.length-1&&!An(a)?i:a),e)},To),Rn(e=>e!==To),(0,It.U)(e=>An(e)?e:!0===e),gn(1)))}const Xh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qc(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Xh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||em)(t,n,e);if(!i)return{...Xh};const a={};Zr(i.posParams,(f,_)=>{a[_]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function al(n,e,t,r,i="corrected"){if(t.length>0&&function g(n,e,t){return t.some(r=>k(n,e,r)&&Li(r)!==Zt)}(n,t,r)){const c=new hn(e,function p(n,e,t,r){const i={};i[Zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Li(a)!==Zt){const c=new hn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Li(a)]=c}return i}(n,e,r,new hn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function b(n,e,t){return t.some(r=>k(n,e,r))}(n,t,r)){const c=new hn(n.segments,function y(n,e,t,r,i,a){const c={};for(const f of r)if(k(n,t,f)&&!i[Li(f)]){const _=new hn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Li(f)]=_}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new hn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function k(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function F(n,e,t,r){return!!(Li(n)===r||r!==Zt&&k(e,t,n))&&("**"===n.path||Qc(e,n,t).matched)}function le(n,e,t){return 0===e.length&&!n.children[t]}const Ie=!1;class Je{constructor(e){this.segmentGroup=e||null}}class ft{constructor(e){this.urlTree=e}}function Ot(n){return(0,Ya._)(new Je(n))}function kt(n){return(0,Ya._)(new ft(n))}class Jc{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=al(this.urlTree.root,[],[],this.config).segmentGroup,t=new hn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Zt).pipe((0,It.U)(a=>this.createUrlTree(ul(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ls(a=>{if(a instanceof ft)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Je?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Zt).pipe((0,It.U)(i=>this.createUrlTree(ul(i),e.queryParams,e.fragment))).pipe(ls(i=>{throw i instanceof Je?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,Ie)}createUrlTree(e,t,r){const i=e.segments.length>0?new hn([],{[Zt]:e}):e;return new Wi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(a=>new hn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,qn.D)(i).pipe(Js(a=>{const c=r.children[a],f=ym(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,It.U)(_=>({segment:_,outlet:a})))}),$u((a,c)=>(a[c.outlet]=c.segment,a),{}),function Oh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rn((i,a)=>n(i,a,r)):Yp.y,Fs(1),t?kh(e):ea(()=>new Mc))}())}expandSegment(e,t,r,i,a,c){return(0,qn.D)(r).pipe(Js(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(ls(w=>{if(w instanceof Je)return(0,Et.of)(null);throw w}))),Ls(f=>!!f),ls((f,_)=>{if(f instanceof Mc||"EmptyError"===f.name)return le(t,i,a)?(0,Et.of)(new hn([],{})):Ot(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return F(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Ot(t):Ot(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kt(a):this.lineralizeSegments(r,a).pipe((0,ni.zg)(c=>{const f=new hn(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=Qc(t,i,a);if(!f)return Ot(t);const M=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?kt(M):this.lineralizeSegments(i,M).pipe((0,ni.zg)(z=>this.expandSegment(e,t,r,z.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return e=Kh(r,e),r.loadChildren?(r._loadedRoutes?(0,Et.of)({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,It.U)(M=>(r._loadedRoutes=M.routes,r._loadedInjector=M.injector,new hn(i,{})))):(0,Et.of)(new hn(i,{}));const{matched:c,consumedSegments:f,remainingSegments:_}=Qc(t,r,i);return c?(e=Kh(r,e),this.getChildConfig(e,r,i).pipe((0,ni.zg)(I=>{const M=I.injector??e,z=I.routes,{segmentGroup:G,slicedSegments:te}=al(t,f,_,z),ye=new hn(G.segments,G.children);if(0===te.length&&ye.hasChildren())return this.expandChildren(M,z,ye).pipe((0,It.U)(Vt=>new hn(f,Vt)));if(0===z.length&&0===te.length)return(0,Et.of)(new hn(f,{}));const Ve=Li(r)===a;return this.expandSegment(M,ye,z,te,Ve?Zt:a,!0).pipe((0,It.U)(bt=>new hn(f.concat(bt.segments),bt.children)))}))):Ot(t)}getChildConfig(e,t,r){return t.children?(0,Et.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Et.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,r).pipe((0,ni.zg)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Kn.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Ir(n){return(0,Ya._)(Xs(Ie))}())):(0,Et.of)({routes:[],injector:e})}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return(0,Et.of)(!0);const a=i.map(c=>{const f=e.get(c);return Gi(function no(n){return n&&fa(n.canLoad)}(f)?f.canLoad(t,r):f(t,r))});return(0,Et.of)(a).pipe(ol(),(0,Kn.b)(c=>{if(!An(c))return;const f=Xs(Nc+this.urlSerializer.serialize(c));throw f.url=c,f}),(0,It.U)(c=>!0===c))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Et.of)(r);if(i.numberOfChildren>1||!i.children[Zt])return(0,Ya._)(new l.vHH(4e3,Ie));i=i.children[Zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Wi(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Zr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Zr(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new hn(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,Ie);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function ul(n){const e={};for(const r of Object.keys(n.children)){const a=ul(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function ef(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new hn(n.segments.concat(e.segments),e.children)}return n}(new hn(n.segments,e))}class Ao{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class iu{constructor(e,t){this.component=e,this.route=t}}function tf(n,e,t){const r=n._root;return su(r,e?e._root:null,t,[r.value])}function pa(n,e,t){return(Qh(e)??t).get(n)}function su(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=ua(e);return n.children.forEach(c=>{(function wm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function ou(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vs(n.url,e.url)||!cs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dm(n,e)||!cs(n.queryParams,e.queryParams);default:return!dm(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Ao(r)):(a.data=c.data,a._resolvedData=c._resolvedData),su(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new iu(f.outlet.component,c))}else c&&cl(e,f,i),i.canActivateChecks.push(new Ao(r)),su(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Zr(a,(c,f)=>cl(c,t.getContext(f),i)),i}function cl(n,e,t){const r=ua(n),i=n.value;Zr(r,(a,c)=>{cl(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new iu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class qw{}function Em(n){return new or.y(e=>e.error(n))}class My{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=al(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Zt);if(null===t)return null;const r=new Hh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Pi(r,t),a=new by(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=jh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=ym(e,a),_=this.processSegmentGroup(f,c,a);if(null===_)return null;r.push(..._)}const i=ky(r);return function BI(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return le(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!F(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const G=r.length>0?Fc(r).parameters:{},te=Oy(t)+r.length;a=new Hh(r,G,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jI(e),Li(e),e.component??e._loadedComponent??null,e,xy(t),te,nf(e),te)}else{const G=Qc(t,e,r);if(!G.matched)return null;c=G.consumedSegments,f=G.remainingSegments;const te=Oy(t)+c.length;a=new Hh(c,G.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jI(e),Li(e),e.component??e._loadedComponent??null,e,xy(t),te,nf(e),te)}const _=function UI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:w,slicedSegments:I}=al(t,c,f,_.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const G=this.processChildren(_,w);return null===G?null:[new Pi(a,G)]}if(0===_.length&&0===I.length)return[new Pi(a,[])];const M=Li(e)===i,z=this.processSegment(_,w,I,M?Zt:i);return null===z?null:[new Pi(a,z)]}}function Zw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ky(n){const e=[],t=new Set;for(const r of n){if(!Zw(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ky(r.children);e.push(new Pi(r.value,i))}return e.filter(r=>!t.has(r))}function xy(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Oy(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function jI(n){return n.data||{}}function nf(n){return n.resolve||{}}const Cm=Symbol("RouteTitle");function rf(n){return"string"==typeof n.title||null===n.title}function Im(n){return Jn(e=>{const t=n(e);return t?(0,qn.D)(t).pipe((0,It.U)(()=>e)):(0,Et.of)(e)})}class Ny extends class e0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Fy=new l.OlP("ROUTES");let Sm=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Et.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Gi(t.loadComponent()).pipe((0,Kn.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),na(()=>{this.componentLoaders.delete(t)})),i=new Ja.c(r,()=>new Ut.xQ).pipe((0,Rc.x)());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Et.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,It.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,I=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=dy(_.get(Fy,[],l.XFs.Self|l.XFs.Optional)));return{routes:w.map(Yh),injector:_}}),na(()=>{this.childrenLoaders.delete(r)})),c=new Ja.c(a,()=>new Ut.xQ).pipe((0,Rc.x)());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Gi(t()).pipe((0,ni.zg)(r=>r instanceof l.YKP||Array.isArray(r)?(0,Et.of)(r):(0,qn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class $I{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Vy(n){throw n}function t0(n,e,t){return e.parse("/")}const _x={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class n{constructor(t,r,i,a,c,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ut.xQ,this.errorHandler=Vy,this.malformedUriErrorHandler=t0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Et.of)(void 0),this.urlHandlingStrategy=new $I,this.routeReuseStrategy=new Ny,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Sm),this.configLoader.onLoadEndListener=z=>this.triggerEvent(new cy(z)),this.configLoader.onLoadStartListener=z=>this.triggerEvent(new Ph(z)),this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const M=c.get(l.R0b);this.isNgZoneEnabled=M instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Vc(){return new Wi(new hn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tu(this.currentUrlTree,this.rootComponentType),this.transitions=new Ri({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Rn(i=>0!==i.id),(0,It.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Jn(i=>{let a=!1,c=!1;return(0,Et.of)(i).pipe((0,Kn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jn(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return s0(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,Et.of)(f).pipe(Jn(M=>{const z=this.transitions.getValue();return r.next(new ra(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),z!==this.transitions.getValue()?dn.E:Promise.resolve(M)}),function bm(n,e,t,r){return Jn(i=>function ru(n,e,t,r,i){return new Jc(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,It.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kn.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects}}),function HI(n,e,t,r,i){return(0,ni.zg)(a=>function Kw(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new My(n,e,t,r,i,a).recognize();return null===c?Em(new qw):(0,Et.of)(c)}catch(c){return Em(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,It.U)(c=>({...a,targetSnapshot:c}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kn.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(G,M)}this.browserUrlTree=M.urlAfterRedirects}const z=new Qp(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(z)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:G,source:te,restoredState:ye,extras:Ve}=f,nt=new ra(z,this.serializeUrl(G),te,ye);r.next(nt);const bt=tu(G,this.rootComponentType).snapshot;return(0,Et.of)({...f,targetSnapshot:bt,urlAfterRedirects:G,extras:{...Ve,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),dn.E}),(0,Kn.b)(f=>{const _=new Jp(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,It.U)(f=>({...f,guards:tf(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Ww(n,e){return(0,ni.zg)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?(0,Et.of)({...t,guardsResult:!0}):function RI(n,e,t,r){return(0,qn.D)(n).pipe((0,ni.zg)(i=>function VI(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Et.of)(!0);const c=a.map(f=>{const _=pa(f,e,i);return Gi(function Sy(n){return n&&fa(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,r):_(n,e,t,r)).pipe(Ls())});return(0,Et.of)(c).pipe(ol())}(i.component,i.route,t,e,r)),Ls(i=>!0!==i,!0))}(c,r,i,n).pipe((0,ni.zg)(f=>f&&function Jh(n){return"boolean"==typeof n}(f)?function Ty(n,e,t,r){return(0,qn.D)(e).pipe(Js(i=>Ih(function NI(n,e){return null!==n&&e&&e(new Nh(n)),(0,Et.of)(!0)}(i.route.parent,r),function PI(n,e){return null!==n&&e&&e(new Xp(n)),(0,Et.of)(!0)}(i.route,r),function LI(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function ll(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Sh(()=>{const f=c.guards.map(_=>{const w=pa(_,c.node,t);return Gi(function vm(n){return n&&fa(n.canActivateChild)}(w)?w.canActivateChild(r,n):w(r,n)).pipe(Ls())});return(0,Et.of)(f).pipe(ol())}));return(0,Et.of)(a).pipe(ol())}(n,i.path,t),function FI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Et.of)(!0);const i=r.map(a=>Sh(()=>{const c=pa(a,e,t);return Gi(function Yc(n){return n&&fa(n.canActivate)}(c)?c.canActivate(e,n):c(e,n)).pipe(Ls())}));return(0,Et.of)(i).pipe(ol())}(n,i.route,t))),Ls(i=>!0!==i,!0))}(r,a,n,e):(0,Et.of)(f)),(0,It.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Kn.b)(f=>{if(An(f.guardsResult)){const w=Xs(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new qu(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Rn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Im(f=>{if(f.guards.canActivateChecks.length)return(0,Et.of)(f).pipe((0,Kn.b)(_=>{const w=new Ku(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Jn(_=>{let w=!1;return(0,Et.of)(_).pipe(function Qw(n,e){return(0,ni.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Et.of)(t);let a=0;return(0,qn.D)(i).pipe(Js(c=>function Jw(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!rf(i)&&(a[Cm]=i.title),function Ry(n,e,t,r){const i=function Xw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,Et.of)({});const a={};return(0,qn.D)(i).pipe((0,ni.zg)(c=>function Dm(n,e,t,r){const i=pa(n,e,r);return Gi(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe(Ls(),(0,Kn.b)(f=>{a[c]=f}))),Fs(1),Oc(a),ls(c=>c instanceof Mc?dn.E:(0,Ya._)(c)))}(a,n,e,r).pipe((0,It.U)(c=>(n._resolvedData=c,n.data=jh(n,t).resolve,i&&rf(i)&&(n.data[Cm]=i.title),null)))}(c.route,r,n,e)),(0,Kn.b)(()=>a++),Fs(1),(0,ni.zg)(c=>a===i.length?(0,Et.of)(t):dn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Kn.b)(_=>{const w=new ly(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Im(f=>{const _=w=>{const I=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Kn.b)(M=>{w.component=M}),(0,It.U)(()=>{})));for(const M of w.children)I.push(..._(M));return I};return qp(_(f.targetSnapshot.root)).pipe(kh(),gn(1))}),Im(()=>this.afterPreactivation()),(0,It.U)(f=>{const _=function $w(n,e,t){const r=Co(n,e._root,t?t._root:void 0);return new Ni(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return{...f,targetRouterState:_}}),(0,Kn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new sl(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Kn.b)({next(){a=!0},complete(){a=!0}}),na(()=>{a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ls(f=>{if(c=!0,function Yu(n){return n&&n[Fh]}(f)){const _=An(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new Wu(i.id,this.serializeUrl(i.extractedUrl),f.message);if(r.next(w),_){const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||s0(i.source)};this.scheduleNavigation(I,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new ar(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return dn.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Yh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,I=_?this.currentUrlTree.fragment:c;let M=null;switch(f){case"merge":M={...this.currentUrlTree.queryParams,...a};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),function $c(n,e,t,r,i){if(0===t.length)return Gc(e.root,e.root,e.root,r,i);const a=function mr(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hm(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Zr(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new hm(t,e,r)}(t);return a.toRoot()?Gc(e.root,e.root,new hn([],{}),r,i):function c(_){const w=function Ey(n,e,t,r){return n.isAbsolute?new Wc(e.root,!0,0):-1===r?new Wc(t,t===e.root,0):function ca(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new Wc(r,!1,i-a)}(t,r+(nl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=w.processChildren?qc(w.segmentGroup,w.index,a.commands):Gh(w.segmentGroup,w.index,a.commands);return Gc(e.root,w.segmentGroup,I,r,i)}(n.snapshot?._lastPathIndex)}(w,this.currentUrlTree,t,M,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=An(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function r0(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{..._x}:!1===r?{...n0}:r,An(t))return Lh(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Lh(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new $i(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,_,w;c?(f=c.resolve,_=c.reject,w=c.promise):w=new Promise((z,G)=>{f=z,_=G});const I=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:I,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(z=>Promise.reject(z))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Wu(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function s0(n){return"imperative"!==n}class a0{buildTitle(e){let t,r=e.root;for(;void 0!==r;)t=this.getResolvedTitleForRoute(r)??t,r=r.children.find(i=>i.outlet===Zt);return t}getResolvedTitleForRoute(e){return e.data[Cm]}}let WI=(()=>{class n extends a0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class u0{}let l0=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(t=>t instanceof $i),Js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,qn.D)(i).pipe((0,Qa.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Et.of)(null);const a=i.pipe((0,ni.zg)(c=>null===c?(0,Et.of)(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,qn.D)([a,c]).pipe((0,Qa.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(u0),l.LFG(Sm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const c0=new l.OlP("");let KI=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ra?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $i&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Zu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Tm=new l.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),Uy=new l.OlP("ROUTER_FORROOT_GUARD"),d0=new l.OlP(""),YI=[x,{provide:Bh,useClass:Uh},{provide:fi,useFactory:function m0(n,e,t,r,i,a,c={},f,_,w,I){const M=new fi(null,n,e,t,r,i,dy(a));return w&&(M.urlHandlingStrategy=w),I&&(M.routeReuseStrategy=I),M.titleStrategy=_??f,function XI(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,M),M},deps:[Bh,Io,x,l.zs3,l.Sil,Fy,Tm,WI,[a0,new l.FiY],[class zI{},new l.FiY],[class Py{},new l.FiY]]},Io,{provide:to,useFactory:function g0(n){return n.routerState.root},deps:[fi]},Sm];function h0(){return new l.PXZ("Router",fi)}let f0=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[YI,[],Am(t),{provide:Uy,useFactory:vx,deps:[[fi,new l.FiY,new l.tp0]]},{provide:Tm,useValue:r||{}},r?.useHash?{provide:xe,useClass:E}:{provide:xe,useClass:dt},{provide:c0,useFactory:()=>{const n=(0,l.f3M)(fi),e=(0,l.f3M)(Wo),t=(0,l.f3M)(Tm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new KI(n,e,t)}},r?.preloadingStrategy?jy(r.preloadingStrategy):[],{provide:l.PXZ,multi:!0,useFactory:h0},r?.initialNavigation?bx(r):[],[{provide:Mm,useFactory:_0},{provide:l.tb,multi:!0,useExisting:Mm}]]}}static forChild(t){return{ngModule:n,providers:[Am(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Uy,8),l.LFG(fi,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function vx(n){return"guarded"}function Am(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Fy,multi:!0,useValue:n}]}function _0(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(fi),i=n.get(km);null===n.get(xm,null,l.XFs.Optional)&&r.initialNavigation(),n.get(d0,null,l.XFs.Optional)?.setUpPreloading(),n.get(c0,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Mm=new l.OlP("");function bx(n){return["disabled"===n.initialNavigation?[{provide:l.ip1,multi:!0,useFactory:()=>{const n=(0,l.f3M)(fi);return()=>{n.setUpLocationChangeListener()}}},{provide:xm,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:xm,useValue:"enabledBlocking"},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:n=>{const e=n.get(U,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(i=>{const a=n.get(fi),c=n.get(km);(function r(i){const a=n.get(fi);a.events.pipe(Rn(c=>c instanceof $i||c instanceof Wu||c instanceof ar),(0,It.U)(c=>{if(c instanceof $i)return!0;const f=a.navigationId!==c.id,_=c instanceof Wu&&-1!==c.reason.indexOf(Nc);return!(!f&&!_)&&null}),Rn(c=>null!==c),gn(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),a.afterPreactivation=()=>(i(!0),t||c.closed?(0,Et.of)(void 0):c),a.initialNavigation()}))}}]:[]]}const km=new l.OlP("",{factory:()=>new Ut.xQ}),xm=new l.OlP("");function jy(n){return[l0,{provide:d0,useExisting:l0},{provide:u0,useExisting:n}]}var hl=B(6787);function sf(n,e){return e?Jn(()=>n,e):Jn(()=>n)}var Hy=B(3334);B(5867);var Ne=B(5861),ga=B(9681),Rm=B(4859),pn=B(2090),pl=B(1877);const uS=new Map,lS={activated:!1,tokenObservers:[]},b0={initialized:!1,enabled:!1};function pi(n){return uS.get(n)||lS}function ro(n,e){uS.set(n,e)}function _a(){return b0}class hS{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new pn.BH,yield function fS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new pn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Vi=new pn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function E0(n){if(!pi(n).activated)throw Vi.create("use-before-activation",{appName:n.name})}function lf(n,e){return C0.apply(this,arguments)}function C0(){return(C0=(0,Ne.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const G=yield c.getHeartbeatsHeader();G&&(a["X-Firebase-Client"]=G)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,w;try{_=yield fetch(n,f)}catch(G){throw Vi.create("fetch-network-error",{originalErrorMessage:null===(r=G)||void 0===r?void 0:r.message})}if(200!==_.status)throw Vi.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(G){throw Vi.create("fetch-parse-error",{originalErrorMessage:null===(i=G)||void 0===i?void 0:i.message})}const I=w.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Vi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const M=1e3*Number(I[1]),z=Date.now();return{token:w.token,expireTimeMillis:z+M,issuedAtTimeMillis:z}})).apply(this,arguments)}function Sx(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const cf="firebase-app-check-store";let id=null;function gS(){return id||(id=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Vi.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(cf,{keyPath:"compositeKey"})}}catch(r){e(Vi.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),id)}function S0(){return(S0=(0,Ne.Z)(function*(n,e){const r=(yield gS()).transaction(cf,"readwrite"),a=r.objectStore(cf).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var w;f(Vi.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const sd=new pl.Yd("@firebase/app-check");function Zy(n,e){return(0,pn.hl)()?function Ky(n,e){return function _S(n,e){return S0.apply(this,arguments)}(function Lm(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Yy(){return _a().enabled}function T0(){return df.apply(this,arguments)}function df(){return(df=(0,Ne.Z)(function*(){const n=_a();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Qy={error:"UNKNOWN_ERROR"};function A0(n){return pn.US.encodeString(JSON.stringify(n),!1)}function od(n){return M0.apply(this,arguments)}function M0(){return(M0=(0,Ne.Z)(function*(n,e=!1){const t=n.app;E0(t);const r=pi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&ad(_)&&(i=_)}if(!e&&i&&ad(i))return{token:i.token};let f,c=!1;if(Yy()){r.exchangeTokenPromise||(r.exchangeTokenPromise=lf(Sx(t,yield T0()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),c=!0);const _=yield r.exchangeTokenPromise;return yield Zy(t,_),ro(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?sd.warn(_.message):sd.error(_),a=_}return i?(f={token:i.token},ro(t,Object.assign(Object.assign({},r),{token:i})),yield Zy(t,i)):f=Jy(a),c&&Hm(t,f),f})).apply(this,arguments)}function k0(n,e){const t=pi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ro(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function hf(n){const{app:e}=n,t=pi(e);let r=t.tokenRefresher;r||(r=function jm(n){const{app:e}=n;return new hS((0,Ne.Z)(function*(){let r;if(r=pi(e).token?yield od(n,!0):yield od(n),r.error)throw r.error}),()=>!0,()=>{const t=pi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ro(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Hm(n,e){const t=pi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ad(n){return n.expireTimeMillis-Date.now()>0}function Jy(n){return{token:A0(Qy),error:n}}class kx{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=pi(this.app);for(const t of e)k0(this.app,t.next);return Promise.resolve()}}const nv="app-check-internal";!function rv(){(0,ga._registerComponent)(new Rm.wA("app-check",n=>function bS(n,e){return new kx(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nv).initialize()})),(0,ga._registerComponent)(new Rm.wA(nv,n=>function wS(n){return{getToken:e=>od(n,e),addTokenListener:e=>function Um(n,e,t,r){const{app:i}=n,a=pi(i),c={next:t,error:r,type:e};if(ro(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&ad(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),hf(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>hf(n))}(n,"INTERNAL",e),removeTokenListener:e=>k0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ga.registerVersion)("@firebase/app-check","0.5.12")}();class zm{constructor(){return(0,Un.vb)("app-check")}}typeof window<"u"&&window;var ld=B(127);const ov=new l.OlP("angularfire2.auth.use-emulator"),Wm=new l.OlP("angularfire2.auth.settings"),L0=new l.OlP("angularfire2.auth.tenant-id"),PS=new l.OlP("angularfire2.auth.langugage-code"),V0=new l.OlP("angularfire2.auth.use-device-language"),av=new l.OlP("angularfire.auth.persistence"),B0=(n,e,t,r,i,a,c,f)=>(0,ir.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[w,I]of Object.entries(c))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let qm=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,M,z,G){const te=new Ut.xQ,ye=(0,Et.of)(void 0).pipe((0,Wa.QV)(c.outsideAngular),Jn(()=>a.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,1451)))),(0,It.U)(()=>(0,ir.on)(t,a,r)),(0,It.U)(Ve=>B0(Ve,a,f,w,I,M,_,z)),Sc({bufferSize:1,refCount:!1}));if(ja(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Et.of)(null);else{ye.pipe(Ls()).subscribe();const nt=ye.pipe(Jn(Tt=>Tt.getRedirectResult().then(tn=>tn,()=>null)),Un.iC,Sc({bufferSize:1,refCount:!1})),bt=ye.pipe(Jn(Tt=>new or.y(tn=>({unsubscribe:a.runOutsideAngular(()=>Tt.onAuthStateChanged(ln=>tn.next(ln),ln=>tn.error(ln),()=>tn.complete()))})))),Vt=ye.pipe(Jn(Tt=>new or.y(tn=>({unsubscribe:a.runOutsideAngular(()=>Tt.onIdTokenChanged(ln=>tn.next(ln),ln=>tn.error(ln),()=>tn.complete()))}))));this.authState=nt.pipe(sf(bt),(0,Hy.R)(c.outsideAngular),(0,Wa.QV)(c.insideAngular)),this.user=nt.pipe(sf(Vt),(0,Hy.R)(c.outsideAngular),(0,Wa.QV)(c.insideAngular)),this.idToken=this.user.pipe(Jn(Tt=>Tt?(0,qn.D)(Tt.getIdToken()):(0,Et.of)(null))),this.idTokenResult=this.user.pipe(Jn(Tt=>Tt?(0,qn.D)(Tt.getIdTokenResult()):(0,Et.of)(null))),this.credential=(0,hl.T)(nt,te,this.authState.pipe(Rn(Tt=>!Tt))).pipe((0,It.U)(Tt=>Tt?.user?Tt:null),(0,Hy.R)(c.outsideAngular),(0,Wa.QV)(c.insideAngular))}return(0,ir.pX)(this,ye,a,{spy:{apply:(Ve,nt,bt)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&bt.then(Vt=>te.next(Vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ir.Dh),l.LFG(ir.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Un.HU),l.LFG(ov,8),l.LFG(Wm,8),l.LFG(L0,8),l.LFG(PS,8),l.LFG(V0,8),l.LFG(av,8),l.LFG(zm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class fs{constructor(e,t,r,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=i}call(e,t){return t.subscribe(new FS(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class FS extends sr.L{constructor(e,t,r,i,a){super(e),this.keySelector=t,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=a,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)}_group(e,t){let r=this.groups;r||(r=this.groups=new Map);let a,i=r.get(t);if(this.elementSelector)try{a=this.elementSelector(e)}catch(c){this.error(c)}else a=e;if(!i){i=this.subjectSelector?this.subjectSelector():new Ut.xQ,r.set(t,i);const c=new VS(t,i,this);if(this.destination.next(c),this.durationSelector){let f;try{f=this.durationSelector(new VS(t,i))}catch(_){return void this.error(_)}this.add(f.subscribe(new LS(t,i,this)))}}i.closed||i.next(a)}_error(e){const t=this.groups;t&&(t.forEach((r,i)=>{r.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((t,r)=>{t.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class LS extends sr.L{constructor(e,t,r){super(t),this.key=e,this.group=t,this.parent=r}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class VS extends or.y{constructor(e,t,r){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=r}_subscribe(e){const t=new Ys.w,{refCountSubscription:r,groupSubject:i}=this;return r&&!r.closed&&t.add(new BS(r)),t.add(i.subscribe(e)),t}}class BS extends Ys.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;!e.closed&&!this.closed&&(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}function au(n,e){return t=>t.lift(new U0(n,e))}class U0{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new US(e,this.compare,this.keySelector))}}class US extends sr.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}function Km(){return n=>n.lift(new jS)}class jS{call(e,t){return t.subscribe(new j0(e))}}class j0 extends sr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}const _f="firebase_screen_id",hv="outlet",cd="screen_class",YS="screen_name";let QS=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Zm={},z0=n=>{const e=[n[cd],n[hv]].join("#");if(Zm.hasOwnProperty(e))return Zm[e];{const t=QS++;return Zm[e]=t,t}},Yx=new l.OlP("angularfire2.analytics.analyticsCollectionEnabled"),G0=new l.OlP("angularfire2.analytics.appVersion"),gv=new l.OlP("angularfire2.analytics.appName"),tT=new l.OlP("angularfire2.analytics.debugMode"),_v=new l.OlP("angularfire2.analytics.config"),Jm="dataLayer";let io=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I){if(this.analyticsInitialized=new Promise(()=>{}),Er(_)){window[Jm]=window[Jm]||[];const z=(...ye)=>"config"===ye[0]&&"firebase"===ye[2].origin&&(this.measurementId=ye[1],!0),G=ye=>{window.gtag=(...Ve)=>{ye&&ye(...Ve),"event"===Ve[0]&&Ve[2].send_to===this.measurementId&&(a&&(Ve[2].app_name=a),i&&(Ve[2].app_version=i)),c&&typeof console<"u"&&console.info(...Ve),function(...nt){window[Jm].push(arguments)}(...Ve)}};window[Jm].some(z)?(this.analyticsInitialized=Promise.resolve(),G()):this.analyticsInitialized=new Promise(ye=>{G((...Ve)=>{z(...Ve)&&ye()})}),f&&this.updateConfig(f),c&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const M=(0,Et.of)(void 0).pipe((0,Wa.QV)(I.outsideAngular),Jn(Gp.Gb),Jn(z=>z?w.runOutsideAngular(()=>B.e(643).then(B.bind(B,8643))):dn.E),(0,It.U)(()=>(0,ir.cc)("analytics","AngularFireAnalytics",t.name,()=>{const z=t.analytics();return!1===r&&z.setAnalyticsCollectionEnabled(!1),z},[t,r,f,c])),Sc({bufferSize:1,refCount:!1}));return(0,ir.pX)(this,M,w)}updateConfig(t){return(0,Yo.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ir.Ot),l.LFG(Yx,8),l.LFG(G0,8),l.LFG(gv,8),l.LFG(tT,8),l.LFG(_v,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Un.HU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oT=(()=>{class n{constructor(t,r,i,a){if(this.disposables=[],ld.Z.registerVersion("angularfire",Un.q4.full,"compat-user-tracking"),ja(r))this.initialized=Promise.resolve();else{let c;this.initialized=a.runOutsideAngular(()=>new Promise(f=>c=f)),this.disposables=[i.authState.subscribe(f=>{t.setUserId(f?.uid),c()}),i.credential.subscribe(f=>{if(f){const _=f.user.isAnonymous?"anonymous":f.additionalUserInfo.providerId;f.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:_}),t.logEvent("login",{method:_})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(io),l.LFG(l.Lbi),l.LFG(qm),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),aT=(()=>{class n{constructor(t,r,i,a,c,f){if(ld.Z.registerVersion("angularfire",Un.q4.full,"compat-screen-tracking"),!r||!t)return this;c.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Rn(i=>i instanceof wo)).pipe(Jn(i=>{var a;const f=(null===(a=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,G=>G.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===a?void 0:a.toString())||"",_=n.routerState.root.children.map(G=>G).find(G=>G.outlet===i.snapshot.outlet);if(!_)return(0,Et.of)(null);let w=_;for(;w.firstChild;)w=w.firstChild;const I=w.pathFromRoot.map(G=>{var te;return null===(te=G.routeConfig)||void 0===te?void 0:te.path}).filter(G=>G).join("/")||"/",M={[YS]:I,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:I,[hv]:i.snapshot.outlet};e&&(M.page_title=e.getTitle());let z=_.component;if(z){if(z===ha){let G=i.snapshot;for(;G.firstChild;)G=G.firstChild;z=G.component}}else z=i.snapshot.component;if("string"==typeof z)return(0,Et.of)(Object.assign(Object.assign({},M),{[cd]:z}));if(z){const G=t.resolveComponentFactory(z);return(0,Et.of)(Object.assign(Object.assign({},M),{[cd]:G.selector}))}return(0,Et.of)(null)}),Rn(i=>!!i),(0,It.U)(i=>Object.assign({firebase_screen_class:i[cd],[_f]:z0(i)},i)),function NS(n,e,t,r){return i=>i.lift(new fs(n,e,t,r))}(i=>i[hv]),(0,ni.zg)(i=>i.pipe(au((a,c)=>JSON.stringify(a)===JSON.stringify(c)),Si(void 0),Km(),(0,It.U)(([a,c])=>a?Object.assign({firebase_previous_class:a[cd],firebase_previous_screen:a[YS],firebase_previous_id:a[_f]},c):c)))))(r,i,a).pipe(Jn(_=>(0,Yo.mG)(this,void 0,void 0,function*(){return f&&(yield f.initialized),yield t.logEvent("screen_view",_)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(io),l.LFG(fi,8),l.LFG(bh,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(oT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),uT=(()=>{class n{constructor(t,r,i){ld.Z.registerVersion("angularfire",Un.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(io),l.LFG(aT,8),l.LFG(oT,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[io]}),n})();var ht,dd=B(353),ko=(B(1451),B(3942)),vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={},hd=hd||{},Rt=vf||self;function fd(){}function uu(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function xo(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lu="closure_uid_"+(1e9*Math.random()>>>0),md=0;function gd(n,e,t){return n.call.apply(n.bind,arguments)}function _d(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Sr(n,e,t){return(Sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gd:_d).apply(null,arguments)}function wa(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ri(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Ea(){this.s=this.s,this.o=this.o}var K0={};Ea.prototype.s=!1,Ea.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function pd(n){return Object.prototype.hasOwnProperty.call(n,lu)&&n[lu]||(n[lu]=++md)}(this);delete K0[n]}},Ea.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},vv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function bv(n){return Array.prototype.concat.apply([],arguments)}function eg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tg(n){return/^[\s\xa0]*$/.test(n)}var Ti,Y0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ki(n,e){return-1!=n.indexOf(e)}function wv(n,e){return n<e?-1:n>e?1:0}e:{var Q0=Rt.navigator;if(Q0){var Ev=Q0.userAgent;if(Ev){Ti=Ev;break e}}Ti=""}function bf(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ng(n){const e={};for(const t in n)e[t]=n[t];return e}var J0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wf(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<J0.length;a++)t=J0[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function yd(n){return yd[" "](n),n}yd[" "]=fd;var Cf,n,lT=Ki(Ti,"Opera"),Ca=Ki(Ti,"Trident")||Ki(Ti,"MSIE"),Ef=Ki(Ti,"Edge"),rg=Ef||Ca,Dv=Ki(Ti,"Gecko")&&!(Ki(Ti.toLowerCase(),"webkit")&&!Ki(Ti,"Edge"))&&!(Ki(Ti,"Trident")||Ki(Ti,"MSIE"))&&!Ki(Ti,"Edge"),Iv=Ki(Ti.toLowerCase(),"webkit")&&!Ki(Ti,"Edge");function Sv(){var n=Rt.document;return n?n.documentMode:void 0}e:{var Df="",If=(n=Ti,Dv?/rv:([^\);]+)(\)|;)/.exec(n):Ef?/Edge\/([\d\.]+)/.exec(n):Ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Iv?/WebKit\/(\S+)/.exec(n):lT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(If&&(Df=If?If[1]:""),Ca){var Tv=Sv();if(null!=Tv&&Tv>parseFloat(Df)){Cf=String(Tv);break e}}Cf=Df}var X0={};var cT=Rt.document&&Ca&&(Sv()||parseInt(Cf,10))||void 0,tE=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",fd,e),Rt.removeEventListener("test",fd,e)}catch{}return n}();function mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function vd(n,e){if(mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Dv){e:{try{yd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Mv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vd.Z.h.call(this)}}mi.prototype.h=function(){this.defaultPrevented=!0},ri(vd,mi);var Mv={2:"touch",3:"pen",4:"mouse"};vd.prototype.h=function(){vd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bd="closure_listenable_"+(1e6*Math.random()|0),nE=0;function rE(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++nE,this.ca=this.fa=!1}function Sf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Tf(n){this.src=n,this.g={},this.h=0}function sg(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=yv(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Sf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function og(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}Tf.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=og(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new rE(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var ag="closure_lm_"+(1e6*Math.random()|0),iE={};function sE(n,e,t,r,i){if(r&&r.once)return uE(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)sE(n,e[a],t,r,i);return null}return t=cg(t),n&&n[bd]?n.N(e,t,xo(r)?!!r.capture:!!r,i):oE(n,e,t,!1,r,i)}function oE(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=xo(i)?!!i.capture:!!i,f=lg(n);if(f||(n[ag]=f=new Tf(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function aE(){var e=dT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)tE||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(lE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function uE(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)uE(n,e[a],t,r,i);return null}return t=cg(t),n&&n[bd]?n.O(e,t,xo(r)?!!r.capture:!!r,i):oE(n,e,t,!0,r,i)}function Hr(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)Hr(n,e[a],t,r,i);else r=xo(r)?!!r.capture:!!r,t=cg(t),n&&n[bd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=og(a=n.g[e],t,r,i))&&(Sf(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=lg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=og(e,t,r,i)),(t=-1<n?e[n]:null)&&ug(t))}function ug(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[bd])sg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(lE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=lg(e))?(sg(t,n),0==t.h&&(t.src=null,e[ag]=null)):Sf(n)}}}function lE(n){return n in iE?iE[n]:iE[n]="on"+n}function dT(n,e){if(n.ca)n=!0;else{e=new vd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ug(n),n=t.call(r,e)}return n}function lg(n){return(n=n[ag])instanceof Tf?n:null}var kv="__closure_events_fn_"+(1e9*Math.random()>>>0);function cg(n){return"function"==typeof n?n:(n[kv]||(n[kv]=function(e){return n.handleEvent(e)}),n[kv])}function Yr(){Ea.call(this),this.i=new Tf(this),this.P=this,this.I=null}function Tr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mi(e,n);else if(e instanceof mi)e.target=e.target||n;else{var i=e;wf(e=new mi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=dg(c,r,!0,e)&&i}if(i=dg(c=e.g=n,r,!0,e)&&i,i=dg(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=dg(c=e.g=t[a],r,!1,e)&&i}function dg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,_=c.ia||c.src;c.fa&&sg(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}ri(Yr,Ea),Yr.prototype[bd]=!0,Yr.prototype.removeEventListener=function(n,e,t,r){Hr(this,n,e,t,r)},Yr.prototype.M=function(){if(Yr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Sf(t[r]);delete n.g[e],n.h--}}this.I=null},Yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var xv=Rt.JSON.stringify;function cE(){var n=so;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Us,Ov=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Jx,n=>n.reset());class Jx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Rv(n){Rt.setTimeout(()=>{throw n},0)}function Af(n,e){Us||function fT(){var n=Rt.Promise.resolve(void 0);Us=function(){n.then(oo)}}(),Pv||(Us(),Pv=!0),so.add(n,e)}var Pv=!1,so=new class hT{constructor(){this.h=this.g=null}add(e,t){const r=Ov.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function oo(){for(var n;n=cE();){try{n.h.call(n.g)}catch(t){Rv(t)}var e=Ov;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Pv=!1}function Zi(n,e){Yr.call(this),this.h=n||1,this.g=e||Rt,this.j=Sr(this.kb,this),this.l=Date.now()}function hg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function fg(n,e,t){if("function"==typeof n)t&&(n=Sr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Sr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function dE(n){n.g=fg(()=>{n.g=null,n.i&&(n.i=!1,dE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ri(Zi,Yr),(ht=Zi.prototype).da=!1,ht.S=null,ht.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tr(this,"tick"),this.da&&(hg(this),this.start()))}},ht.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ht.M=function(){Zi.Z.M.call(this),hg(this),delete this.g};class pT extends Ea{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dE(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mf(n){Ea.call(this),this.h=n,this.g={}}ri(Mf,Ea);var hE=[];function pg(n,e,t,r){Array.isArray(t)||(t&&(hE[0]=t.toString()),t=hE);for(var i=0;i<t.length;i++){var a=sE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function wd(n){bf(n.g,function(e,t){this.g.hasOwnProperty(t)&&ug(e)},n),n.g={}}function mg(){this.g=!0}function gl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gg(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return xv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Mf.prototype.M=function(){Mf.Z.M.call(this),wd(this)},Mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mg.prototype.Aa=function(){this.g=!1},mg.prototype.info=function(){};var _l={},Nv=null;function kf(){return Nv=Nv||new Yr}function _g(n){mi.call(this,_l.Ma,n)}function cu(n){const e=kf();Tr(e,new _g(e,n))}function Fv(n,e){mi.call(this,_l.STAT_EVENT,n),this.stat=e}function Ai(n){const e=kf();Tr(e,new Fv(e,n))}function Lv(n,e){mi.call(this,_l.Na,n),this.size=e}function Ed(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}_l.Ma="serverreachability",ri(_g,mi),_l.STAT_EVENT="statevent",ri(Fv,mi),_l.Na="timingevent",ri(Lv,mi);var xf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yg(){}function mE(){}yg.prototype.h=null;var Hv,Of={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Uv(){mi.call(this,"d")}function jv(){mi.call(this,"c")}function vg(){}function Rf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Mf(this),this.P=gT,this.W=new Zi(n=rg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gE}function gE(){this.i=null,this.g="",this.h=!1}ri(Uv,mi),ri(jv,mi),ri(vg,yg),vg.prototype.g=function(){return new XMLHttpRequest},vg.prototype.i=function(){return{}},Hv=new vg;var gT=45e3,zv={},bg={};function $v(n,e,t){n.K=1,n.v=Ff(Da(e)),n.s=t,n.U=!0,_E(n,null)}function _E(n,e){n.F=Date.now(),Pf(n),n.A=Da(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),DE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new gE,n.g=GE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new pT(Sr(n.Ia,n,n.g),n.O)),pg(n.V,n.g,"readystatechange",n.gb),e=n.H?ng(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),cu(1),function fE(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var M=I.split("_");c=2<=M.length&&"type"==M[1]?c+(I+"=")+w+"&":c+(I+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function yE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function vE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=_T(n,t),i==bg){4==e&&(n.o=4,Ai(14),r=!1),gl(n.j,n.m,null,"[Incomplete Response]");break}if(i==zv){n.o=4,Ai(15),gl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}gl(n.j,n.m,i,null),wg(n,i)}yE(n)&&i!=bg&&i!=zv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ai(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),eb(e),e.L=!0,Ai(11))):(gl(n.j,n.m,t,"[Invalid Chunked Response]"),du(n),Cd(n))}function _T(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?bg:(t=Number(e.substring(t,r)),isNaN(t)?zv:(r+=1)+t>e.length?bg:(e=e.substr(r,t),n.C=r+t,e))}function Pf(n){n.Y=Date.now()+n.P,bE(n,n.P)}function bE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ed(Sr(n.eb,n),e)}function Nf(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function Cd(n){0==n.l.G||n.I||Ng(n.l,n)}function du(n){Nf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,hg(n.W),wd(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function wg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||wl(t.i,n)))if(t.I=n.N,!n.J&&wl(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Pg(t),kg(t)}Rg(t),Ai(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ed(Sr(t.ab,t),6e3));if(1>=AE(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else pu(t,11)}else if((n.J||t.g==n)&&Pg(t),!tg(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const M=w[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const z=w[5];null!=z&&"number"==typeof z&&0<z&&(t.K=r=1.5*z,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const te=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var a=r.i;!a.g&&(Ki(te,"spdy")||Ki(te,"quic")||Ki(te,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Yv(a,a.h),a.h=null))}if(r.D){const ye=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,gr(r.F,r.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=$E(r,r.H?r.la:null,r.W),c.J){ME(r.i,c);var f=c,_=r.K;_&&f.setTimeout(_),f.B&&(Nf(f),Pf(f)),r.g=c}else HE(r);0<t.l.length&&Og(t)}else"stop"!=w[0]&&"close"!=w[0]||pu(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?pu(t,7):Jv(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}cu(4)}catch{}}function Eg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(uu(n)||"string"==typeof n)vv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(uu(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function wE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(uu(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function yl(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof yl)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Cg(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];hu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)hu(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function hu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ht=Rf.prototype).setTimeout=function(n){this.P=n},ht.gb=function(n){n=n.target;const e=this.L;e&&3==Ta(n)?e.l():this.Ia(n)},ht.Ia=function(n){try{if(n==this.g)e:{const I=Ta(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>I)&&(3!=I||rg||this.g&&(this.h.h||this.g.ga()||VE(this.g)))){this.I||4!=I||7==e||cu(8==e||0>=M?3:2),Nf(this);var t=this.g.ba();this.N=t;t:if(yE(this)){var r=VE(this.g);n="";var i=r.length,a=4==Ta(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){du(this),Cd(this);var c="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function mT(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tg(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ai(12),du(this),Cd(this);break e}gl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wg(this,t)}this.U?(vE(this,I,c),rg&&this.i&&3==I&&(pg(this.V,this.W,"tick",this.fb),this.W.start())):(gl(this.j,this.m,c,null),wg(this,c)),4==I&&du(this),this.i&&!this.I&&(4==I?Ng(this.l,this):(this.i=!1,Pf(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),du(this),Cd(this)}}}catch{}},ht.fb=function(){if(this.g){var n=Ta(this.g),e=this.g.ga();this.C<e.length&&(Nf(this),vE(this,n,e),this.i&&4!=n&&Pf(this))}},ht.cancel=function(){this.I=!0,du(this)},ht.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function pE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(cu(3),Ai(17)),du(this),this.o=2,Cd(this)):bE(this,this.Y-n)},(ht=yl.prototype).R=function(){Cg(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ht.T=function(){return Cg(this),this.g.concat()},ht.get=function(n,e){return hu(this.h,n)?this.h[n]:e},ht.set=function(n,e){hu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ht.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var Dg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ps(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ps){this.g=void 0!==e?e:n.g,Ig(this,n.j),this.s=n.s,Ia(this,n.i),Wv(this,n.m),this.l=n.l,e=n.h;var t=new Zn;t.i=e.i,e.g&&(t.g=new yl(e.g),t.h=e.h),Sg(this,t),this.o=n.o}else n&&(t=String(n).match(Dg))?(this.g=!!e,Ig(this,t[1]||"",!0),this.s=Pt(t[2]||""),Ia(this,t[3]||"",!0),Wv(this,t[4]),this.l=Pt(t[5]||"",!0),Sg(this,t[6]||"",!0),this.o=Pt(t[7]||"")):(this.g=!!e,this.h=new Zn(null,this.g))}function Da(n){return new ps(n)}function Ig(n,e,t){n.j=t?Pt(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ia(n,e,t){n.i=t?Pt(e,!0):e}function Wv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Sg(n,e,t){e instanceof Zn?(n.h=e,function IE(n,e){e&&!n.j&&(vl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(qv(this,r),DE(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Lf(e,Tg)),n.h=new Zn(e,n.g))}function gr(n,e,t){n.h.set(e,t)}function Ff(n){return gr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pt(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Lf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,yT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ps.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Lf(e,CE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Lf(e,CE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Lf(t,"/"==t.charAt(0)?vT:Dd,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Lf(t,Ag)),n.join("")};var CE=/[#\/\?@]/g,Dd=/[#\?:]/g,vT=/[#\?]/g,Tg=/[#\?@]/g,Ag=/#/g;function Zn(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vl(n){n.g||(n.g=new yl,n.h=0,n.i&&function Gv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qv(n,e){vl(n),e=bl(n,e),hu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,hu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Cg(n)))}function Kv(n,e){return vl(n),e=bl(n,e),hu(n.g.h,e)}function DE(n,e,t){qv(n,e),0<t.length&&(n.i=null,n.g.set(bl(n,e),eg(t)),n.h+=t.length)}function bl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Zv(n){this.l=n||bT,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ht=Zn.prototype).add=function(n,e){vl(this),this.i=null,n=bl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ht.forEach=function(n,e){vl(this),this.g.forEach(function(t,r){vv(t,function(i){n.call(e,i,r,this)},this)},this)},ht.T=function(){vl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},ht.R=function(n){vl(this);var e=[];if("string"==typeof n)Kv(this,n)&&(e=bv(e,this.g.get(bl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=bv(e,n[t])}return e},ht.set=function(n,e){return vl(this),this.i=null,Kv(this,n=bl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ht.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var bT=10;function TE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AE(n){return n.h?1:n.g?n.g.size:0}function wl(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Yv(n,e){n.g?n.g.add(e):n.h=e}function ME(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return eg(n.i)}function Id(){}function xE(){this.g=new Id}function OE(n,e,t){const r=t||"";try{Eg(n,function(i,a){let c=i;xo(i)&&(c=xv(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Sa(n){this.l=n.$b||null,this.j=n.ib||!1}function fu(n,e){Yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zv.prototype.cancel=function(){if(this.i=kE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Id.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},Id.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},ri(Sa,yg),Sa.prototype.g=function(){return new fu(this.l,this.j)},Sa.prototype.i=function(n){return function(){return n}}({}),ri(fu,Yr);var Qv=0;function PE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Vf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sd(n)}function Sd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ht=fu.prototype).open=function(n,e){if(this.readyState!=Qv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sd(this)},ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vf(this)),this.readyState=Qv},ht.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sd(this)),this.g&&(this.readyState=3,Sd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ht.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vf(this):Sd(this),3==this.readyState&&PE(this)}},ht.Ua=function(n){this.g&&(this.response=this.responseText=n,Vf(this))},ht.Ta=function(n){this.g&&(this.response=n,Vf(this))},ht.ha=function(){this.g&&Vf(this)},ht.setRequestHeader=function(n,e){this.v.append(n,e)},ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var NE=Rt.JSON.parse;function Rr(n){Yr.call(this),this.headers=new yl,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=FE,this.K=this.L=!1}ri(Rr,Yr);var FE="",LE=/^https?$/i,wT=["POST","PUT"];function eO(n){return"content-type"==n.toLowerCase()}function CT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,DT(n),Bf(n)}function DT(n){n.D||(n.D=!0,Tr(n,"complete"),Tr(n,"error"))}function IT(n){if(n.h&&typeof hd<"u"&&(!n.C[1]||4!=Ta(n)||2!=n.ba()))if(n.v&&4==Ta(n))fg(n.Fa,0,n);else if(Tr(n,"readystatechange"),4==Ta(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(Dg)[1]||null;if(!i&&Rt.self&&Rt.self.location){var a=Rt.self.location.protocol;i=a.substr(0,a.length-1)}r=!LE.test(i?i.toLowerCase():"")}t=r}if(t)Tr(n,"complete"),Tr(n,"success");else{n.m=6;try{var c=2<Ta(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",DT(n)}}finally{Bf(n)}}}function Bf(n,e){if(n.g){Uf(n);const t=n.g,r=n.C[0]?fd:null;n.g=null,n.C=null,e||Tr(n,"ready");try{t.onreadystatechange=r}catch{}}}function Uf(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Ta(n){return n.g?n.g.readyState:0}function VE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case FE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function El(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function BE(n){let e="";return bf(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gr(n,e,t))}function jf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function UE(n){this.za=0,this.l=[],this.h=new mg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jf("baseRetryDelayMs",5e3,n),this.$a=jf("retryDelaySeedMs",1e4,n),this.Ya=jf("forwardChannelMaxRetries",2,n),this.ra=jf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Zv(n&&n.concurrentRequestLimit),this.Ca=new xE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Jv(n){if(jE(n),3==n.G){var e=n.V++,t=Da(n.F);gr(t,"SID",n.J),gr(t,"RID",e),gr(t,"TYPE","terminate"),Hf(n,t),(e=new Rf(n,n.h,e,void 0)).K=2,e.v=Ff(Da(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=GE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pf(e)}nb(n)}function kg(n){n.g&&(eb(n),n.g.cancel(),n.g=null)}function jE(n){kg(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),Pg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function xg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Og(n)}function Og(n){TE(n.i)||n.m||(n.m=!0,Af(n.Ha,n),n.C=0)}function Cl(n,e){var t;t=e?e.m:n.V++;const r=Da(n.F);gr(r,"SID",n.J),gr(r,"RID",t),gr(r,"AID",n.U),Hf(n,r),n.o&&n.s&&El(r,n.o,n.s),t=new Rf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Xv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Yv(n.i,t),$v(t,r,e)}function Hf(n,e){n.j&&Eg({},function(t,r){gr(e,r,t)})}function Xv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Sr(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const I=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{OE(I,c,"req"+w+"_")}catch{r&&r(I)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function HE(n){n.g||n.u||(n.Y=1,Af(n.Ga,n),n.A=0)}function Rg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ed(Sr(n.Ga,n),zE(n,n.A)),n.A++,0))}function eb(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function tb(n){n.g=new Rf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Da(n.oa);gr(e,"RID","rpc"),gr(e,"SID",n.J),gr(e,"CI",n.N?"0":"1"),gr(e,"AID",n.U),Hf(n,e),gr(e,"TYPE","xmlhttp"),n.o&&n.s&&El(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ff(Da(e)),t.s=null,t.U=!0,_E(t,n)}function Pg(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function Ng(n,e){var t=null;if(n.g==e){Pg(n),eb(n),n.g=null;var r=2}else{if(!wl(n.i,e))return;t=e.D,ME(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Tr(r=kf(),new Lv(r,t,e,i)),Og(n)}else HE(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function ST(n,e){return!(AE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ed(Sr(n.Ha,n,e),zE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Rg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:pu(n,5);break;case 4:pu(n,10);break;case 3:pu(n,6);break;default:pu(n,2)}}function zE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function pu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Sr(n.jb,n);t||(t=new ps("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||Ig(t,"https"),Ff(t)),function RE(n,e){const t=new mg;if(Rt.Image){const r=new Image;r.onload=wa(Mg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=wa(Mg,t,r,"TestLoadImage: error",!1,e),r.onabort=wa(Mg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=wa(Mg,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ai(2);n.G=0,n.j&&n.j.va(e),nb(n),jE(n)}function nb(n){n.G=0,n.I=-1,n.j&&((0!=kE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,eg(n.l),n.l.length=0),n.j.ua())}function $E(n,e,t){let r=function EE(n){return n instanceof ps?Da(n):new ps(n,void 0)}(t);if(""!=r.i)e&&Ia(r,e+"."+r.i),Wv(r,r.m);else{const i=Rt.location;r=function Xx(n,e,t,r){var i=new ps(null,void 0);return n&&Ig(i,n),e&&Ia(i,e),t&&Wv(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&bf(n.aa,function(i,a){gr(r,a,i)}),t=n.sa,(e=n.D)&&t&&gr(r,e,t),gr(r,"VER",n.ma),Hf(n,r),r}function GE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rr(t&&n.Ba&&!n.qa?new Sa({ib:!0}):n.qa)).L=n.H,e}function WE(){}function Td(){if(Ca&&!(10<=Number(cT)))throw Error("Environmental error: no available transport.")}function ms(n,e){Yr.call(this),this.g=new UE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!tg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ad(this)}function rb(n){Uv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qE(){jv.call(this),this.status=1}function Ad(n){this.g=n}(ht=Rr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hv.g(),this.C=function Bv(n){return n.h||(n.h=n.i())}(this.u?this.u:Hv),this.g.onreadystatechange=Sr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void CT(this,a)}n=t||"";const i=new yl(this.headers);r&&Eg(r,function(a,c){i.set(c,a)}),r=function Z0(n){e:{var e=eO;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=yv(wT,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uf(this),0<this.B&&((this.K=function ET(n){return Ca&&function eE(){return function Cv(n){var e=X0;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Y0(String(Cf)).split("."),t=Y0("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=wv(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||wv(0==i[2].length,0==a[2].length)||wv(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.pa,this)):this.A=fg(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){CT(this,a)}},ht.pa=function(){typeof hd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Tr(this,"complete"),Tr(this,"abort"),Bf(this))},ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bf(this,!0)),Rr.Z.M.call(this)},ht.Fa=function(){this.s||(this.F||this.v||this.l?IT(this):this.cb())},ht.cb=function(){IT(this)},ht.ba=function(){try{return 2<Ta(this)?this.g.status:-1}catch{return-1}},ht.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ht.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),NE(e)}},ht.Da=function(){return this.m},ht.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ht=UE.prototype).ma=8,ht.G=1,ht.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ht.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Rf(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=ng(a),wf(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xv(this,i,e),gr(t=Da(this.F),"RID",n),gr(t,"CVER",22),this.D&&gr(t,"X-HTTP-Session-Id",this.D),Hf(this,t),this.o&&a&&El(t,this.o,a),Yv(this.i,i),this.Ra&&gr(t,"TYPE","init"),this.ja?(gr(t,"$req",e),gr(t,"SID","null"),i.$=!0,$v(i,t,null)):$v(i,t,e),this.G=2}}else 3==this.G&&(n?Cl(this,n):0==this.l.length||TE(this.i)||Cl(this))},ht.Ga=function(){if(this.u=null,tb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ed(Sr(this.bb,this),n)}},ht.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ai(10),kg(this),tb(this))},ht.ab=function(){null!=this.v&&(this.v=null,kg(this),Rg(this),Ai(19))},ht.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ai(2)):(this.h.info("Failed to ping google.com"),Ai(1))},(ht=WE.prototype).xa=function(){},ht.wa=function(){},ht.va=function(){},ht.ua=function(){},ht.Oa=function(){},Td.prototype.g=function(n,e){return new ms(n,e)},ri(ms,Yr),ms.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Af(Sr(n.hb,n,e))),Ai(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=$E(n,null,n.W),Og(n)},ms.prototype.close=function(){Jv(this.g)},ms.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,xg(this.g,e)}else this.v?((e={}).__data__=xv(n),xg(this.g,e)):xg(this.g,n)},ms.prototype.M=function(){this.g.j=null,delete this.j,Jv(this.g),delete this.g,ms.Z.M.call(this)},ri(rb,Uv),ri(qE,jv),ri(Ad,WE),Ad.prototype.xa=function(){Tr(this.g,"a")},Ad.prototype.wa=function(n){Tr(this.g,new rb(n))},Ad.prototype.va=function(n){Tr(this.g,new qE(n))},Ad.prototype.ua=function(){Tr(this.g,"b")},Td.prototype.createWebChannel=Td.prototype.g,ms.prototype.send=ms.prototype.u,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,xf.NO_ERROR=0,xf.TIMEOUT=8,xf.HTTP_ERROR=6,Vv.COMPLETE="complete",mE.EventType=Of,Of.OPEN="a",Of.CLOSE="b",Of.ERROR="c",Of.MESSAGE="d",Yr.prototype.listen=Yr.prototype.N,Rr.prototype.listenOnce=Rr.prototype.O,Rr.prototype.getLastError=Rr.prototype.La,Rr.prototype.getLastErrorCode=Rr.prototype.Da,Rr.prototype.getStatus=Rr.prototype.ba,Rr.prototype.getResponseJson=Rr.prototype.Qa,Rr.prototype.getResponseText=Rr.prototype.ga,Rr.prototype.send=Rr.prototype.ea;var TT=ur.createWebChannelTransport=function(){return new Td},AT=ur.getStatEventTarget=function(){return kf()},ib=ur.ErrorCode=xf,MT=ur.EventType=Vv,kT=ur.Event=_l,KE=ur.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ZE=ur.FetchXmlHttpFactory=Sa,zf=ur.WebChannel=mE,xT=ur.XhrIo=Rr;const YE="@firebase/firestore";class Qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let Md="9.9.1";const mu=new pl.Yd("@firebase/firestore");function sb(){return mu.logLevel}function Ye(n,...e){if(mu.logLevel<=pl.in.DEBUG){const t=e.map(ab);mu.debug(`Firestore (${Md}): ${n}`,...t)}}function Pr(n,...e){if(mu.logLevel<=pl.in.ERROR){const t=e.map(ab);mu.error(`Firestore (${Md}): ${n}`,...t)}}function Dl(n,...e){if(mu.logLevel<=pl.in.WARN){const t=e.map(ab);mu.warn(`Firestore (${Md}): ${n}`,...t)}}function ab(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ct(n="Unexpected state"){const e=`FIRESTORE (${Md}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function $t(n,e){n||Ct()}function lt(n,e){return n}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends pn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class QE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $f{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qr.UNAUTHENTICATED))}shutdown(){}}class Il{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JE{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let c=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=c;e.enqueueRetryable((0,Ne.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t("string"==typeof r.accessToken),new QE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(null===e||"string"==typeof e),new Qr(e)}}class RT{constructor(e,t,r){this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class XE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new RT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kd{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,Ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($t("string"==typeof t.token),this.p=t.token,new eC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class NT{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function en(n,e){return n<e?-1:n>e?1:0}function xd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function tC(n){return n+"\0"}class lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ge(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new lr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new lr(0,0))}static max(){return new Gt(new lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Od{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ct(),void 0===r?r=e.length-t:r>e.length-t&&Ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Od.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Od?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _n extends Od{construct(e,t,r){return new _n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _n(t)}static emptyPath(){return new _n([])}}const Lg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Od{construct(e,t,r){return new Xn(e,t,r)}static isValidIdentifier(e){return Lg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ge(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ge(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ge(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Ge(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(t)}static emptyPath(){return new Xn([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(_n.fromString(e))}static fromName(e){return new ot(_n.fromString(e).popFirst(5))}static empty(){return new ot(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new _n(e.slice()))}}class Rd{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Vg(n){return n.fields.find(e=>2===e.kind)}function Sl(n){return n.fields.filter(e=>2!==e.kind)}Rd.UNKNOWN_ID=-1;class Bg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tl(0,gs.min())}}function nC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(1e9===r?new lr(t+1,0):new lr(t,r));return new gs(i,ot.empty(),e)}function FT(n){return new gs(n.readTime,n.key,-1)}class gs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gs(Gt.min(),ot.empty(),-1)}static max(){return new gs(Gt.max(),ot.empty(),-1)}}function ub(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(n.documentKey,e.documentKey),0!==t?t:en(n.largestBatchId,e.largestBatchId))}const lb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ug{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gu(n){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Ne.Z)(function*(n){if(n.code!==Re.FAILED_PRECONDITION||n.message!==lb)throw n;Ye("LocalStore","Unexpectedly lost primary lease")}),Gf.apply(this,arguments)}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,r)=>{t(e)})}static reject(e){return new Te((t,r)=>{r(e)})}static waitFor(e){return new Te((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=Te.resolve(!1);for(const r of e)t=t.next(i=>i?Te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Te((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{c[w]=I,++f,f===a&&r(c)},I=>i(I))}})}static doWhile(e,t){return new Te((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class jg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new gi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Pd(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=cb(r.target.error);this.T.reject(new Pd(e,i))}}static open(e,t,r,i){try{return new jg(t,e.transaction(i,r))}catch(a){throw new Pd(t,a)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new iC(t)}}class _s{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===_s.v((0,pn.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ye("SimpleDb","Removing database:",e),Al(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,pn.hl)())return!1;if(_s.S())return!0;const e=(0,pn.z$)(),t=_s.v(e),r=0<t&&t<10,i=_s.D(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(Ye("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Pd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Ge(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ge(Re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Pd(e,f))},a.onupgradeneeded=c=>{Ye("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ye("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ne.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.k(e);const _=jg.open(a.db,e,c?"readonly":"readwrite",r),w=i(_).next(I=>(_.R(),I)).catch(I=>(_.abort(I),Te.reject(I))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(Ye("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rC{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Al(this.$.delete())}}class Pd extends Ge{constructor(e,t){super(Re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Aa(n){return"IndexedDbTransactionError"===n.name}class iC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ye("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Al(r)}add(e){return Ye("SimpleDb","ADD",this.store.name,e,e),Al(this.store.add(e))}get(e){return Al(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ye("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ye("SimpleDb","DELETE",this.store.name,e),Al(this.store.delete(e))}count(){return Ye("SimpleDb","COUNT",this.store.name),Al(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.G(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Te((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Te((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}W(e,t){Ye("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(a,c,f)=>f.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new Te((r,i)=>{t.onerror=a=>{const c=cb(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}G(e,t){const r=[];return new Te((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new rC(f),w=t(f.primaryKey,f.value,_);if(w instanceof Te){const I=w.catch(M=>(_.done(),Te.reject(M)));r.push(I)}_.isDone?i():null===_.U?f.continue():f.continue(_.U)}}).next(()=>Te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Al(n){return new Te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=cb(r.target.error);t(i)}})}let sC=!1;function cb(n){const e=_s.v((0,pn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sC||(sC=!0,setTimeout(()=>{throw r},0)),r}}return n}class LT{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Ye("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ne.Z)(function*(){t.task=null;try{Ye("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Aa(r)?Ye("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield gu(r)}yield t.Z(1)}))}}class oC{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Ne.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,a=!0;return Te.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ye("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,i).next(f=>{i-=f,r.add(c)});a=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(i,a)).next(f=>(Ye("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=FT(a);ub(c,r)>0&&(r=c)}),new gs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ys{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function db(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ml(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ys.ot=-1;class Nr{constructor(e,t){this.comparator=e,this.root=t||_i.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hb(this.root,e,this.comparator,!1)}getReverseIterator(){return new hb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hb(this.root,e,this.comparator,!0)}}class hb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _i{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??_i.RED,this.left=i??_i.EMPTY,this.right=a??_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new _i(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return _i.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const e=this.left.check();if(e!==this.right.check())throw Ct();return e+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1,_i.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(n,e,t,r,i){return this}insert(n,e,t){return new _i(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uC(this.data.getIterator())}getIteratorFrom(e){return new uC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class uC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kl(n){return n.hasNext()?n.getNext():void 0}class vs{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new vs([])}unionWith(e){let t=new jn(Xn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new vs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Jr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const BT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _u(n){if($t(!!n),"string"==typeof n){let e=0;const t=BT.exec(n);if($t(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ar(n.seconds),nanos:Ar(n.nanos)}}function Ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xl(n){return"string"==typeof n?Jr.fromBase64String(n):Jr.fromUint8Array(n)}function fb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Nd(n){const e=n.mapValue.fields.__previous_value__;return fb(e)?Nd(e):e}function Fd(n){const e=_u(n.mapValue.fields.__local_write_time__.timestampValue);return new lr(e.seconds,e.nanos)}class lC{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Oo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Oo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oo&&e.projectId===this.projectId&&e.database===this.database}}function Ld(n){return null==n}function Vd(n){return 0===n&&1/n==-1/0}function pb(n){return"number"==typeof n&&Number.isInteger(n)&&!Vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mb={nullValue:"NULL_VALUE"};function vu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fb(n)?4:dC(n)?9007199254740991:10:Ct()}function ao(n,e){if(n===e)return!0;const t=vu(n);if(t!==vu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fd(n).isEqual(Fd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=_u(r.timestampValue),c=_u(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,xl(n.bytesValue).isEqual(xl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ar(r.geoPointValue.latitude)===Ar(i.geoPointValue.latitude)&&Ar(r.geoPointValue.longitude)===Ar(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ar(r.integerValue)===Ar(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ar(r.doubleValue),c=Ar(i.doubleValue);return a===c?Vd(a)===Vd(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return xd(n.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(db(a)!==db(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!ao(a[f],c[f])))return!1;return!0}(n,e);default:return Ct()}var i}function Wf(n,e){return void 0!==(n.values||[]).find(t=>ao(t,e))}function bu(n,e){if(n===e)return 0;const t=vu(n),r=vu(e);if(t!==r)return en(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Ar(i.integerValue||i.doubleValue),f=Ar(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return cC(n.timestampValue,e.timestampValue);case 4:return cC(Fd(n),Fd(e));case 5:return en(n.stringValue,e.stringValue);case 6:return function(i,a){const c=xl(i),f=xl(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const w=en(c[_],f[_]);if(0!==w)return w}return en(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=en(Ar(i.latitude),Ar(a.latitude));return 0!==c?c:en(Ar(i.longitude),Ar(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const w=bu(c[_],f[_]);if(w)return w}return en(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===yu.mapValue&&a===yu.mapValue)return 0;if(i===yu.mapValue)return 1;if(a===yu.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const M=en(f[I],w[I]);if(0!==M)return M;const z=bu(c[f[I]],_[w[I]]);if(0!==z)return z}return en(f.length,w.length)}(n.mapValue,e.mapValue);default:throw Ct()}}function cC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return en(n,e);const t=_u(n),r=_u(e),i=en(t.seconds,r.seconds);return 0!==i?i:en(t.nanos,r.nanos)}function Ro(n){return gb(n)}function gb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=_u(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xl(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=gb(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${gb(r.fields[f])}`;return a+"}"}(n.mapValue):Ct();var e}function Ma(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function js(n){return!!n&&"integerValue"in n}function qf(n){return!!n&&"arrayValue"in n}function Kf(n){return!!n&&"nullValue"in n}function Bd(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hg(n){return!!n&&"mapValue"in n}function Zf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ml(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function zg(n){return"nullValue"in n?mb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ma(Oo.empty(),ot.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ct()}function $g(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ma(Oo.empty(),ot.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yu:Ct()}function hC(n,e){const t=bu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fC(n,e){const t=bu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(t)}setAll(e){let t=Xn.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Zf(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Hg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Hg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ml(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ii(Zf(this.value))}}function _b(n){const e=[];return Ml(n.fields,(t,r)=>{const i=new Xn([t]);if(Hg(r)){const a=_b(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new vs(e)}class Hn{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Hn(e,0,Gt.min(),Gt.min(),ii.empty(),0)}static newFoundDocument(e,t,r){return new Hn(e,1,t,Gt.min(),r,0)}static newNoDocument(e,t){return new Hn(e,2,t,Gt.min(),ii.empty(),0)}static newUnknownDocument(e,t){return new Hn(e,3,t,Gt.min(),ii.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pC{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.ut=null}}function mC(n,e=null,t=[],r=[],i=null,a=null,c=null){return new pC(n,e,t,r,i,a,c)}function Ol(n){const e=lt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ro(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ro(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ro(r)).join(",")),e.ut=t}return e.ut}function Rl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!vC(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ao(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bC(n.startAt,e.startAt)&&bC(n.endAt,e.endAt)}function Ud(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Yf(n,e){return n.filters.filter(t=>t instanceof yi&&t.field.isEqual(e))}function Gg(n,e,t){let r=mb,i=!0;for(const a of Yf(n,e)){let c=mb,f=!0;switch(a.op){case"<":case"<=":c=zg(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=mb}hC({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];hC({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function Wg(n,e,t){let r=yu,i=!0;for(const a of Yf(n,e)){let c=yu,f=!0;switch(a.op){case">=":case">":c=$g(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=yu}fC({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];fC({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class yi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new UT(e,t,r):"array-contains"===t?new vb(e,r):"in"===t?new gC(e,r):"not-in"===t?new _C(e,r):"array-contains-any"===t?new yC(e,r):new yi(e,t,r)}static ct(e,t,r){return"in"===t?new jT(e,r):new HT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(bu(t,this.value)):null!==t&&vu(this.value)===vu(t)&&this.at(bu(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ct()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class UT extends yi{constructor(e,t,r){super(e,t,r),this.key=ot.fromName(r.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.at(t)}}class jT extends yi{constructor(e,t){super(e,"in",t),this.keys=yb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HT extends yi{constructor(e,t){super(e,"not-in",t),this.keys=yb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ot.fromName(r.referenceValue))}class vb extends yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qf(t)&&Wf(t.arrayValue,this.value)}}class gC extends yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wf(this.value.arrayValue,t)}}class _C extends yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wf(this.value.arrayValue,t)}}class yC extends yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wf(this.value.arrayValue,r))}}class ka{constructor(e,t){this.position=e,this.inclusive=t}}class jd{constructor(e,t="asc"){this.field=e,this.dir=t}}function vC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function bb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?ot.comparator(ot.fromName(c.referenceValue),t.key):bu(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function bC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ao(n.position[t],e.position[t]))return!1;return!0}class Po{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.lt=null,this.ft=null}}function wb(n,e,t,r,i,a,c,f){return new Po(n,e,t,r,i,a,c,f)}function zr(n){return new Po(n)}function Eb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Cb(n){for(const e of n.filters)if(e.ht())return e.field;return null}function wC(n){return null!==n.collectionGroup}function Qf(n){const e=lt(n);if(null===e.lt){e.lt=[];const t=Cb(e),r=Eb(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new jd(t)),e.lt.push(new jd(Xn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.lt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new jd(Xn.keyField(),a))}}}return e.lt}function bs(n){const e=lt(n);if(!e.ft)if("F"===e.limitType)e.ft=mC(e.path,e.collectionGroup,Qf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Qf(e))t.push(new jd(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ka(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ka(e.startAt.position,e.startAt.inclusive):null;e.ft=mC(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function Db(n,e,t){return new Po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xa(n,e){return Rl(bs(n),bs(e))&&n.limitType===e.limitType}function EC(n){return`${Ol(bs(n))}|lt:${n.limitType}`}function Jf(n){return`Query(target=${function tO(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ro(r.value)}`;var r}).join(", ")}]`),Ld(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ro(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ro(t)).join(",")),`Target(${e})`}(bs(n))}; limitType=${n.limitType})`}function Ib(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ot.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=bb(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Qf(t),r)||t.endAt&&!function(i,a,c){const f=bb(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Qf(t),r)));var t,r}function Sb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CC(n){return(e,t)=>{let r=!1;for(const i of Qf(n)){const a=zT(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function zT(n,e,t){const r=n.field.isKeyField()?ot.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?bu(f,_):Ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ct()}}function Pl(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function DC(n){return{integerValue:""+n}}function qg(n,e){return pb(e)?DC(e):Pl(n,e)}class Xf{constructor(){this._=void 0}}function IC(n,e,t){return n instanceof ep?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof wu?SC(n,e):n instanceof Eu?Nl(n,e):function(r,i){const a=Zg(r,i),c=Tb(a)+Tb(r._t);return js(a)&&js(r._t)?DC(c):Pl(r.wt,c)}(n,e)}function Kg(n,e,t){return n instanceof wu?SC(n,e):n instanceof Eu?Nl(n,e):t}function Zg(n,e){return n instanceof zd?js(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ep extends Xf{}class wu extends Xf{constructor(e){super(),this.elements=e}}function SC(n,e){const t=Yg(e);for(const r of n.elements)t.some(i=>ao(i,r))||t.push(r);return{arrayValue:{values:t}}}class Eu extends Xf{constructor(e){super(),this.elements=e}}function Nl(n,e){let t=Yg(e);for(const r of n.elements)t=t.filter(i=>!ao(i,r));return{arrayValue:{values:t}}}class zd extends Xf{constructor(e,t){super(),this.wt=e,this._t=t}}function Tb(n){return Ar(n.integerValue||n.doubleValue)}function Yg(n){return qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qg{constructor(e,t){this.field=e,this.transform=t}}class nO{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Xg{}function Ab(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fl(n.key,_r.none()):new $d(n.key,n.data,_r.none());{const t=n.data,r=ii.empty();let i=new jn(Xn.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Oa(n.key,r,new vs(i.toArray()),_r.none())}}function TC(n,e,t){n instanceof $d?function(r,i,a){const c=r.value.clone(),f=MC(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Oa?function(r,i,a){if(!Jg(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=MC(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(kb(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tp(n,e,t,r){return n instanceof $d?function(i,a,c,f){if(!Jg(i.precondition,a))return c;const _=i.value.clone(),w=xb(i.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Oa?function(i,a,c,f){if(!Jg(i.precondition,a))return c;const _=xb(i.fieldTransforms,f,a),w=a.data;return w.setAll(kb(i)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(c=t,Jg(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function AC(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Zg(r.transform,i||null);null!=a&&(null===t&&(t=ii.empty()),t.set(r.field,a))}return t||null}function Mb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&xd(t,r,(i,a)=>function $T(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wu&&r instanceof wu||t instanceof Eu&&r instanceof Eu?xd(t.elements,r.elements,ao):t instanceof zd&&r instanceof zd?ao(t._t,r._t):t instanceof ep&&r instanceof ep);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class $d extends Xg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oa extends Xg{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function MC(n,e,t){const r=new Map;$t(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,Kg(c,f,t[i]))}return r}function xb(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,IC(a,c,e))}return r}class Fl extends Xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e_ extends Xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kC{constructor(e){this.count=e}}var $r,wn;function GT(n){switch(n){default:return Ct();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function Ob(n){if(void 0===n)return Pr("GRPC error has no .code"),Re.UNKNOWN;switch(n){case $r.OK:return Re.OK;case $r.CANCELLED:return Re.CANCELLED;case $r.UNKNOWN:return Re.UNKNOWN;case $r.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case $r.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case $r.INTERNAL:return Re.INTERNAL;case $r.UNAVAILABLE:return Re.UNAVAILABLE;case $r.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case $r.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case $r.NOT_FOUND:return Re.NOT_FOUND;case $r.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case $r.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case $r.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case $r.ABORTED:return Re.ABORTED;case $r.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case $r.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case $r.DATA_LOSS:return Re.DATA_LOSS;default:return Ct()}}(wn=$r||($r={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class Ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ml(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return aC(this.inner)}size(){return this.innerSize}}const rO=new Nr(ot.comparator);function ws(){return rO}const WT=new Nr(ot.comparator);function t_(...n){let e=WT;for(const t of n)e=e.insert(t.key,t);return e}function qT(n){let e=WT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ra(){return Cu()}function KT(){return Cu()}function Cu(){return new Ll(n=>n.toString(),(n,e)=>n.isEqual(e))}const iO=new Nr(ot.comparator),xC=new jn(ot.comparator);function Jt(...n){let e=xC;for(const t of n)e=e.add(t);return e}const OC=new jn(en);function np(){return OC}class n_{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,t)),new n_(Gt.min(),r,np(),ws(),Jt())}}class Vl{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Vl(Jr.EMPTY_BYTE_STRING,t,Jt(),Jt(),Jt())}}class rp{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class RC{constructor(e,t){this.targetId=e,this.It=t}}class Rb{constructor(e,t,r=Jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ZT{constructor(){this.Tt=0,this.Et=NC(),this.At=Jr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Jt(),t=Jt(),r=Jt();return this.Et.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ct()}}),new Vl(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=NC()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class YT{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=ws(),this.Bt=PC(),this.Lt=new jn(en)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:Ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const a=i.target;if(Ud(a))if(0===r){const c=new ot(a.path);this.Kt(t,c,Hn.newNoDocument(c,Gt.min()))}else $t(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((a,c)=>{const f=this.Ht(c);if(f){if(a.current&&Ud(f.target)){const _=new ot(f.target.path);null!==this.$t.get(_)||this.Xt(c,_)||this.Kt(c,_,Hn.newNoDocument(_,e))}a.vt&&(t.set(c,a.St()),a.Dt())}});let r=Jt();this.Bt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.$t.forEach((a,c)=>c.setReadTime(e));const i=new n_(e,t,this.Lt,this.$t,r);return this.$t=ws(),this.Bt=PC(),this.Lt=new jn(en),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new ZT,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new jn(en),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Ye("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new ZT),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function PC(){return new Nr(ot.comparator)}function NC(){return new Nr(ot.comparator)}const r_={asc:"ASCENDING",desc:"DESCENDING"},QT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sO{constructor(e,t){this.databaseId=e,this.dt=t}}function i_(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(n,e){return n.dt?e.toBase64():e.toUint8Array()}function XT(n,e){return i_(n,e.toTimestamp())}function si(n){return $t(!!n),Gt.fromTimestamp(function(e){const t=_u(e);return new lr(t.seconds,t.nanos)}(n))}function Pb(n,e){return(t=n,new _n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function eA(n){const e=_n.fromString(n);return $t(u_(e)),e}function ip(n,e){return Pb(n.databaseId,e.path)}function uo(n,e){const t=eA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(FC(t))}function s_(n,e){return Pb(n.databaseId,e)}function tA(n){const e=eA(n);return 4===e.length?_n.emptyPath():FC(e)}function Bi(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FC(n){return $t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function o_(n,e,t){return{name:ip(n,e),fields:t.value.mapValue.fields}}function LC(n,e,t){const r=uo(n,e.name),i=si(e.updateTime),a=new ii({mapValue:{fields:e.fields}}),c=Hn.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Bl(n,e){let t;if(e instanceof $d)t={update:o_(n,e.key,e.value)};else if(e instanceof Fl)t={delete:ip(n,e.key)};else if(e instanceof Oa)t={update:o_(n,e.key,e.data),updateMask:BC(e.fieldMask)};else{if(!(e instanceof e_))return Ct();t={verify:ip(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof ep)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Eu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zd)return{fieldPath:a.field.canonicalString(),increment:c._t};throw Ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:XT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ct()),t;var i}function Nb(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?_r.updateTime(si(i.updateTime)):void 0!==i.exists?_r.exists(i.exists):_r.none():_r.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?($t("REQUEST_TIME"===c.setToServerValue),f=new ep):"appendMissingElements"in c?f=new wu(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Eu(c.removeAllFromArray.values||[]):"increment"in c?f=new zd(a,c.increment):Ct();const _=Xn.fromServerFormat(c.fieldPath);return new Qg(_,f)}(n,i)):[];var i;if(e.update){const i=uo(n,e.update.name),a=new ii({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new vs((e.updateMask.fieldPaths||[]).map(w=>Xn.fromServerFormat(w)));return new Oa(i,a,c,t,r)}return new $d(i,a,t,r)}if(e.delete){const i=uo(n,e.delete);return new Fl(i,t)}if(e.verify){const i=uo(n,e.verify);return new e_(i,t)}return Ct()}function a_(n,e){return{documents:[s_(n,e.path)]}}function Fb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=s_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=s_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(I=>function(M){if("=="===M.op){if(Bd(M.value))return{unaryFilter:{field:Ul(M.field),op:"IS_NAN"}};if(Kf(M.value))return{unaryFilter:{field:Ul(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Bd(M.value))return{unaryFilter:{field:Ul(M.field),op:"IS_NOT_NAN"}};if(Kf(M.value))return{unaryFilter:{field:Ul(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(M.field),op:sA(M.op),value:M.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:Ul((I=w).field),direction:VC(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(w=e.limit,n.dt||Ld(w)?w:{value:w});var w,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Lb(n){let e=tA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){$t(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=Vb(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(I=>{return new jd(Gd((M=I).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(I){let M;return M="object"==typeof I?I.value:I,Ld(M)?null:M}(t.limit));let _=null;var I;t.startAt&&(_=new ka((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new ka(I.values||[],!I.before)}(t.endAt)),wb(e,i,c,a,f,"F",_,w)}function Vb(n){return n?void 0!==n.unaryFilter?[Du(n)]:void 0!==n.fieldFilter?[Bb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Vb(e)).reduce((e,t)=>e.concat(t)):Ct():[]}function VC(n){return r_[n]}function sA(n){return QT[n]}function Ul(n){return{fieldPath:n.canonicalString()}}function Gd(n){return Xn.fromServerFormat(n.fieldPath)}function Bb(n){return yi.create(Gd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function Du(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Gd(n.unaryFilter.field);return yi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Gd(n.unaryFilter.field);return yi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gd(n.unaryFilter.field);return yi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gd(n.unaryFilter.field);return yi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}function BC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function yr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aA(e)),e=oA(n.get(t),e);return aA(e)}function oA(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function aA(n){return n+"\x01\x01"}function No(n){const e=n.length;if($t(e>=2),2===e)return $t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_n.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&Ct(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:Ct()}a=c+2}return new _n(r)}const UC=["userId","batchId"];function l_(n,e){return[n,yr(e)]}function jC(n,e,t){return[n,yr(e),t]}const HC={},oO=["prefixPath","collectionGroup","readTime","documentId"],zC=["prefixPath","collectionGroup","documentId"],uA=["collectionGroup","readTime","prefixPath","documentId"],$C=["canonicalId","targetId"],aO=["targetId","path"],Ub=["path","targetId"],GC=["collectionId","parent"],WC=["indexId","uid"],lA=["uid","sequenceNumber"],qC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KC=["indexId","uid","orderedDocumentKey"],c_=["userId","collectionPath","documentId"],d_=["userId","collectionPath","largestBatchId"],ZC=["userId","collectionGroup","largestBatchId"],YC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],QC=[...YC,"documentOverlays"],jb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JC=jb,cA=[...JC,"indexConfiguration","indexState","indexEntries"];class XC extends Ug{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function vi(n,e){const t=lt(n);return _s.N(t.ee,e)}class h_{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&TC(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=KT();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const _=Ab(c,f);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Gt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&xd(this.mutations,e.mutations,(t,r)=>Mb(t,r))&&xd(this.baseMutations,e.baseMutations,(t,r)=>Mb(t,r))}}class Hb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$t(e.mutations.length===r.length);let i=iO;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new Hb(e,t,r,i)}}class zb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Iu{constructor(e,t,r,i,a=Gt.min(),c=Gt.min(),f=Jr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dA{constructor(e){this.ne=e}}function hA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$b(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ip(i=n.ne,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:i_(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Wd(e.version)};else{if(!e.isUnknownDocument())return Ct();r.unknownDocument={path:t.path.toArray(),version:Wd(e.version)}}var i,a;return r}function $b(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Wd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jl(n){const e=new lr(n.seconds,n.nanoseconds);return Gt.fromTimestamp(e)}function Fo(n,e){const t=(e.baseMutations||[]).map(a=>Nb(n.ne,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>Nb(n.ne,a)),i=lr.fromMillis(e.localWriteTimeMs);return new h_(e.batchId,i,t,r)}function sp(n){const e=jl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jl(n.lastLimboFreeSnapshotVersion):Gt.min();let r;var i;return void 0!==n.query.documents?($t(1===(i=n.query).documents.length),r=bs(zr(tA(i.documents[0])))):r=bs(Lb(n.query)),new Iu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Jr.fromBase64String(n.resumeToken))}function eD(n,e){const t=Wd(e.snapshotVersion),r=Wd(e.lastLimboFreeSnapshotVersion);let i;i=Ud(e.target)?a_(n.ne,e.target):Fb(n.ne,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ol(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function f_(n){const e=Lb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Db(e,e.limit,"L"):e}function Pa(n,e){return new zb(e.largestBatchId,Nb(n.ne,e.overlayMutation))}function Gb(n,e){const t=e.path.lastSegment();return[n,yr(e.path.popLast()),t]}function p_(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Wd(r.readTime),documentKey:yr(r.documentKey.path),largestBatchId:r.largestBatchId}}class Wb{getBundleMetadata(e,t){return tD(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:jl(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return tD(e).put({bundleId:(r=t).id,createTime:Wd(si(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return m_(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:f_(i.bundledQuery),readTime:jl(i.readTime)};var i})}saveNamedQuery(e,t){return m_(e).put({name:(r=t).name,readTime:Wd(si(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tD(n){return vi(n,"bundles")}function m_(n){return vi(n,"namedQueries")}class qd{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new qd(e,t.uid||"")}getOverlay(e,t){return Su(e).get(Gb(this.userId,t)).next(r=>r?Pa(this.wt,r):null)}getOverlays(e,t){const r=Ra();return Te.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new zb(t,c);i.push(this.ie(e,f))}),Te.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(yr(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Su(e).W("collectionPathOverlayIndex",f))}),Te.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Ra(),a=yr(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Su(e).K("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const w=Pa(this.wt,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Ra();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Su(e).J({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const M=Pa(this.wt,w);a.size()<i||M.largestBatchId===c?(a.set(M.getKey(),M),c=M.largestBatchId):I.done()}).next(()=>a)}ie(e,t){return Su(e).put(function(r,i,a){const[c,f,_]=Gb(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Bl(r.ne,a.mutation)}}(this.wt,this.userId,t))}}function Su(n){return vi(n,"documentOverlays")}class Kd{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ar(e.integerValue));else if("doubleValue"in e){const r=Ar(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Vd(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(xl(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?dC(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Ct()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),ot.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function lO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function fA(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=lO(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Kd.ye=new Kd;class cO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=fA(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=fA(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class nD{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class pA{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class op{constructor(){this.Me=new cO,this.Fe=new nD(this.Me),this.$e=new pA(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Hl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Hl(this.indexId,this.documentKey,this.arrayValue,r)}}function zl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=qb(n.arrayValue,e.arrayValue),0!==t?t:(t=qb(n.directionalValue,e.directionalValue),0!==t?t:ot.comparator(n.documentKey,e.documentKey)))}function qb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class rD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=Vg(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Sl(e);let i=0,a=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const c=r[i];if(!this.je(this.Ke,c)||!this.We(this.Ue[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Ue.length||!this.We(this.Ue[a++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class iD{constructor(){this.ze=new Kb}addToCollectionParentIndex(e,t){return this.ze.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(gs.min())}updateCollectionGroup(e,t,r){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class Kb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new jn(_n.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jn(_n.comparator)).toArray()}}const g_=new Uint8Array(0);class sD{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Kb,this.Je=new Ll(r=>Ol(r),(r,i)=>Rl(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const a={collectionId:r,parent:yr(i)};return __(e).put(a)}return Te.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[tC(t),""],!1,!0);return __(e).K(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(No(c.parent))}return r})}addFieldIndex(e,t){const r=ap(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=$l(e);return a.next(f=>{c.put(p_(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=ap(e),i=$l(e),a=y_(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=y_(e);let i=!0;const a=new Map;return Te.forEach(this.Ye(t),c=>this.Xe(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=Jt();const f=[];return Te.forEach(a,(_,w)=>{var I;Ye("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Vt=>`${Vt.fieldPath}:${Vt.kind}`).join(",")}`} to execute ${Ol(t)}`);const M=function(Vt,Tt){const tn=Vg(Tt);if(void 0===tn)return null;for(const ln of Yf(Vt,tn.fieldPath))switch(ln.op){case"array-contains-any":return ln.value.arrayValue.values||[];case"array-contains":return[ln.value]}return null}(w,_),z=function(Vt,Tt){const tn=new Map;for(const ln of Sl(Tt))for(const Vn of Yf(Vt,ln.fieldPath))switch(Vn.op){case"==":case"in":tn.set(ln.fieldPath.canonicalString(),Vn.value);break;case"not-in":case"!=":return tn.set(ln.fieldPath.canonicalString(),Vn.value),Array.from(tn.values())}return null}(w,_),G=function(Vt,Tt){const tn=[];let ln=!0;for(const Vn of Sl(Tt)){const As=0===Vn.kind?Gg(Vt,Vn.fieldPath,Vt.startAt):Wg(Vt,Vn.fieldPath,Vt.startAt);tn.push(As.value),ln&&(ln=As.inclusive)}return new ka(tn,ln)}(w,_),te=function(Vt,Tt){const tn=[];let ln=!0;for(const Vn of Sl(Tt)){const As=0===Vn.kind?Wg(Vt,Vn.fieldPath,Vt.endAt):Gg(Vt,Vn.fieldPath,Vt.endAt);tn.push(As.value),ln&&(ln=As.inclusive)}return new ka(tn,ln)}(w,_),ye=this.Ze(_,w,G),Ve=this.Ze(_,w,te),nt=this.tn(_,w,z),bt=this.en(_.indexId,M,ye,G.inclusive,Ve,te.inclusive,nt);return Te.forEach(bt,Vt=>r.j(Vt,t.limit).next(Tt=>{Tt.forEach(tn=>{const ln=ot.fromSegments(tn.documentKey);c.has(ln)||(c=c.add(ln),f.push(ln))})}))}).next(()=>f)}return Te.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let M=0;M<_;++M){const z=t?this.nn(t[M/w]):g_,G=this.sn(e,z,r[M%w],i),te=this.rn(e,z,a[M%w],c),ye=f.map(Ve=>this.sn(e,z,Ve,!0));I.push(...this.createRange(G,te,ye))}return I}sn(e,t,r,i){const a=new Hl(e,ot.empty(),t,r);return i?a:a.Le()}rn(e,t,r,i){const a=new Hl(e,ot.empty(),t,r);return i?a.Le():a}Xe(e,t){const r=new rD(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const f of a)r.Ge(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;return Te.forEach(this.Ye(t),i=>this.Xe(e,i).next(a=>{a?0!==r&&a.fields.length<function(c){let f=new jn(Xn.comparator),_=!1;for(const w of c.filters){const I=w;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const w of c.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new op;for(const i of Sl(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Be(i.kind);Kd.ye.re(a,c)}return r.Oe()}nn(e){const t=new op;return Kd.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new op;return Kd.ye.re(Ma(this.databaseId,t),r.Be(function(i){const a=Sl(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new op);let a=0;for(const c of Sl(e)){const f=r[a++];for(const _ of i)if(this.cn(t,c.fieldPath)&&qf(f))i=this.an(i,c,f);else{const w=_.Be(c.kind);Kd.ye.re(f,w)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new op;_.seed(f.Oe()),Kd.ye.re(c,_.Be(t.kind)),a.push(_)}return a}cn(e,t){return!!e.filters.find(r=>r instanceof yi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ap(e),i=$l(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(a=>{const c=[];return Te.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(w,I){const M=I?new Tl(I.sequenceNumber,new gs(jl(I.readTime),new ot(No(I.documentKey)),I.largestBatchId)):Tl.empty(),z=w.fields.map(([G,te])=>new Bg(Xn.fromServerFormat(G),te));return new Rd(w.indexId,w.collectionGroup,z,M)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:en(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ap(e),a=$l(e);return this.ln(e).next(c=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>Te.forEach(f,_=>a.put(p_(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return Te.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?Te.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),Te.forEach(f,_=>this.fn(e,i,_).next(w=>{const I=this.dn(a,_);return w.isEqual(I)?Te.resolve():this._n(e,a,_,w,I)}))))})}wn(e,t,r,i){return y_(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return y_(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=y_(e);let a=new jn(zl);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,f)=>{a=a.add(new Hl(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}dn(e,t){let r=new jn(zl);const i=this.on(t,e);if(null==i)return r;const a=Vg(t);if(null!=a){const c=e.data.field(a.fieldPath);if(qf(c))for(const f of c.arrayValue.values||[])r=r.add(new Hl(t.indexId,e.key,this.nn(f),i))}else r=r.add(new Hl(t.indexId,e.key,g_,i));return r}_n(e,t,r,i,a){Ye("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,w,I,M){const z=f.getIterator(),G=_.getIterator();let te=kl(z),ye=kl(G);for(;te||ye;){let Ve=!1,nt=!1;if(te&&ye){const bt=w(te,ye);bt<0?nt=!0:bt>0&&(Ve=!0)}else null!=te?nt=!0:Ve=!0;Ve?(I(ye),ye=kl(G)):nt?(M(te),te=kl(z)):(te=kl(z),ye=kl(G))}}(i,a,zl,f=>{c.push(this.wn(e,t,r,f))},f=>{c.push(this.mn(e,t,r,f))}),Te.waitFor(c)}ln(e){let t=1;return $l(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>zl(c,f)).filter((c,f,_)=>!f||0!==zl(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=zl(c,e),_=zl(c,t);if(0===f)i[0]=e.Le();else if(f>0&&_<0)i.push(c),i.push(c.Le());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,g_,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,g_,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(oD)}getMinOffset(e,t){return Te.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||Ct())).next(oD)}}function __(n){return vi(n,"collectionParents")}function y_(n){return vi(n,"indexEntries")}function ap(n){return vi(n,"indexConfiguration")}function $l(n){return vi(n,"indexState")}function oD(n){$t(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;ub(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new gs(e.readTime,e.documentKey,t)}const aD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Cs(e,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mA(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.J({range:c},(I,M,z)=>(f++,z.delete()));a.push(_.next(()=>{$t(1===f)}));const w=[];for(const I of t.mutations){const M=jC(e,I.key.path,t.batchId);a.push(i.delete(M)),w.push(I.key)}return Te.waitFor(a).next(()=>w)}function v_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ct();e=n.noDocument}return JSON.stringify(e).length}Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(41943040,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class b_{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){$t(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new b_(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gl(e).J({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=up(e),c=Gl(e);return c.add({}).next(f=>{$t("number"==typeof f);const _=new h_(f,t,r,i),w=function(z,G,te){const ye=te.baseMutations.map(nt=>Bl(z.ne,nt)),Ve=te.mutations.map(nt=>Bl(z.ne,nt));return{userId:G,batchId:te.batchId,localWriteTimeMs:te.localWriteTime.toMillis(),baseMutations:ye,mutations:Ve}}(this.wt,this.userId,_),I=[];let M=new jn((z,G)=>en(z.canonicalString(),G.canonicalString()));for(const z of i){const G=jC(this.userId,z.key.path,f);M=M.add(z.key.path.popLast()),I.push(c.put(w)),I.push(a.put(G,HC))}return M.forEach(z=>{I.push(this.indexManager.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.gn[f]=_.keys()}),Te.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Gl(e).get(t).next(r=>r?($t(r.userId===this.userId),Fo(this.wt,r)):null)}yn(e,t){return this.gn[t]?Te.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Gl(e).J({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&($t(f.batchId>=r),a=Fo(this.wt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Gl(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gl(e).K("userMutationsIndex",t).next(r=>r.map(i=>Fo(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=l_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return up(e).J({range:i},(c,f,_)=>{const[w,I,M]=c,z=No(I);if(w===this.userId&&t.path.isEqual(z))return Gl(e).get(M).next(G=>{if(!G)throw Ct();$t(G.userId===this.userId),a.push(Fo(this.wt,G))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(en);const i=[];return t.forEach(a=>{const c=l_(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=up(e).J({range:f},(w,I,M)=>{const[z,G,te]=w,ye=No(G);z===this.userId&&a.path.isEqual(ye)?r=r.add(te):M.done()});i.push(_)}),Te.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=l_(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new jn(en);return up(e).J({range:c},(_,w,I)=>{const[M,z,G]=_,te=No(z);M===this.userId&&r.isPrefixOf(te)?te.length===i&&(f=f.add(G)):I.done()}).next(()=>this.pn(e,f))}pn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Gl(e).get(a).next(c=>{if(null===c)throw Ct();$t(c.userId===this.userId),r.push(Fo(this.wt,c))}))}),Te.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return mA(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Te.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return up(e).J({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=No(a[1]);i.push(_)}else f.done()}).next(()=>{$t(0===i.length)})})}containsKey(e,t){return uD(e,this.userId,t)}Tn(e){return gA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uD(n,e,t){const r=l_(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return up(n).J({range:a,H:!0},(f,_,w)=>{const[I,M,z]=f;I===e&&M===i&&(c=!0),w.done()}).next(()=>c)}function Gl(n){return vi(n,"mutations")}function up(n){return vi(n,"documentMutations")}function gA(n){return vi(n,"mutationQueues")}class Zd{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Zd(0)}static Rn(){return new Zd(-1)}}class dO{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new Zd(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Gt.fromTimestamp(new lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yd(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>($t(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Yd(e).J((c,f)=>{const _=sp(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>Te.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Yd(e).J((r,i)=>{const a=sp(i);t(a)})}bn(e){return _A(e).get("targetGlobalKey").next(t=>($t(null!==t),t))}Pn(e,t){return _A(e).put("targetGlobalKey",t)}vn(e,t){return Yd(e).put(eD(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ol(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Yd(e).J({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const w=sp(f);Rl(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Wl(e);return t.forEach(c=>{const f=yr(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),Te.waitFor(i)}removeMatchingKeys(e,t,r){const i=Wl(e);return Te.forEach(t,a=>{const c=yr(a.path);return Te.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Wl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Wl(e);let a=Jt();return i.J({range:r,H:!0},(c,f,_)=>{const w=No(c[1]),I=new ot(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=yr(t.path),i=IDBKeyRange.bound([r],[tC(r)],!1,!0);let a=0;return Wl(e).J({index:"documentTargetsIndex",H:!0,range:i},([c,f],_,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}te(e,t){return Yd(e).get(t).next(r=>r?sp(r):null)}}function Yd(n){return vi(n,"targets")}function _A(n){return vi(n,"targetGlobal")}function Wl(n){return vi(n,"targetDocuments")}function yA([n,e],[t,r]){const i=en(n,t);return 0===i?en(e,r):i}class hO{constructor(e){this.Sn=e,this.buffer=new jn(yA),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class s{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ne.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Aa(r)?Ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield gu(r)}yield t.kn(3e5)}))}}class o{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Te.resolve(ys.ot);const r=new hO(t);return this.On.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.On.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(aD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aD):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,i,a,c,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(w=Date.now(),sb()<=pl.in.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-I}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class u{constructor(e,t){this.db=e,this.garbageCollector=new o(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return d(e,r)}removeReference(e,t,r){return d(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return d(e,t)}Un(e,t){return function(r,i){let a=!1;return gA(r).Y(c=>uD(r,c,i).next(f=>(f&&(a=!0),Te.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Ln(e,(c,f)=>{if(f<=t){const _=this.Un(e,c).next(w=>{if(!w)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Gt.min()),Wl(e).delete([0,yr(c.path)])))});i.push(_)}}).next(()=>Te.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return d(e,t)}Ln(e,t){const r=Wl(e);let i,a=ys.ot;return r.J({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:w})=>{0===c?(a!==ys.ot&&t(new ot(No(i)),a),a=w,i=_):a=ys.ot}).next(()=>{a!==ys.ot&&t(new ot(No(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function d(n,e){return Wl(n).put((r=n.currentSequenceNumber,{targetId:0,path:yr(e.path),sequenceNumber:r}));var r}class h{constructor(){this.changes=new Ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class m{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return S(e).put(r)}removeEntry(e,t,r){return S(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],$b(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Hn.newInvalidDocument(t);return S(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(R(t))},(i,a)=>{r=this.Kn(t,a)}).next(()=>r)}Gn(e,t){let r={size:0,document:Hn.newInvalidDocument(t)};return S(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(R(t))},(i,a)=>{r={document:this.Kn(t,a),size:v_(a)}}).next(()=>r)}getEntries(e,t){let r=ws();return this.Qn(e,t,(i,a)=>{const c=this.Kn(i,a);r=r.insert(i,c)}).next(()=>r)}jn(e,t){let r=ws(),i=new Nr(ot.comparator);return this.Qn(e,t,(a,c)=>{const f=this.Kn(a,c);r=r.insert(a,f),i=i.insert(a,v_(c))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return Te.resolve();let i=new jn(ue);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(R(i.first()),R(i.last())),c=i.getIterator();let f=c.getNext();return S(e).J({index:"documentKeyIndex",range:a},(_,w,I)=>{const M=ot.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&ue(f,M)<0;)r(f,null),f=c.getNext();f&&f.isEqual(M)&&(r(f,w),f=c.hasNext()?c.getNext():null),f?I.q(R(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),$b(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return S(e).K(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=ws();for(const _ of c){const w=this.Kn(ot.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=ws();const c=$(t,r),f=$(t,gs.max());return S(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,w,I)=>{const M=this.Kn(ot.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(M.key,M),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new C(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return D(e).get("remoteDocumentGlobalKey").next(t=>($t(!!t),t))}qn(e,t){return D(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function uO(n,e){let t;if(e.document)t=LC(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ot.fromSegments(e.noDocument.path),i=jl(e.noDocument.readTime);t=Hn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ct();{const r=ot.fromSegments(e.unknownDocument.path),i=jl(e.unknownDocument.version);t=Hn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new lr(r[0],r[1]);return Gt.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Gt.min()))return r}return Hn.newInvalidDocument(e)}}function v(n){return new m(n)}class C extends h{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Ll(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new jn((a,c)=>en(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Hn.get(a);if(t.push(this.zn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=hA(this.zn.wt,c);i=i.add(a.path.popLast()),r+=v_(_)-f.size,t.push(this.zn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=hA(this.zn.wt,c.convertToNoDocument(Gt.min()));t.push(this.zn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.zn.updateMetadata(e,r)),Te.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((a,c)=>{this.Hn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function D(n){return vi(n,"remoteDocumentGlobal")}function S(n){return vi(n,"remoteDocumentsV14")}function R(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $(n,e){const t=e.documentKey.path.toArray();return[n,$b(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ue(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=en(t[a],r[a]),i)return i;return i=en(t.length,r.length),i||(i=en(t[t.length-2],r[r.length-2]),i||en(t[t.length-1],r[r.length-1]))}class ve{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Be{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&tp(r.mutation,i,vs.empty(),lr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Jt()){const i=Ra();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=t_();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ra();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=ws();const c=Cu(),f=Cu();return t.forEach((_,w)=>{const I=r.get(w.key);i.has(w.key)&&(void 0===I||I.mutation instanceof Oa)?a=a.insert(w.key,w):void 0!==I&&(c.set(w.key,I.mutation.getFieldMask()),tp(I.mutation,w,I.mutation.getFieldMask(),lr.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>c.set(w,I)),t.forEach((w,I)=>{var M;return f.set(w,new ve(I,null!==(M=c.get(w))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Cu();let i=new Nr((c,f)=>c-f),a=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=r.get(_)||vs.empty();I=f.applyToLocalView(w,I),r.set(_,I);const M=(i.get(f.batchId)||Jt()).add(_);i=i.insert(f.batchId,M)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,M=KT();I.forEach(z=>{if(!a.has(z)){const G=Ab(t.get(z),r.get(z));null!==G&&M.set(z,G),a=a.add(z)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,M))}return Te.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ot.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Te.resolve(Ra());let f=-1,_=a;return c.next(w=>Te.forEach(w,(I,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(I)?Te.resolve():this.getBaseDocument(e,I,M).next(z=>{_=_.insert(I,z)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Jt())).next(I=>({batchId:f,changes:qT(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(r=>{let i=t_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=t_();return this.indexManager.getCollectionParents(e,i).next(c=>Te.forEach(c,f=>{const _=(w=t,I=f.child(i),new Po(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((I,M)=>{a=a.insert(I,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((f,_)=>{const w=_.getKey();null===i.get(w)&&(i=i.insert(w,Hn.newInvalidDocument(w)))});let c=t_();return i.forEach((f,_)=>{const w=a.get(f);void 0!==w&&tp(w.mutation,_,vs.empty(),lr.now()),Ib(t,_)&&(c=c.insert(f,_))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Te.resolve(Hn.newInvalidDocument(t))}}class Qe{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Te.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:si(r.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:f_(r.bundledQuery),readTime:si(r.readTime)}),Te.resolve();var r}}class at{constructor(){this.overlays=new Nr(ot.comparator),this.Xn=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ra();return Te.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ie(e,t,a)}),Te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(r)),Te.resolve()}getOverlaysForCollection(e,t,r){const i=Ra(),a=t.length+1,c=new ot(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return Te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Nr((w,I)=>w-I);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=Ra(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=Ra(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return Te.resolve(f)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new zb(t,r));let a=this.Xn.get(t);void 0===a&&(a=Jt(),this.Xn.set(t,a)),this.Xn.set(t,a.add(r.key))}}class mt{constructor(){this.Zn=new jn(gt.ts),this.es=new jn(gt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new gt(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new gt(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new ot(new _n([])),r=new gt(t,e),i=new gt(t,e+1),a=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),a.push(c.key)}),a}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ot(new _n([])),r=new gt(t,e),i=new gt(t,e+1);let a=Jt();return this.es.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new gt(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class gt{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ot.comparator(e.key,t.key)||en(e.ls,t.ls)}static ns(e,t){return en(e.ls,t.ls)||ot.comparator(e.key,t.key)}}class We{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new jn(gt.ts)}checkEmpty(e){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.fs;this.fs++;const c=new h_(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.ds=this.ds.add(new gt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Te.resolve(c)}lookupMutationBatch(e,t){return Te.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),a=i<0?0:i;return Te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gt(t,0),i=new gt(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],c=>{const f=this._s(c.ls);a.push(f)}),Te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(en);return t.forEach(i=>{const a=new gt(i,0),c=new gt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,c],f=>{r=r.add(f.ls)})}),Te.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ot.isDocumentKey(a)||(a=a.child(""));const c=new gt(new ot(a),0);let f=new jn(en);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.ls)),!0)},c),Te.resolve(this.gs(f))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){$t(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return Te.forEach(t.mutations,i=>{const a=new gt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new gt(t,0),i=this.ds.firstAfterOrEqual(r);return Te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Te.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ft{constructor(e){this.ps=e,this.docs=new Nr(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Te.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(t))}getEntries(e,t){let r=ws();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Hn.newInvalidDocument(i))}),Te.resolve(r)}getAllFromCollection(e,t,r){let i=ws();const a=new ot(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||ub(FT(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return Te.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Ct()}Is(e,t){return Te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yn(this)}getSize(e){return Te.resolve(this.size)}}class yn extends h{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),Te.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class er{constructor(e){this.persistence=e,this.Ts=new Ll(t=>Ol(t),Rl),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.Es=0,this.As=new mt,this.targetCount=0,this.Rs=Zd.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),Te.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Zd(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.vn(t),Te.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Ts.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Ts.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),Te.waitFor(a).next(()=>i)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return Te.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Te.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),Te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Te.resolve(r)}containsKey(e,t){return Te.resolve(this.As.containsKey(t))}}class Tu{constructor(e,t){this.bs={},this.overlays={},this.Ps=new ys(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new er(this),this.indexManager=new iD,this.remoteDocumentCache=new Ft(r=>this.referenceDelegate.Ss(r)),this.wt=new dA(t),this.Ds=new Qe(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new at,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new We(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Ye("MemoryPersistence","Starting transaction:",e);const i=new Zb(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(a=>this.referenceDelegate.xs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ns(e,t){return Te.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class Zb extends Ug{constructor(e){super(),this.currentSequenceNumber=e}}class Qd{constructor(e){this.persistence=e,this.ks=new mt,this.Os=null}static Ms(e){return new Qd(e)}get Fs(){if(this.Os)return this.Os;throw Ct()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),Te.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Te.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Fs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Fs,r=>{const i=ot.fromPath(r);return this.$s(e,i).next(a=>{a||t.removeEntry(i,Gt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Te.or([()=>Te.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Yb{constructor(e){this.wt=e}O(e,t,r,i){const a=new jg("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UC,{unique:!0}),f.createObjectStore("documentMutations"),w_(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=Te.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),w_(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").K().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UC,{unique:!0});const I=_.store("mutations"),M=w.map(z=>I.put(z));return Te.waitFor(M)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Bs(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(a)))),r<7&&i>=7&&(c=c.next(()=>this.Us(a))),r<8&&i>=8&&(c=c.next(()=>this.qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Ks(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:c_});_.createIndex("collectionPathOverlayIndex",d_,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",ZC,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:oO});_.createIndex("documentKeyIndex",zC),_.createIndex("collectionGroupIndex",uA)}(e)).next(()=>this.Gs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Qs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:WC}).createIndex("sequenceNumberIndex",lA,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:qC}).createIndex("documentKeyIndex",KC,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=v_(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>Te.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(f=>Te.forEach(f,_=>{$t(_.userId===a.userId);const w=Fo(this.wt,_);return mA(e,a.userId,w).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.J((c,f)=>{const _=new _n(c),w=[0,yr(_)];a.push(t.get(w).next(I=>I?Te.resolve():t.put({targetId:0,path:yr(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Te.waitFor(a))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:GC});const r=t.store("collectionParents"),i=new Kb,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:yr(_)})}};return t.store("remoteDocuments").J({H:!0},(c,f)=>{const _=new _n(c);return a(_.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,f,_],w)=>{const I=No(f);return a(I.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const a=sp(i),c=eD(this.wt,a);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(w=c,w.document?new ot(_n.fromString(w.document.name).popFirst(5)):w.noDocument?ot.fromSegments(w.noDocument.path):w.unknownDocument?ot.fromSegments(w.unknownDocument.path):Ct()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(I))}).next(()=>Te.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=v(this.wt),a=new Tu(Qd.Ms,this.wt.ne);return r.K().next(c=>{const f=new Map;return c.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:Jt();Fo(this.wt,_).keys().forEach(M=>I=I.add(M)),f.set(_.userId,I)}),Te.forEach(f,(_,w)=>{const I=new Qr(w),M=qd.se(this.wt,I),z=a.getIndexManager(I),G=b_.se(I,this.wt,z,a.referenceDelegate);return new Be(i,G,M,z).recalculateAndSaveOverlaysForDocumentKeys(new XC(t,ys.ot),_).next()})})}}function w_(n){n.createObjectStore("targetDocuments",{keyPath:aO}).createIndex("documentTargetsIndex",Ub,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$C,{unique:!0}),n.createObjectStore("targetGlobal")}const lp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cp{constructor(e,t,r,i,a,c,f,_,w,I,M=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=a,this.window=c,this.document=f,this.Ws=w,this.zs=I,this.Hs=M,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=z=>Promise.resolve(),!cp.V())throw new Ge(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new u(this,i),this.ei=t+"main",this.wt=new dA(_),this.ni=new _s(this.ei,this.Hs,new Yb(this.wt)),this.Vs=new dO(this.referenceDelegate,this.wt),this.remoteDocumentCache=v(this.wt),this.Ds=new Wb,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===I&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(Re.FAILED_PRECONDITION,lp);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new ys(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,Ne.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Ne.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Aa(e))return Ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return ql(e).get("owner").next(t=>Te.resolve(this.di(t)))}_i(e){return Jd(e).delete(this.clientId)}wi(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=vi(r,"clientMetadata");return i.K().next(a=>{const c=e.gi(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return Te.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Te.resolve(!0):ql(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Ge(Re.FAILED_PRECONDITION,lp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jd(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ye("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new XC(t,ys.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Jd(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return b_.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sD(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return qd.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Ye("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Hs)?cA:14===c?JC:13===c?jb:12===c?QC:11===c?YC:void Ct();var c;let f;return this.ni.runTransaction(e,i,a,_=>(f=new XC(_,this.Ps?this.Ps.next():ys.ot),"readwrite-primary"===t?this.ai(f).next(w=>!!w||this.hi(f)).next(w=>{if(!w)throw Pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ge(Re.FAILED_PRECONDITION,lb);return r(f)}).next(w=>this.fi(f).next(()=>w)):this.bi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}bi(e){return ql(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ge(Re.FAILED_PRECONDITION,lp)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ql(e).put("owner",t)}static V(){return _s.V()}li(e){const t=ql(e);return t.get("owner").next(r=>this.di(r)?(Ye("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Te.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,pn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Ye("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Pr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ql(n){return vi(n,"owner")}function Jd(n){return vi(n,"clientMetadata")}function dp(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class vA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Jt(),i=Jt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new vA(e,t.fromCache,r,i)}}class fO{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(a=>a||this.xi(e,t,i,r)).next(a=>a||this.Ni(e,t))}Ci(e,t){return Te.resolve(null)}xi(e,t,r,i){return function Hd(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Gt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(a=>{const c=this.ki(t,a);return this.Oi(t,c,r,i)?this.Ni(e,t):(sb()<=pl.in.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jf(t)),this.Mi(e,c,t,nC(i,-1)))})}ki(e,t){let r=new jn(CC(e));return t.forEach((i,a)=>{Ib(e,a)&&(r=r.add(a))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ni(e,t){return sb()<=pl.in.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",Jf(t)),this.Di.getDocumentsMatchingQuery(e,t,gs.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class DF{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new Nr(en),this.Bi=new Ll(a=>Ol(a),Rl),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Be(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function pO(n,e,t,r){return new DF(n,e,t,r)}function mO(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,Ne.Z)(function*(n,e){const t=lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=Jt();for(const w of i){c.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(r,_).next(w=>({Ki:w,removedBatchIds:c,addedBatchIds:f}))})})}),bA.apply(this,arguments)}function IF(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,f,_,w){const I=_.batch,M=I.keys();let z=Te.resolve();return M.forEach(G=>{z=z.next(()=>w.getEntry(f,G)).next(te=>{const ye=_.docVersions.get(G);$t(null!==ye),te.version.compareTo(ye)<0&&(I.applyToRemoteDocument(te,_),te.isValidDocument()&&(te.setReadTime(_.commitVersion),w.addEntry(te)))})}),z.next(()=>c.mutationQueue.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Jt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function gO(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function SF(n,e){const t=lt(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const f=[];e.targetChanges.forEach((I,M)=>{const z=i.get(M);if(!z)return;f.push(t.Vs.removeMatchingKeys(a,I.removedDocuments,M).next(()=>t.Vs.addMatchingKeys(a,I.addedDocuments,M)));let G=z.withSequenceNumber(a.currentSequenceNumber);var te,ye,Ve;e.targetMismatches.has(M)?G=G.withResumeToken(Jr.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):I.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(I.resumeToken,r)),i=i.insert(M,G),ye=G,Ve=I,(0===(te=z).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=3e8||Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(a,G))});let _=ws(),w=Jt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(_O(a,c,e.documentUpdates).next(I=>{_=I.Gi,w=I.Qi})),!r.isEqual(Gt.min())){const I=t.Vs.getLastRemoteSnapshotVersion(a).next(M=>t.Vs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(I)}return Te.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.$i=i,a))}function _O(n,e,t){let r=Jt(),i=Jt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=ws();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Gt.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Ye("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Gi:c,Qi:i}})}function TF(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function E_(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(a=>a?(i=a,Te.resolve(i)):t.Vs.allocateTargetId(r).next(c=>(i=new Iu(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function C_(n,e,t){return wA.apply(this,arguments)}function wA(){return wA=(0,Ne.Z)(function*(n,e,t){const r=lt(n),i=r.$i.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Aa(c))throw c;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),wA.apply(this,arguments)}function lD(n,e,t){const r=lt(n);let i=Gt.min(),a=Jt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,w){const I=lt(f),M=I.Bi.get(w);return void 0!==M?Te.resolve(I.$i.get(M)):I.Vs.getTargetData(_,w)}(r,c,bs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?i:Gt.min(),t?a:Jt())).next(f=>(bO(r,Sb(e),f),{documents:f,ji:a})))}function yO(n,e){const t=lt(n),r=lt(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.te(a,e).next(c=>c?c.target:null))}function vO(n,e){const t=lt(n),r=t.Li.get(e)||Gt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,nC(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(bO(t,e,i),i))}function bO(n,e,t){let r=Gt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Li.set(e,r)}function EA(){return EA=(0,Ne.Z)(function*(n,e,t,r){const i=lt(n);let a=Jt(),c=ws();for(const w of t){const I=e.Wi(w.metadata.name);w.document&&(a=a.add(I));const M=e.zi(w);M.setReadTime(e.Hi(w.metadata.readTime)),c=c.insert(I,M)}const f=i.Ui.newChangeBuffer({trackRemovals:!0}),_=yield E_(i,(w=r,bs(zr(_n.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>_O(w,f,c).next(I=>(f.apply(w),I)).next(I=>i.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Vs.addMatchingKeys(w,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,I.Gi,I.Qi)).next(()=>I.Gi)))}),EA.apply(this,arguments)}function MF(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,Ne.Z)(function*(n,e,t=Jt()){const r=yield E_(n,bs(f_(e.bundledQuery))),i=lt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=si(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ds.saveNamedQuery(a,e);const f=r.withResumeToken(Jr.EMPTY_BYTE_STRING,c);return i.$i=i.$i.insert(f.targetId,f),i.Vs.updateTargetData(a,f).next(()=>i.Vs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Vs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(a,e))})}),CA.apply(this,arguments)}function wO(n,e){return`firestore_clients_${n}_${e}`}function EO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function DA(n,e){return`firestore_targets_${n}_${e}`}class cD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Ge(i.error.code,i.error.message))),c?new cD(e,t,i.state,a):(Pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ge(r.error.code,r.error.message))),a?new Qb(e,r.state,i):(Pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=np();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=pb(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new dD(e,a):(Pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class IA{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new IA(t.clientId,t.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class SA{constructor(){this.activeTargetIds=np()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TA{constructor(e,t,r,i,a){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Nr(en),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=wO(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new SA),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const a=e.getItem(wO(e.persistenceKey,i));if(a){const c=dD.Ji(i,a);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(DA(this.persistenceKey,e));if(r){const i=Qb.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ye("SharedClientState","READ",e,t),t}setItem(e,t){Ye("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ye("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(a){let c=ys.ot;if(null!=a)try{const f=JSON.parse(a);$t("number"==typeof f),c=f}catch(f){Pr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==ys.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new cD(this.currentUser,e,t,r),a=EO(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Yi())}pr(e){const t=EO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=DA(this.persistenceKey,e),a=new Qb(e,t,r);this.setItem(i,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return dD.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return cD.Ji(new Qr(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Qb.Ji(i,t)}wr(e){return IA.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Mr(c,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=np();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class CO{constructor(){this.Fr=new SA,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new SA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kF{Br(e){}shutdown(){}}class DO{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class OF{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class RF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const c=this.oo(e,t);Ye("RestConnection","Sending: ",c,r);const f={};return this.uo(f,i,a),this.co(e,c,f,r).then(_=>(Ye("RestConnection","Received: ",_),_),_=>{throw Dl("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}ao(e,t,r,i,a,c){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Md,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${xF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,c)=>{const f=new xT;f.listenOnce(MT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ib.NO_ERROR:const w=f.getResponseJson();Ye("Connection","XHR received:",JSON.stringify(w)),a(w);break;case ib.TIMEOUT:Ye("Connection",'RPC "'+e+'" timed out'),c(new Ge(Re.DEADLINE_EXCEEDED,"Request time out"));break;case ib.HTTP_ERROR:const I=f.getStatus();if(Ye("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const M=f.getResponseJson().error;if(M&&M.status&&M.message){const z=function(G){const te=G.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(te)>=0?te:Re.UNKNOWN}(M.status);c(new Ge(z,M.message))}else c(new Ge(Re.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ge(Re.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{Ye("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=TT(),c=AT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new ZE({})),this.uo(f.initMessageHeaders,t,r),(0,pn.uI)()||(0,pn.b$)()||(0,pn.d)()||(0,pn.w1)()||(0,pn.Mn)()||(0,pn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Ye("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,M=!1;const z=new OF({jr:te=>{M?Ye("Connection","Not sending because WebChannel is closed:",te):(I||(Ye("Connection","Opening WebChannel transport."),w.open(),I=!0),Ye("Connection","WebChannel sending:",te),w.send(te))},Wr:()=>w.close()}),G=(te,ye,Ve)=>{te.listen(ye,nt=>{try{Ve(nt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return G(w,zf.EventType.OPEN,()=>{M||Ye("Connection","WebChannel transport opened.")}),G(w,zf.EventType.CLOSE,()=>{M||(M=!0,Ye("Connection","WebChannel transport closed"),z.eo())}),G(w,zf.EventType.ERROR,te=>{M||(M=!0,Dl("Connection","WebChannel transport errored:",te),z.eo(new Ge(Re.UNAVAILABLE,"The operation could not be completed")))}),G(w,zf.EventType.MESSAGE,te=>{var ye;if(!M){const Ve=te.data[0];$t(!!Ve);const nt=Ve,bt=nt.error||(null===(ye=nt[0])||void 0===ye?void 0:ye.error);if(bt){Ye("Connection","WebChannel received error:",bt);const Vt=bt.status;let Tt=function(ln){const Vn=$r[ln];if(void 0!==Vn)return Ob(Vn)}(Vt),tn=bt.message;void 0===Tt&&(Tt=Re.INTERNAL,tn="Unknown error status: "+Vt+" with message "+bt.message),M=!0,z.eo(new Ge(Tt,tn)),w.close()}else Ye("Connection","WebChannel received:",Ve),z.no(Ve)}}),G(c,kT.STAT_EVENT,te=>{te.stat===KE.PROXY?Ye("Connection","Detected buffering proxy"):te.stat===KE.NOPROXY&&Ye("Connection","Detected no buffering proxy")}),setTimeout(()=>{z.Zr()},0),z}}function IO(){return typeof window<"u"?window:null}function hD(){return typeof document<"u"?document:null}function Jb(n){return new sO(n,!0)}class AA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class SO{constructor(e,t,r,i,a,c,f,_){this.js=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new AA(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ne.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Ne.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,Ne.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===Re.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===Re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ge(Re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,Ne.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PF extends SO{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.wt=a}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function nA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Ct(),i=e.targetChange.targetIds||[],a=function(_,w){return _.dt?($t(void 0===w||"string"==typeof w),Jr.fromBase64String(w||"")):($t(void 0===w||w instanceof Uint8Array),Jr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const w=void 0===_.code?Re.UNKNOWN:Ob(_.code);return new Ge(w,_.message||"")}(c);t=new Rb(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=uo(n,r.document.name),a=si(r.document.updateTime),c=new ii({mapValue:{fields:r.document.fields}}),f=Hn.newFoundDocument(i,a,c);t=new rp(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=uo(n,r.document),a=r.readTime?si(r.readTime):Gt.min(),c=Hn.newNoDocument(i,a);t=new rp([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=uo(n,r.document);t=new rp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ct();{const r=e.filter,a=new kC(r.count||0);t=new RC(r.targetId,a)}}var _;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return Gt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Gt.min():a.readTime?si(a.readTime):Gt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=Bi(this.wt),t.addTarget=function(i,a){let c;const f=a.target;return c=Ud(f)?{documents:a_(i,f)}:{query:Fb(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=JT(i,a.resumeToken):a.snapshotVersion.compareTo(Gt.min())>0&&(c.readTime=i_(i,a.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function iA(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=Bi(this.wt),t.removeTarget=e,this.Mo(t)}}class NF extends SO{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function rA(n,e){return n&&n.length>0?($t(void 0!==e),n.map(t=>function(r,i){let a=si(r.updateTime?r.updateTime:i);return a.isEqual(Gt.min())&&(a=si(i)),new nO(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.Jo(r,t)}return $t(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Bi(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Bl(this.wt,r))};this.Mo(t)}}class FF extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Ge(Re.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ge(Re.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.bo.ao(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ge(Re.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class LF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Pr(t),this.su=!1):Ye("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class VF{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{r.enqueueAndForget((0,Ne.Z)(function*(){var _;Xd(c)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ne.Z)(function*(w){const I=lt(w);I.lu.add(4),yield D_(I),I._u.set("Unknown"),I.lu.delete(4),yield Xb(I)}),function(w){return _.apply(this,arguments)})(c))}))}),this._u=new LF(r,i)}}function Xb(n){return MA.apply(this,arguments)}function MA(){return MA=(0,Ne.Z)(function*(n){if(Xd(n))for(const e of n.fu)yield e(!0)}),MA.apply(this,arguments)}function D_(n){return kA.apply(this,arguments)}function kA(){return kA=(0,Ne.Z)(function*(n){for(const e of n.fu)yield e(!1)}),kA.apply(this,arguments)}function fD(n,e){const t=lt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),RA(t)?OA(t):S_(t).Co()&&xA(t,e))}function ew(n,e){const t=lt(n),r=S_(t);t.hu.delete(e),r.Co()&&TO(t,e),0===t.hu.size&&(r.Co()?r.ko():Xd(t)&&t._u.set("Unknown"))}function xA(n,e){n.wu.Nt(e.targetId),S_(n).Qo(e)}function TO(n,e){n.wu.Nt(e),S_(n).jo(e)}function OA(n){n.wu=new YT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),S_(n).start(),n._u.iu()}function RA(n){return Xd(n)&&!S_(n).Do()&&n.hu.size>0}function Xd(n){return 0===lt(n).lu.size}function AO(n){n.wu=void 0}function BF(n){return PA.apply(this,arguments)}function PA(){return PA=(0,Ne.Z)(function*(n){n.hu.forEach((e,t)=>{xA(n,e)})}),PA.apply(this,arguments)}function UF(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Ne.Z)(function*(n,e){AO(n),RA(n)?(n._u.uu(e),OA(n)):n._u.set("Unknown")}),NA.apply(this,arguments)}function jF(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=(0,Ne.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Rb&&2===e.state&&e.cause)try{yield(r=(0,Ne.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield pD(n,r)}else if(e instanceof rp?n.wu.Ut(e):e instanceof RC?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Gt.min()))try{const r=yield gO(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.wu.Yt(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.hu.get(_);w&&i.hu.set(_,w.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(Jr.EMPTY_BYTE_STRING,_.snapshotVersion)),TO(i,f);const w=new Iu(_.target,f,1,_.sequenceNumber);xA(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ye("RemoteStore","Failed to raise snapshot:",r),yield pD(n,r)}var r}),FA.apply(this,arguments)}function pD(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,Ne.Z)(function*(n,e,t){if(!Aa(e))throw e;n.lu.add(1),yield D_(n),n._u.set("Offline"),t||(t=()=>gO(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Xb(n)}))}),LA.apply(this,arguments)}function MO(n,e){return e().catch(t=>pD(n,t,e))}function I_(n){return VA.apply(this,arguments)}function VA(){return VA=(0,Ne.Z)(function*(n){const e=lt(n),t=eh(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;HF(e);)try{const i=yield TF(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,zF(e,i)}catch(i){yield pD(e,i)}kO(e)&&xO(e)}),VA.apply(this,arguments)}function HF(n){return Xd(n)&&n.au.length<10}function zF(n,e){n.au.push(e);const t=eh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function kO(n){return Xd(n)&&!eh(n).Do()&&n.au.length>0}function xO(n){eh(n).start()}function $F(n){return BA.apply(this,arguments)}function BA(){return BA=(0,Ne.Z)(function*(n){eh(n).Xo()}),BA.apply(this,arguments)}function GF(n){return UA.apply(this,arguments)}function UA(){return UA=(0,Ne.Z)(function*(n){const e=eh(n);for(const t of n.au)e.Ho(t.mutations)}),UA.apply(this,arguments)}function WF(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,Ne.Z)(function*(n,e,t){const r=n.au.shift(),i=Hb.from(r,e,t);yield MO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield I_(n)}),jA.apply(this,arguments)}function qF(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,Ne.Z)(function*(n,e){var t;e&&eh(n).zo&&(yield(t=(0,Ne.Z)(function*(r,i){if(GT(a=i.code)&&a!==Re.ABORTED){const c=r.au.shift();eh(r).No(),yield MO(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield I_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),kO(n)&&xO(n)}),HA.apply(this,arguments)}function OO(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Ne.Z)(function*(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const r=Xd(t);t.lu.add(3),yield D_(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Xb(t)}),zA.apply(this,arguments)}function $A(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Ne.Z)(function*(n,e){const t=lt(n);e?(t.lu.delete(2),yield Xb(t)):e||(t.lu.add(2),yield D_(t),t._u.set("Unknown"))}),GA.apply(this,arguments)}function S_(n){return n.mu||(n.mu=function(e,t,r){const i=lt(e);return i.tu(),new PF(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:BF.bind(null,n),Jr:UF.bind(null,n),Go:jF.bind(null,n)}),n.fu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.mu.No(),RA(n)?OA(n):n._u.set("Unknown")):(yield n.mu.stop(),AO(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function eh(n){return n.gu||(n.gu=function(e,t,r){const i=lt(e);return i.tu(),new NF(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:$F.bind(null,n),Jr:qF.bind(null,n),Yo:GF.bind(null,n),Jo:WF.bind(null,n)}),n.fu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.gu.No(),yield I_(n)):(yield n.gu.stop(),n.au.length>0&&(Ye("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class WA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new WA(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T_(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),Aa(n))return new Ge(Re.UNAVAILABLE,`${e}: ${n}`);throw n}class A_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ot.comparator(t.key,r.key):(t,r)=>ot.comparator(t.key,r.key),this.keyedMap=t_(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new A_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof A_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new A_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class RO{constructor(){this.yu=new Nr(ot.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Ct():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class M_{constructor(e,t,r,i,a,c,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new M_(e,t,A_.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class KF{constructor(){this.Iu=void 0,this.listeners=[]}}class ZF{constructor(){this.queries=new Ll(e=>EC(e),xa),this.onlineState="Unknown",this.Tu=new Set}}function qA(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,Ne.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new KF),i)try{a.Iu=yield t.onListen(r)}catch(c){const f=T_(c,`Initialization of query '${Jf(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&QA(t)}),KA.apply(this,arguments)}function ZA(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,Ne.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),YA.apply(this,arguments)}function YF(n,e){const t=lt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Au(i)&&(r=!0);c.Iu=i}}r&&QA(t)}function QF(n,e,t){const r=lt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function QA(n){n.Tu.forEach(e=>{e.next()})}class JA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new M_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=M_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class JF{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class PO{constructor(e){this.wt=e}Wi(e){return uo(this.wt,e)}zi(e){return e.metadata.exists?LC(this.wt,e.document,!1):Hn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return si(e)}}class XF{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=NO(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=_n.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new PO(this.wt);for(const i of e)if(i.metadata.queries){const a=r.Wi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Jt()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function AF(n,e,t,r){return EA.apply(this,arguments)}(e.localStore,new PO(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield MF(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function NO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class FO{constructor(e){this.key=e}}class LO{constructor(e){this.key=e}}class VO{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Jt(),this.mutatedKeys=Jt(),this.Lu=CC(e),this.Uu=new A_(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new RO,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,M)=>{const z=i.get(I),G=Ib(this.query,M)?M:null,te=!!z&&this.mutatedKeys.has(z.key),ye=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Ve=!1;z&&G?z.data.isEqual(G.data)?te!==ye&&(r.track({type:3,doc:G}),Ve=!0):this.Qu(z,G)||(r.track({type:2,doc:G}),Ve=!0,(_&&this.Lu(G,_)>0||w&&this.Lu(G,w)<0)&&(f=!0)):!z&&G?(r.track({type:0,doc:G}),Ve=!0):z&&!G&&(r.track({type:1,doc:z}),Ve=!0,(_||w)&&(f=!0)),Ve&&(G?(c=c.add(G),a=ye?a.add(I):a.delete(I)):(c=c.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const I="F"===this.query.limitType?c.last():c.first();c=c.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{Uu:c,Gu:r,Oi:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Gu.pu();a.sort((w,I)=>function(M,z){const G=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return G(M)-G(z)}(w.type,I.type)||this.Lu(w.doc,I.doc)),this.ju(r);const c=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new M_(this.query,e.Uu,i,a,e.mutatedKeys,0===f,_,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new RO,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Jt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new LO(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new FO(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Jt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return M_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class eL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tL{constructor(e){this.key=e,this.Xu=!1}}class nL{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Ll(f=>EC(f),xa),this.ec=new Map,this.nc=new Set,this.sc=new Nr(ot.comparator),this.ic=new Map,this.rc=new mt,this.oc={},this.uc=new Map,this.cc=Zd.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function rL(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,Ne.Z)(function*(n,e){const t=EM(n);let r,i;const a=t.tc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const c=yield E_(t.localStore,bs(e));t.isPrimaryClient&&fD(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield eM(t,e,r,"current"===f)}return i}),XA.apply(this,arguments)}function eM(n,e,t,r){return tM.apply(this,arguments)}function tM(){return tM=(0,Ne.Z)(function*(n,e,t,r){n.hc=(I,M,z)=>{return(G=(0,Ne.Z)(function*(te,ye,Ve,nt){let bt=ye.view.Ku(Ve);bt.Oi&&(bt=yield lD(te.localStore,ye.query,!1).then(({documents:tn})=>ye.view.Ku(tn,bt)));const Vt=nt&&nt.targetChanges.get(ye.targetId),Tt=ye.view.applyChanges(bt,te.isPrimaryClient,Vt);return dM(te,ye.targetId,Tt.zu),Tt.snapshot}),function(te,ye,Ve,nt){return G.apply(this,arguments)})(n,I,M,z);var G};const i=yield lD(n.localStore,e,!0),a=new VO(e,i.ji),c=a.Ku(i.documents),f=Vl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(c,n.isPrimaryClient,f);dM(n,t,_.zu);const w=new eL(e,t,a);return n.tc.set(e,w),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),_.snapshot}),tM.apply(this,arguments)}function iL(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,Ne.Z)(function*(n,e){const t=lt(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(a=>!xa(a,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield C_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ew(t.remoteStore,r.targetId),k_(t,r.targetId)}).catch(gu))):(k_(t,r.targetId),yield C_(t.localStore,r.targetId,!0))}),nM.apply(this,arguments)}function rM(){return rM=(0,Ne.Z)(function*(n,e,t){const r=CM(n);try{const i=yield function(a,c){const f=lt(a),_=lr.now(),w=c.reduce((z,G)=>z.add(G.key),Jt());let I,M;return f.persistence.runTransaction("Locally write mutations","readwrite",z=>{let G=ws(),te=Jt();return f.Ui.getEntries(z,w).next(ye=>{G=ye,G.forEach((Ve,nt)=>{nt.isValidDocument()||(te=te.add(Ve))})}).next(()=>f.localDocuments.getOverlayedDocuments(z,G)).next(ye=>{I=ye;const Ve=[];for(const nt of c){const bt=AC(nt,I.get(nt.key).overlayedDocument);null!=bt&&Ve.push(new Oa(nt.key,bt,_b(bt.value.mapValue),_r.exists(!0)))}return f.mutationQueue.addMutationBatch(z,_,Ve,c)}).next(ye=>{M=ye;const Ve=ye.applyToLocalDocumentSet(I,te);return f.documentOverlayCache.saveOverlays(z,ye.batchId,Ve)})}).then(()=>({batchId:M.batchId,changes:qT(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.oc[a.currentUser.toKey()];_||(_=new Nr(en)),_=_.insert(c,f),a.oc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Kl(r,i.changes),yield I_(r.remoteStore)}catch(i){const a=T_(i,"Failed to persist write");t.reject(a)}}),rM.apply(this,arguments)}function BO(n,e){return iM.apply(this,arguments)}function iM(){return iM=(0,Ne.Z)(function*(n,e){const t=lt(n);try{const r=yield SF(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.ic.get(a);c&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?$t(c.Xu):i.removedDocuments.size>0&&($t(c.Xu),c.Xu=!1))}),yield Kl(t,r,e)}catch(r){yield gu(r)}}),iM.apply(this,arguments)}function UO(n,e,t){const r=lt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((a,c)=>{const f=c.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=lt(a);f.onlineState=c;let _=!1;f.queries.forEach((w,I)=>{for(const M of I.listeners)M.Eu(c)&&(_=!0)}),_&&QA(f)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oL(n,e,t){return sM.apply(this,arguments)}function sM(){return sM=(0,Ne.Z)(function*(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),a=i&&i.key;if(a){let c=new Nr(ot.comparator);c=c.insert(a,Hn.newNoDocument(a,Gt.min()));const f=Jt().add(a),_=new n_(Gt.min(),new Map,new jn(en),c,f);yield BO(r,_),r.sc=r.sc.remove(a),r.ic.delete(e),hM(r)}else yield C_(r.localStore,e,!1).then(()=>k_(r,e,t)).catch(gu)}),sM.apply(this,arguments)}function aL(n,e){return oM.apply(this,arguments)}function oM(){return oM=(0,Ne.Z)(function*(n,e){const t=lt(n),r=e.batch.batchId;try{const i=yield IF(t.localStore,e);cM(t,r,null),lM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Kl(t,i)}catch(i){yield gu(i)}}),oM.apply(this,arguments)}function uL(n,e,t){return aM.apply(this,arguments)}function aM(){return aM=(0,Ne.Z)(function*(n,e,t){const r=lt(n);try{const i=yield function(a,c){const f=lt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,c).next(I=>($t(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(r.localStore,e);cM(r,e,t),lM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Kl(r,i)}catch(i){yield gu(i)}}),aM.apply(this,arguments)}function uM(){return uM=(0,Ne.Z)(function*(n,e){const t=lt(n);Xd(t.remoteStore)||Ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=lt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=T_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),uM.apply(this,arguments)}function lM(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function cM(n,e,t){const r=lt(n);let i=r.oc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function k_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||jO(n,r)})}function jO(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(ew(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),hM(n))}function dM(n,e,t){for(const r of t)r instanceof FO?(n.rc.addReference(r.key,e),cL(n,r)):r instanceof LO?(Ye("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||jO(n,r.key)):Ct()}function cL(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Ye("SyncEngine","New document in limbo: "+t),n.nc.add(r),hM(n))}function hM(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new ot(_n.fromString(e)),r=n.cc.next();n.ic.set(r,new tL(t)),n.sc=n.sc.insert(t,r),fD(n.remoteStore,new Iu(bs(zr(t.path)),r,2,ys.ot))}}function Kl(n,e,t){return fM.apply(this,arguments)}function fM(){return fM=(0,Ne.Z)(function*(n,e,t){const r=lt(n),i=[],a=[],c=[];var f;r.tc.isEmpty()||(r.tc.forEach((f,_)=>{c.push(r.hc(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=vA.Vi(_.targetId,w);a.push(I)}}))}),yield Promise.all(c),r.Zu.Go(i),yield(f=(0,Ne.Z)(function*(_,w){const I=lt(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Te.forEach(w,z=>Te.forEach(z.Pi,G=>I.persistence.referenceDelegate.addReference(M,z.targetId,G)).next(()=>Te.forEach(z.vi,G=>I.persistence.referenceDelegate.removeReference(M,z.targetId,G)))))}catch(M){if(!Aa(M))throw M;Ye("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const z=M.targetId;if(!M.fromCache){const G=I.$i.get(z),ye=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);I.$i=I.$i.insert(z,ye)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),fM.apply(this,arguments)}function dL(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,Ne.Z)(function*(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const r=yield mO(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(c=>{c.forEach(f=>{f.reject(new Ge(Re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kl(t,r.Ki)}var i}),pM.apply(this,arguments)}function hL(n,e){const t=lt(n),r=t.ic.get(e);if(r&&r.Xu)return Jt().add(r.key);{let i=Jt();const a=t.ec.get(e);if(!a)return i;for(const c of a){const f=t.tc.get(c);i=i.unionWith(f.view.qu)}return i}}function fL(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,Ne.Z)(function*(n,e){const t=lt(n),r=yield lD(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&dM(t,e.targetId,i.zu),i}),mM.apply(this,arguments)}function pL(n,e){return gM.apply(this,arguments)}function gM(){return gM=(0,Ne.Z)(function*(n,e){const t=lt(n);return vO(t.localStore,e).then(r=>Kl(t,r))}),gM.apply(this,arguments)}function mL(n,e,t,r){return _M.apply(this,arguments)}function _M(){return _M=(0,Ne.Z)(function*(n,e,t,r){const i=lt(n),a=yield function(c,f){const _=lt(c),w=lt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.yn(I,f).next(M=>M?_.localDocuments.getDocuments(I,M):Te.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield I_(i.remoteStore):"acknowledged"===t||"rejected"===t?(cM(i,e,r||null),lM(i,e),f=e,lt(lt(i.localStore).mutationQueue).In(f)):Ct(),yield Kl(i,a)):Ye("SyncEngine","Cannot apply mutation batch with id: "+e)}),_M.apply(this,arguments)}function yM(){return yM=(0,Ne.Z)(function*(n,e){const t=lt(n);if(EM(t),CM(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield HO(t,r.toArray());t.ac=!0,yield $A(t.remoteStore,!0);for(const a of i)fD(t.remoteStore,a)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(k_(t,c),C_(t.localStore,c,!0))),ew(t.remoteStore,c)}),yield i,yield HO(t,r),function(a){const c=lt(a);c.ic.forEach((f,_)=>{ew(c.remoteStore,_)}),c.rc.cs(),c.ic=new Map,c.sc=new Nr(ot.comparator)}(t),t.ac=!1,yield $A(t.remoteStore,!1)}}),yM.apply(this,arguments)}function HO(n,e,t){return vM.apply(this,arguments)}function vM(){return vM=(0,Ne.Z)(function*(n,e,t){const r=lt(n),i=[],a=[];for(const c of e){let f;const _=r.ec.get(c);if(_&&0!==_.length){f=yield E_(r.localStore,bs(_[0]));for(const w of _){const I=r.tc.get(w),M=yield fL(r,I);M.snapshot&&a.push(M.snapshot)}}else{const w=yield yO(r.localStore,c);f=yield E_(r.localStore,w),yield eM(r,zO(w),c,!1)}i.push(f)}return r.Zu.Go(a),i}),vM.apply(this,arguments)}function zO(n){return wb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _L(n){const e=lt(n);return lt(lt(e.localStore).persistence).Ri()}function yL(n,e,t,r){return bM.apply(this,arguments)}function bM(){return bM=(0,Ne.Z)(function*(n,e,t,r){const i=lt(n);if(i.ac)return void Ye("SyncEngine","Ignoring unexpected query state notification.");const a=i.ec.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield vO(i.localStore,Sb(a[0])),f=n_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Kl(i,c,f);break}case"rejected":yield C_(i.localStore,e,!0),k_(i,e,r);break;default:Ct()}}),bM.apply(this,arguments)}function vL(n,e,t){return wM.apply(this,arguments)}function wM(){return wM=(0,Ne.Z)(function*(n,e,t){const r=EM(n);if(r.ac){for(const i of e){if(r.ec.has(i)){Ye("SyncEngine","Adding an already active target "+i);continue}const a=yield yO(r.localStore,i),c=yield E_(r.localStore,a);yield eM(r,zO(a),c.targetId,!1),fD(r.remoteStore,c)}for(const i of t)r.ec.has(i)&&(yield C_(r.localStore,i,!1).then(()=>{ew(r.remoteStore,i),k_(r,i)}).catch(gu))}}),wM.apply(this,arguments)}function EM(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oL.bind(null,e),e.Zu.Go=YF.bind(null,e.eventManager),e.Zu.lc=QF.bind(null,e.eventManager),e}function CM(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uL.bind(null,e),e}class $O{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.wt=Jb(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return pO(this.persistence,new fO,e.initialUser,this.wt)}_c(e){return new Tu(Qd.Ms,this.wt)}dc(e){return new CO}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GO extends $O{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield CM(r.yc.syncEngine),yield I_(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return pO(this.persistence,new fO,e.initialUser,this.wt)}mc(e,t){return new s(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new oC(t,this.persistence);return new LT(e.asyncQueue,r)}_c(e){const t=dp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new cp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,IO(),hD(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new CO}}class wL extends GO{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof TA&&(r.sharedClientState.syncEngine={kr:mL.bind(null,i),Or:yL.bind(null,i),Mr:vL.bind(null,i),Ri:_L.bind(null,i),Nr:pL.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var a=(0,Ne.Z)(function*(c){yield function gL(n,e){return yM.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}dc(e){const t=IO();if(!TA.V(t))throw new Ge(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=dp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new TA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class DM{initialize(e,t){var r=this;return(0,Ne.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>UO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=dL.bind(null,r.syncEngine),yield $A(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZF}createDatastore(e){const t=Jb(e.databaseInfo.databaseId),r=new RF(e.databaseInfo);return new FF(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>UO(this.syncEngine,f,0),c=DO.V()?new DO:new kF,new VF(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,w){const I=new nL(r,i,a,c,f,_);return w&&(I.ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const r=lt(t);Ye("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield D_(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function WO(n,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class mD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class EL{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new gi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const a=yield e.vc(i);return new JF(JSON.parse(a),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Ne.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class CL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ge(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ne.Z)(function*(a,c){const f=lt(a),_=Bi(f.wt)+"/documents",w={documents:c.map(G=>ip(f.wt,G))},I=yield f.ao("BatchGetDocuments",_,w,c.length),M=new Map;I.forEach(G=>{const te=function Es(n,e){return"found"in e?function(t,r){$t(!!r.found);const i=uo(t,r.found.name),a=si(r.found.updateTime),c=new ii({mapValue:{fields:r.found.fields}});return Hn.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){$t(!!r.missing),$t(!!r.readTime);const i=uo(t,r.missing),a=si(r.readTime);return Hn.newNoDocument(i,a)}(n,e):Ct()}(f.wt,G);M.set(te.key.toString(),te)});const z=[];return c.forEach(G=>{const te=M.get(G.toString());$t(!!te),z.push(te)}),z}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=ot.fromPath(i);e.mutations.push(new e_(a,e.precondition(a)))}),yield(r=(0,Ne.Z)(function*(i,a){const c=lt(i),f=Bi(c.wt)+"/documents",_={writes:a.map(w=>Bl(c.wt,w))};yield c.ro("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ct();t=Gt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ge(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?_r.updateTime(t):_r.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gt.min()))throw new Ge(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _r.updateTime(t)}return _r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class DL{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new AA(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Ne.Z)(function*(){const t=new CL(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Nc(a)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!Ld(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!GT(t)}return!1}}class IL{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qr.UNAUTHENTICATED,this.clientId=NT.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ne.Z)(function*(f){Ye("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ye("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(Re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=T_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function qO(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ne.Z)(function*(a){r.isEqual(a)||(yield mO(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),IM.apply(this,arguments)}function KO(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield TM(n);Ye("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>OO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>OO(e.remoteStore,a)),n.onlineComponents=e}),SM.apply(this,arguments)}function TM(n){return AM.apply(this,arguments)}function AM(){return AM=(0,Ne.Z)(function*(n){return n.offlineComponents||(Ye("FirestoreClient","Using default OfflineComponentProvider"),yield qO(n,new $O)),n.offlineComponents}),AM.apply(this,arguments)}function gD(n){return MM.apply(this,arguments)}function MM(){return MM=(0,Ne.Z)(function*(n){return n.onlineComponents||(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield KO(n,new DM)),n.onlineComponents}),MM.apply(this,arguments)}function ZO(n){return TM(n).then(e=>e.persistence)}function kM(n){return TM(n).then(e=>e.localStore)}function YO(n){return gD(n).then(e=>e.remoteStore)}function xM(n){return gD(n).then(e=>e.syncEngine)}function x_(n){return OM.apply(this,arguments)}function OM(){return OM=(0,Ne.Z)(function*(n){const e=yield gD(n),t=e.eventManager;return t.onListen=rL.bind(null,e.syncEngine),t.onUnlisten=iL.bind(null,e.syncEngine),t}),OM.apply(this,arguments)}function QO(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,a,c,f,_){const w=new mD({next:M=>{a.enqueueAndForget(()=>ZA(i,I));const z=M.docs.has(c);!z&&M.fromCache?_.reject(new Ge(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&M.fromCache&&f&&"server"===f.source?_.reject(new Ge(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new JA(zr(c.path),w,{includeMetadataChanges:!0,Du:!0});return qA(i,I)}(yield x_(n),n.asyncQueue,e,t,r)})),r.promise}function JO(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,a,c,f,_){const w=new mD({next:M=>{a.enqueueAndForget(()=>ZA(i,I)),M.fromCache&&"server"===f.source?_.reject(new Ge(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new JA(c,w,{includeMetadataChanges:!0,Du:!0});return qA(i,I)}(yield x_(n),n.asyncQueue,e,t,r)})),r.promise}const XO=new Map;function RM(n,e,t){if(!t)throw new Ge(Re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eR(n,e,t,r){if(!0===e&&!0===r)throw new Ge(Re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tR(n){if(!ot.isDocumentKey(n))throw new Ge(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nR(n){if(ot.isDocumentKey(n))throw new Ge(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _D(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ct()}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_D(n);throw new Ge(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function rR(n,e){if(e<=0)throw new Ge(Re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class iR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ge(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ge(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,eR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iR({}),this._settingsFrozen=!1,e instanceof Oo?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ge(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oo(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ge(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ge(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $f;switch(t.type){case"gapi":const r=t.client;return $t(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new XE(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ge(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=XO.get(e);t&&(Ye("ComponentProvider","Removing Datastore"),XO.delete(e),t.terminate())}(this),Promise.resolve()}}class vr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Au extends Yi{constructor(e,t,r){super(e,t,zr(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new ot(e))}withConverter(e){return new Au(this.firestore,e,this._path)}}function sR(n,e,...t){if(n=(0,pn.m9)(n),RM("collection","path",e),n instanceof tw){const r=_n.fromString(e,...t);return nR(r),new Au(n,null,r)}{if(!(n instanceof vr||n instanceof Au))throw new Ge(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return nR(r),new Au(n.firestore,null,r)}}function yD(n,e,...t){if(n=(0,pn.m9)(n),1===arguments.length&&(e=NT.I()),RM("doc","path",e),n instanceof tw){const r=_n.fromString(e,...t);return tR(r),new vr(n,null,new ot(r))}{if(!(n instanceof vr||n instanceof Au))throw new Ge(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return tR(r),new vr(n.firestore,n instanceof Au?n.converter:null,new ot(r))}}function oR(n,e){return n=(0,pn.m9)(n),e=(0,pn.m9)(e),(n instanceof vr||n instanceof Au)&&(e instanceof vr||e instanceof Au)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function aR(n,e){return n=(0,pn.m9)(n),e=(0,pn.m9)(e),n instanceof Yi&&e instanceof Yi&&n.firestore===e.firestore&&xa(n._query,e._query)&&n.converter===e.converter}class FL{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new AA(this,"async_queue_retry"),this.Kc=()=>{const t=hD();t&&Ye("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=hD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=hD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new gi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Aa(t))throw t;Ye("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=WA.createAndSchedule(this,e,t,r,a=>this.Wc(a));return this.$c.push(i),i}Gc(){this.Bc&&Ct()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function PM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class LL{constructor(){this._progressObserver={},this._taskCompletionResolver=new gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mr extends tw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new FL,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||uR(this),this._firestoreClient.terminate()}}function oi(n){return n._firestoreClient||uR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uR(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lC(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new IL(n._authCredentials,n._appCheckCredentials,n._queue,r)}function lR(n,e,t){const r=new gi;return n.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield qO(n,t),yield KO(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===Re.FAILED_PRECONDITION||c.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function cR(n){if(n._initialized||n._terminated)throw new Ge(Re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ge(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mu(Jr.fromBase64String(e))}catch(t){throw new Ge(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mu(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hp{constructor(e){this._methodName=e}}class vD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}const qL=/^__.*__$/;class KL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new $d(e,this.data,t,this.fieldTransforms)}}class dR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class bD{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new bD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return CD(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(hR(this.Zc)&&qL.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class ZL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Jb(e)}aa(e,t,r,i=!1){return new bD({Zc:e,methodName:t,ca:r,path:Xn.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function fp(n){const e=n._freezeSettings(),t=Jb(n._databaseId);return new ZL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wD(n,e,t,r,i,a={}){const c=n.aa(a.merge||a.mergeFields?2:0,e,t,i);VM("Data must be an object, but it was:",c,r);const f=mR(r,c);let _,w;if(a.merge)_=new vs(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const I=[];for(const M of a.mergeFields){const z=BM(e,M,t);if(!c.contains(z))throw new Ge(Re.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);_R(I,z)||I.push(z)}_=new vs(I),w=c.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,w=c.fieldTransforms;return new KL(new ii(f),_,w)}class nw extends hp{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nw}}function fR(n,e,t){return new bD({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class NM extends hp{_toFieldTransform(e){return new Qg(e.path,new ep)}isEqual(e){return e instanceof NM}}class YL extends hp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=fR(this,e,!0),r=this.ha.map(a=>pp(a,t)),i=new wu(r);return new Qg(e.path,i)}isEqual(e){return this===e}}class QL extends hp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=fR(this,e,!0),r=this.ha.map(a=>pp(a,t)),i=new Eu(r);return new Qg(e.path,i)}isEqual(e){return this===e}}class JL extends hp{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new zd(e.wt,qg(e.wt,this.la));return new Qg(e.path,t)}isEqual(e){return this===e}}function FM(n,e,t,r){const i=n.aa(1,e,t);VM("Data must be an object, but it was:",i,r);const a=[],c=ii.empty();Ml(r,(_,w)=>{const I=ED(e,_,t);w=(0,pn.m9)(w);const M=i.ia(I);if(w instanceof nw)a.push(I);else{const z=pp(w,M);null!=z&&(a.push(I),c.set(I,z))}});const f=new vs(a);return new dR(c,f,i.fieldTransforms)}function LM(n,e,t,r,i,a){const c=n.aa(1,e,t),f=[BM(e,r,t)],_=[i];if(a.length%2!=0)throw new Ge(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<a.length;z+=2)f.push(BM(e,a[z])),_.push(a[z+1]);const w=[],I=ii.empty();for(let z=f.length-1;z>=0;--z)if(!_R(w,f[z])){const G=f[z];let te=_[z];te=(0,pn.m9)(te);const ye=c.ia(G);if(te instanceof nw)w.push(G);else{const Ve=pp(te,ye);null!=Ve&&(w.push(G),I.set(G,Ve))}}const M=new vs(w);return new dR(I,M,c.fieldTransforms)}function pR(n,e,t,r=!1){return pp(t,n.aa(r?4:3,e))}function pp(n,e){if(gR(n=(0,pn.m9)(n)))return VM("Unsupported field value:",e,n),mR(n,e);if(n instanceof hp)return function(t,r){if(!hR(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=pp(c,r.ra(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,pn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qg(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=lr.fromDate(t);return{timestampValue:i_(r.wt,i)}}if(t instanceof lr){const i=new lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:i_(r.wt,i)}}if(t instanceof vD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Mu)return{bytesValue:JT(r.wt,t._byteString)};if(t instanceof vr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Pb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${_D(t)}`)}(n,e)}function mR(n,e){const t={};return aC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ml(n,(r,i)=>{const a=pp(i,e.ea(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function gR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof vD||n instanceof Mu||n instanceof vr||n instanceof hp)}function VM(n,e,t){if(!gR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_D(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function BM(n,e,t){if((e=(0,pn.m9)(e))instanceof Zl)return e._internalPath;if("string"==typeof e)return ED(n,e);throw CD("Field path arguments must be of type string or ",n,!1,void 0,t)}const XL=new RegExp("[~\\*/\\[\\]]");function ED(n,e,t){if(e.search(XL)>=0)throw CD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zl(...e.split("."))._internalPath}catch{throw CD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function CD(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ge(Re.INVALID_ARGUMENT,f+n+_)}function _R(n,e){return n.some(t=>t.isEqual(e))}class rw{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new e3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class e3 extends rw{data(){return super.data()}}function DD(n,e){return"string"==typeof e?ED(n,e):e instanceof Zl?e._internalPath:e._delegate._internalPath}class mp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends rw{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(DD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class iw extends Yl{data(e={}){return super.data(e)}}class th{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new mp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new iw(this._firestore,this._userDataWriter,r.key,r,new mp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new iw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new mp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new iw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new mp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:t3(c.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function t3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}function yR(n,e){return n instanceof Yl&&e instanceof Yl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof th&&e instanceof th&&n._firestore===e._firestore&&aR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function vR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ge(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sw{}function nh(n,...e){for(const t of e)n=t._apply(n);return n}class n3 extends sw{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=fp(e.firestore),r=function(i,a,c,f,_,w,I){let M;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ge(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){IR(I,w);const G=[];for(const te of I)G.push(DR(f,i,te));M={arrayValue:{values:G}}}else M=DR(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||IR(I,w),M=pR(c,"where",I,"in"===w||"not-in"===w);const z=yi.create(_,w,M);return function(G,te){if(te.ht()){const Ve=Cb(G);if(null!==Ve&&!Ve.isEqual(te.field))throw new Ge(Re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ve.toString()}' and '${te.field.toString()}'`);const nt=Eb(G);null!==nt&&SR(0,te.field,nt)}const ye=function(Ve,nt){for(const bt of Ve.filters)if(nt.indexOf(bt.op)>=0)return bt.op;return null}(G,function(Ve){switch(Ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==ye)throw new Ge(Re.INVALID_ARGUMENT,ye===te.op?`Invalid query. You cannot use more than one '${te.op.toString()}' filter.`:`Invalid query. You cannot use '${te.op.toString()}' filters with '${ye.toString()}' filters.`)}(i,z),z}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Yi(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new Po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class s3 extends sw{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ge(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ge(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new jd(i,a);return function(f,_){if(null===Eb(f)){const w=Cb(f);null!==w&&SR(0,w,_.field)}}(r,c),c}(e._query,this.fa,this.wa);return new Yi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Po(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class bR extends sw{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Yi(e.firestore,e.converter,Db(e._query,this.ma,this.ga))}}class wR extends sw{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=CR(e,this.type,this.ya,this.pa);return new Yi(e.firestore,e.converter,(i=t,new Po((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class ER extends sw{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=CR(e,this.type,this.ya,this.pa);return new Yi(e.firestore,e.converter,(i=t,new Po((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function CR(n,e,t,r){if(t[0]=(0,pn.m9)(t[0]),t[0]instanceof rw)return function(i,a,c,f,_){if(!f)throw new Ge(Re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const I of Qf(i))if(I.field.isKeyField())w.push(Ma(a,f.key));else{const M=f.data.field(I.field);if(fb(M))throw new Ge(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const z=I.field.canonicalString();throw new Ge(Re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}w.push(M)}return new ka(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=fp(n.firestore);return function(a,c,f,_,w,I){const M=a.explicitOrderBy;if(w.length>M.length)throw new Ge(Re.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let G=0;G<w.length;G++){const te=w[G];if(M[G].field.isKeyField()){if("string"!=typeof te)throw new Ge(Re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof te}`);if(!wC(a)&&-1!==te.indexOf("/"))throw new Ge(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${te}' contains a slash.`);const ye=a.path.child(_n.fromString(te));if(!ot.isDocumentKey(ye))throw new Ge(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Ve=new ot(ye);z.push(Ma(c,Ve))}else{const ye=pR(f,_,te);z.push(ye)}}return new ka(z,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function DR(n,e,t){if("string"==typeof(t=(0,pn.m9)(t))){if(""===t)throw new Ge(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wC(e)&&-1!==t.indexOf("/"))throw new Ge(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_n.fromString(t));if(!ot.isDocumentKey(r))throw new Ge(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ma(n,new ot(r))}if(t instanceof vr)return Ma(n,t._key);throw new Ge(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_D(t)}.`)}function IR(n,e){if(!Array.isArray(n)||0===n.length)throw new Ge(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ge(Re.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function SR(n,e,t){if(!t.isEqual(e))throw new Ge(Re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const f3={maxAttempts:5};class UM{convertValue(e,t="none"){switch(vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ct()}}convertObject(e,t){const r={};return Ml(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new vD(Ar(e.latitude),Ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Nd(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const t=_u(e);return new lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_n.fromString(e);$t(u_(r));const i=new Oo(r.get(1),r.get(3)),a=new ot(r.popFirst(5));return i.isEqual(t)||Pr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function ID(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class p3 extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,t)}}class TR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fp(e)}set(e,t,r){this._verifyNotCommitted();const i=rh(e,this._firestore),a=ID(i.converter,t,r),c=wD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,_r.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=rh(e,this._firestore);let c;return c="string"==typeof(t=(0,pn.m9)(t))||t instanceof Zl?LM(this._dataReader,"WriteBatch.update",a._key,t,r,i):FM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,_r.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rh(e,this._firestore);return this._mutations=this._mutations.concat(new Fl(t._key,_r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rh(n,e){if((n=(0,pn.m9)(n)).firestore!==e)throw new Ge(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class gp extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,t)}}function AR(n,e,t){n=Cn(n,vr);const r=Cn(n.firestore,Mr),i=ID(n.converter,e,t);return O_(r,[wD(fp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,_r.none())])}function MR(n,e,t,...r){n=Cn(n,vr);const i=Cn(n.firestore,Mr),a=fp(i);let c;return c="string"==typeof(e=(0,pn.m9)(e))||e instanceof Zl?LM(a,"updateDoc",n._key,e,t,r):FM(a,"updateDoc",n._key,e),O_(i,[c.toMutation(n._key,_r.exists(!0))])}function kR(n,...e){var t,r,i;n=(0,pn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||PM(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(PM(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,w,I;if(n instanceof vr)w=Cn(n.firestore,Mr),I=zr(n._key.path),_={next:M=>{e[c]&&e[c](jM(w,n,M))},error:e[c+1],complete:e[c+2]};else{const M=Cn(n,Yi);w=Cn(M.firestore,Mr),I=M._query;const z=new gp(w);_={next:G=>{e[c]&&e[c](new th(w,z,M,G))},error:e[c+1],complete:e[c+2]},vR(n._query)}return function(M,z,G,te){const ye=new mD(te),Ve=new JA(z,ye,G);return M.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return qA(yield x_(M),Ve)})),()=>{ye.Tc(),M.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return ZA(yield x_(M),Ve)}))}}(oi(w),I,f,_)}function O_(n,e){return function(t,r){const i=new gi;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function sL(n,e,t){return rM.apply(this,arguments)}(yield xM(t),r,i)})),i.promise}(oi(n),e)}function jM(n,e,t){const r=t.docs.get(e._key),i=new gp(n);return new Yl(n,i,e._key,r,new mp(t.hasPendingWrites,t.fromCache),e.converter)}class D3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fp(e)}get(e){const t=rh(e,this._firestore),r=new p3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Ct();const a=i[0];if(a.isFoundDocument())return new rw(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new rw(this._firestore,r,t._key,null,t.converter);throw Ct()})}set(e,t,r){const i=rh(e,this._firestore),a=ID(i.converter,t,r),c=wD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=rh(e,this._firestore);let c;return c="string"==typeof(t=(0,pn.m9)(t))||t instanceof Zl?LM(this._dataReader,"Transaction.update",a._key,t,r,i):FM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=rh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rh(e,this._firestore),r=new gp(this._firestore);return super.get(e).then(i=>new Yl(this._firestore,r,t._key,i._document,new mp(!1,!1),t.converter))}}function HM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ge("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function OR(){if(typeof Uint8Array>"u")throw new Ge("unimplemented","Uint8Arrays are not available in this environment.")}function RR(){if(!function VT(){return typeof atob<"u"}())throw new Ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Md=ga.SDK_VERSION,(0,ga._registerComponent)(new Rm.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Mr(i,new JE(t.getProvider("auth-internal")),new kd(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,ga.registerVersion)(YE,"3.4.13",n),(0,ga.registerVersion)(YE,"3.4.13","esm2017")}();class ow{constructor(e){this._delegate=e}static fromBase64String(e){return RR(),new ow(Mu.fromBase64String(e))}static fromUint8Array(e){return OR(),new ow(Mu.fromUint8Array(e))}toBase64(){return RR(),this._delegate.toBase64()}toUint8Array(){return OR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zM(n){return function R3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class P3{enableIndexedDbPersistence(e,t){return function BL(n,e){cR(n=Cn(n,Mr));const t=oi(n),r=n._freezeSettings(),i=new DM;return lR(t,i,new GO(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function UL(n){cR(n=Cn(n,Mr));const e=oi(n),t=n._freezeSettings(),r=new DM;return lR(e,r,new wL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function jL(n){if(n._initialized&&!n._terminated)throw new Ge(Re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(r){if(!_s.V())return Promise.resolve();const i=r+"main";yield _s.delete(i)}),function(r){return t.apply(this,arguments)})(dp(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class PR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Dl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function PL(n,e,t,r={}){var i;const a=(n=Cn(n,tw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Dl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Qr.MOCK_USER;else{c=(0,pn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ge(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Qr(_)}n._authCredentials=new Il(new QE(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function zL(n){return function SL(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield ZO(n),t=yield YO(n);return e.setNetworkEnabled(!0),function(r){const i=lt(r);return i.lu.delete(0),Xb(i)}(t)}))}(oi(n=Cn(n,Mr)))}(this._delegate)}disableNetwork(){return function $L(n){return function TL(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield ZO(n),t=yield YO(n);return e.setNetworkEnabled(!1),(r=(0,Ne.Z)(function*(i){const a=lt(i);a.lu.add(0),yield D_(a),a._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(oi(n=Cn(n,Mr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,eR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function HL(n){return function(e){const t=new gi;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function lL(n,e){return uM.apply(this,arguments)}(yield xM(e),t)})),t.promise}(oi(n=Cn(n,Mr)))}(this._delegate)}onSnapshotsInSync(e){return function C3(n,e){return function kL(n,e){const t=new mD(e);return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield x_(n),i=t,lt(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield x_(n),i=t,void lt(r).Tu.delete(i);var r,i}))}}(oi(n=Cn(n,Mr)),PM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new R_(this,sR(this._delegate,e))}catch(t){throw Ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new Lo(this,yD(this._delegate,e))}catch(t){throw Ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Is(this,function NL(n,e){if(n=Cn(n,tw),RM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ge(Re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(n,null,(t=e,new Po(_n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function I3(n,e,t){n=Cn(n,Mr);const r=Object.assign(Object.assign({},f3),t);return function(i){if(i.maxAttempts<1)throw new Ge(Re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function xL(n,e,t){const r=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const i=yield(a=n,gD(a).then(c=>c.datastore));var a;new DL(n.asyncQueue,i,t,e,r).run()})),r.promise}(oi(n),i=>e(new D3(n,i)),r)}(this._delegate,t=>e(new NR(this,t)))}batch(){return oi(this._delegate),new FR(new TR(this._delegate,e=>O_(this._delegate,e)))}loadBundle(e){return function GL(n,e){const t=oi(n=Cn(n,Mr)),r=new LL;return function OL(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return WO(_,w);if(_ instanceof ArrayBuffer)return WO(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new EL(_,c);var _}(t,Jb(e));n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function bL(n,e,t){const r=lt(n);var i;(i=(0,Ne.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(z,G){const te=lt(z),ye=si(G.createTime);return te.persistence.runTransaction("hasNewerBundle","readonly",Ve=>te.Ds.getBundleMetadata(Ve,G.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(ye)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(z=_).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);f._updateProgress(NO(_));const w=new XF(_,a.localStore,c.wt);let I=yield c.fc();for(;I;){const z=yield w.Nu(I);z&&f._updateProgress(z),I=yield c.fc()}const M=yield w.complete();return yield Kl(a,M.Mu,void 0),yield function(z,G){const te=lt(z);return te.persistence.runTransaction("Save bundle","readwrite",ye=>te.Ds.saveBundleMetadata(ye,G))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Ou)}catch(_){return Dl("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var z}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield xM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function WL(n,e){return function RL(n,e){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,r){const i=lt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ds.getNamedQuery(a,r))}(yield kM(n),e)}))}(oi(n=Cn(n,Mr)),e).then(t=>t?new Yi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Is(this,t):null)}}class SD extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ow(new Mu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Lo.forKey(t,this.firestore,null)}}class NR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new SD(e)}get(e){const t=yp(e);return this._delegate.get(t).then(r=>new aw(this._firestore,new Yl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=yp(e);return r?(HM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=yp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=yp(e);return this._delegate.delete(t),this}}class FR{constructor(e){this._delegate=e}set(e,t,r){const i=yp(e);return r?(HM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=yp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=yp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _p{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new iw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=_p.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new _p(e,new SD(e),t),i.set(t,a)),a}}_p.INSTANCES=new WeakMap;class Lo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Lo(t,new vr(t._delegate,r,new ot(e)))}static forKey(e,t,r){return new Lo(t,new vr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new R_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new R_(this.firestore,sR(this._delegate,e))}catch(t){throw Ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pn.m9)(e))instanceof vr&&oR(this._delegate,e)}set(e,t){t=HM("DocumentReference.set",t);try{return t?AR(this._delegate,e,t):AR(this._delegate,e)}catch(r){throw Ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?MR(this._delegate,e):MR(this._delegate,e,t,...r)}catch(i){throw Ds(i,"updateDoc()","DocumentReference.update()")}}delete(){return function w3(n){return O_(Cn(n.firestore,Mr),[new Fl(n._key,_r.none())])}(this._delegate)}onSnapshot(...e){const t=LR(e),r=VR(e,i=>new aw(this.firestore,new Yl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return kR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function g3(n){n=Cn(n,vr);const e=Cn(n.firestore,Mr),t=oi(e),r=new gp(e);return function AL(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,a,c){try{const f=yield function(_,w){const I=lt(_);return I.persistence.runTransaction("read document","readonly",M=>I.localDocuments.getDocument(M,w))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Ge(Re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=T_(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield kM(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Yl(e,r,n._key,i,new mp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function _3(n){n=Cn(n,vr);const e=Cn(n.firestore,Mr);return QO(oi(e),n._key,{source:"server"}).then(t=>jM(e,n,t))}(this._delegate):function m3(n){n=Cn(n,vr);const e=Cn(n.firestore,Mr);return QO(oi(e),n._key).then(t=>jM(e,n,t))}(this._delegate),t.then(r=>new aw(this.firestore,new Yl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Lo(this.firestore,this._delegate.withConverter(e?_p.getInstance(this.firestore,e):null))}}function Ds(n,e,t){return n.message=n.message.replace(e,t),n}function LR(n){for(const e of n)if("object"==typeof e&&!zM(e))return e;return{}}function VR(n,e){var t,r;let i;return i=zM(n[0])?n[0]:zM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class aw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Lo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yR(this._delegate,e._delegate)}}class uw extends aw{data(e){const t=this._delegate.data(e);return function OT(n,e){n||Ct()}(void 0!==t),t}}class Is{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SD(e)}where(e,t,r){try{return new Is(this.firestore,nh(this._delegate,function r3(n,e,t){const r=e,i=DD("where",n);return new n3(i,r,t)}(e,t,r)))}catch(i){throw Ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Is(this.firestore,nh(this._delegate,function o3(n,e="asc"){const t=e,r=DD("orderBy",n);return new s3(r,t)}(e,t)))}catch(r){throw Ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Is(this.firestore,nh(this._delegate,function a3(n){return rR("limit",n),new bR("limit",n,"F")}(e)))}catch(t){throw Ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Is(this.firestore,nh(this._delegate,function u3(n){return rR("limitToLast",n),new bR("limitToLast",n,"L")}(e)))}catch(t){throw Ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Is(this.firestore,nh(this._delegate,function l3(...n){return new wR("startAt",n,!0)}(...e)))}catch(t){throw Ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Is(this.firestore,nh(this._delegate,function c3(...n){return new wR("startAfter",n,!1)}(...e)))}catch(t){throw Ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Is(this.firestore,nh(this._delegate,function d3(...n){return new ER("endBefore",n,!1)}(...e)))}catch(t){throw Ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Is(this.firestore,nh(this._delegate,function h3(...n){return new ER("endAt",n,!0)}(...e)))}catch(t){throw Ds(t,"endAt()","Query.endAt()")}}isEqual(e){return aR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function v3(n){n=Cn(n,Yi);const e=Cn(n.firestore,Mr),t=oi(e),r=new gp(e);return function ML(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,a,c){try{const f=yield lD(i,a,!0),_=new VO(a,f.ji),w=_.Ku(f.documents),I=_.applyChanges(w,!1);c.resolve(I.snapshot)}catch(f){const _=T_(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield kM(n),e,t);var r})),t.promise}(t,n._query).then(i=>new th(e,r,n,i))}(this._delegate):"server"===e?.source?function b3(n){n=Cn(n,Yi);const e=Cn(n.firestore,Mr),t=oi(e),r=new gp(e);return JO(t,n._query,{source:"server"}).then(i=>new th(e,r,n,i))}(this._delegate):function y3(n){n=Cn(n,Yi);const e=Cn(n.firestore,Mr),t=oi(e),r=new gp(e);return vR(n._query),JO(t,n._query).then(i=>new th(e,r,n,i))}(this._delegate),t.then(r=>new $M(this.firestore,new th(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=LR(e),r=VR(e,i=>new $M(this.firestore,new th(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return kR(this._delegate,t,r)}withConverter(e){return new Is(this.firestore,this._delegate.withConverter(e?_p.getInstance(this.firestore,e):null))}}class F3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new uw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $M{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new F3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new uw(this._firestore,r))})}isEqual(e){return yR(this._delegate,e._delegate)}}class R_ extends Is{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Lo(this.firestore,e):null}doc(e){try{return new Lo(this.firestore,void 0===e?yD(this._delegate):yD(this._delegate,e))}catch(t){throw Ds(t,"doc()","CollectionReference.doc()")}}add(e){return function E3(n,e){const t=Cn(n.firestore,Mr),r=yD(n),i=ID(n.converter,e);return O_(t,[wD(fp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Lo(this.firestore,t))}isEqual(e){return oR(this._delegate,e._delegate)}withConverter(e){return new R_(this.firestore,this._delegate.withConverter(e?_p.getInstance(this.firestore,e):null))}}function yp(n){return Cn(n,vr)}class GM{constructor(...e){this._delegate=new Zl(...e)}static documentId(){return new GM(Xn.keyField().canonicalString())}isEqual(e){return(e=(0,pn.m9)(e))instanceof Zl&&this._delegate._internalPath.isEqual(e._internalPath)}}class vp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function T3(){return new NM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new vp(e)}static delete(){const e=function S3(){return new nw("deleteField")}();return e._methodName="FieldValue.delete",new vp(e)}static arrayUnion(...e){const t=function A3(...n){return new YL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new vp(t)}static arrayRemove(...e){const t=function M3(...n){return new QL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new vp(t)}static increment(e){const t=function k3(n){return new JL("increment",n)}(e);return t._methodName="FieldValue.increment",new vp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const L3={Firestore:PR,GeoPoint:vD,Timestamp:lr,Blob:ow,Transaction:NR,WriteBatch:FR,DocumentReference:Lo,DocumentSnapshot:aw,Query:Is,QueryDocumentSnapshot:uw,QuerySnapshot:$M,CollectionReference:R_,FieldPath:GM,FieldValue:vp,setLogLevel:function N3(n){!function ob(n){mu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function BR(n,e){return function U3(n,e=dd.z){return new or.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function WM(n,e){return BR(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}function TD(n,e){return WM(n,e).pipe(Si(void 0),Km(),(0,It.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(I=>I.doc.ref.isEqual(c.ref)),w=t?.payload.docs.find(I=>I.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function UR(n,e,t){return TD(n,t).pipe($u((r,i)=>function H3(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function z3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return qM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return qM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),au(),(0,It.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function qM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function jR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function B3(n){(function V3(n,e){n.INTERNAL.registerComponent(new Rm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},L3)))})(n,(e,t)=>new PR(e,t,new P3)),n.registerVersion("@firebase/firestore-compat","0.1.22")}(ko.Z);class HR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=TD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Si(void 0),Km(),Rn(([r,i])=>i.length>0||!r),(0,It.U)(([r,i])=>i),Un.iC)}auditTrail(e){return this.stateChanges(e).pipe($u((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=jR(e);return UR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(e={}){return WM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Un.iC)}get(e){return(0,qn.D)(this.query.get(e)).pipe(Un.iC)}add(e){return this.ref.add(e)}doc(e){return new zR(this.ref.doc(e),this.afs)}}class zR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=WR(r,t);return new HR(i,a,this.afs)}snapshotChanges(){return function j3(n,e){return BR(n,e).pipe(Si(void 0),Km(),(0,It.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,qn.D)(this.ref.get(e)).pipe(Un.iC)}}class $3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?TD(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Rn(t=>t.length>0),Un.iC):TD(this.query,this.afs.schedulers.outsideAngular).pipe(Un.iC)}auditTrail(e){return this.stateChanges(e).pipe($u((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=jR(e);return UR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(e={}){return WM(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Un.iC)}get(e){return(0,qn.D)(this.query.get(e)).pipe(Un.iC)}}const $R=new l.OlP("angularfire2.enableFirestorePersistence"),GR=new l.OlP("angularfire2.firestore.persistenceSettings"),G3=new l.OlP("angularfire2.firestore.settings"),W3=new l.OlP("angularfire2.firestore.use-emulator");function WR(n,e=(t=>t)){return{query:e(n),ref:n}}let KM=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,M,z,G,te,ye,Ve,nt,bt){this.schedulers=_;const Vt=(0,ir.on)(t,f,r),Tt=I;M&&B0(Vt,f,z,te,ye,Ve,G,nt),[this.firestore,this.persistenceEnabled$]=(0,ir.cc)(`${Vt.name}.firestore`,"AngularFirestore",Vt.name,()=>{const tn=f.runOutsideAngular(()=>Vt.firestore());if(a&&tn.settings(a),Tt&&tn.useEmulator(...Tt),i&&!ja(c)){const ln=()=>{try{return(0,qn.D)(tn.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Vn){return typeof console<"u"&&console.warn(Vn),(0,Et.of)(!1)}};return[tn,f.runOutsideAngular(ln)]}return[tn,(0,Et.of)(!1)]},[a,Tt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=WR(i,r),f=this.schedulers.ngZone.run(()=>a);return new HR(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new $3(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new zR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ir.Dh),l.LFG(ir.xv,8),l.LFG($R,8),l.LFG(G3,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Un.HU),l.LFG(GR,8),l.LFG(W3,8),l.LFG(qm,8),l.LFG(ov,8),l.LFG(Wm,8),l.LFG(L0,8),l.LFG(PS,8),l.LFG(V0,8),l.LFG(av,8),l.LFG(zm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),q3=(()=>{class n{constructor(){ld.Z.registerVersion("angularfire",Un.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:$R,useValue:!0},{provide:GR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KM]}),n})();class qR{}const Ql="*";function AD(n,e){return{type:7,name:n,definitions:e,options:{}}}function bp(n,e=null){return{type:4,styles:e,timings:n}}function KR(n,e=null){return{type:3,steps:n,options:e}}function ZR(n,e=null){return{type:2,steps:n,options:e}}function Qi(n){return{type:6,styles:n,offset:null}}function wp(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ep(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function YR(n=null){return{type:9,options:n}}function QR(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function JR(n){Promise.resolve(null).then(n)}class lw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){JR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class XR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?JR(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function e1(n){return new l.vHH(3e3,!1)}function kV(){return typeof window<"u"&&typeof window.document<"u"}function YM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ih(n){switch(n.length){case 0:return new lw;case 1:return n[0];default:return new XR(n)}}function t1(n,e,t,r,i=new Map,a=new Map){const c=[],f=[];let _=-1,w=null;if(r.forEach(I=>{const M=I.get("offset"),z=M==_,G=z&&w||new Map;I.forEach((te,ye)=>{let Ve=ye,nt=te;if("offset"!==ye)switch(Ve=e.normalizePropertyName(Ve,c),nt){case"!":nt=i.get(ye);break;case Ql:nt=a.get(ye);break;default:nt=e.normalizeStyleValue(ye,Ve,nt,c)}G.set(Ve,nt)}),z||f.push(G),w=G,_=M}),c.length)throw function yV(n){return new l.vHH(3502,!1)}();return f}function QM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&JM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&JM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&JM(t,"destroy",n)))}}function JM(n,e,t){const a=XM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function XM(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function lo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function n1(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ek=(n,e)=>!1,r1=(n,e,t)=>[],s1=null;function tk(n){const e=n.parentNode||n.host;return e===s1?null:e}(YM()||typeof Element<"u")&&(kV()?(s1=(()=>document.documentElement)(),ek=(n,e)=>{for(;e;){if(e===n)return!0;e=tk(e)}return!1}):ek=(n,e)=>n.contains(e),r1=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Cp=null,o1=!1;const a1=ek,u1=r1;let l1=(()=>{class n{validateStyleProperty(t){return function OV(n){Cp||(Cp=function RV(){return typeof document<"u"?document.body:null}()||{},o1=!!Cp.style&&"WebkitAppearance"in Cp.style);let e=!0;return Cp.style&&!function xV(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Cp.style,!e&&o1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Cp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return a1(t,r)}getParentElement(t){return tk(t)}query(t,r,i){return u1(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],_){return new lw(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),nk=(()=>{class n{}return n.NOOP=new l1,n})();const rk="ng-enter",MD="ng-leave",kD="ng-trigger",cw=".ng-trigger",d1="ng-animating",ik=".ng-animating";function sh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:sk(parseFloat(e[1]),e[2])}function sk(n,e){return"s"===e?1e3*n:n}function xD(n,e,t){return n.hasOwnProperty("duration")?n:function FV(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(e1()),{duration:0,delay:0,easing:""};i=sk(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=sk(parseFloat(_),f[4]));const w=f[5];w&&(c=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function Y3(){return new l.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function Q3(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,e1())}return{duration:i,delay:a,easing:c}}(n,e,t)}function dw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function h1(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function oh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function p1(n,e,t){return t?e+":"+t+";":""}function m1(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=p1(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=p1(0,UV(t),n.style[t]));n.setAttribute("style",e)}function ku(n,e,t){n.style&&(e.forEach((r,i)=>{const a=ak(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),YM()&&m1(n))}function Dp(n,e){n.style&&(e.forEach((t,r)=>{const i=ak(r);n.style[i]=""}),YM()&&m1(n))}function hw(n){return Array.isArray(n)?1==n.length?n[0]:ZR(n):n}const ok=new RegExp("{{\\s*(.+?)\\s*}}","g");function g1(n){let e=[];if("string"==typeof n){let t;for(;t=ok.exec(n);)e.push(t[1]);ok.lastIndex=0}return e}function OD(n,e,t){const r=n.toString(),i=r.replace(ok,(a,c)=>{let f=e[c];return null==f&&(t.push(function X3(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function RD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const BV=/-+([a-z0-9])/g;function ak(n){return n.replace(BV,(...e)=>e[1].toUpperCase())}function UV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function co(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function eV(n){return new l.vHH(3004,!1)}()}}function _1(n,e){return window.getComputedStyle(n)[e]}function WV(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function qV(n,e,t){if(":"==n[0]){const _=function KV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function pV(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function fV(n){return new l.vHH(3015,!1)}()),e;const i=r[1],a=r[2],c=r[3];e.push(y1(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(y1(c,i))}(r,t,e)):t.push(n),t}const LD=new Set(["true","1"]),VD=new Set(["false","0"]);function y1(n,e){const t=LD.has(n)||VD.has(n),r=LD.has(e)||VD.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?LD.has(n):VD.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?LD.has(e):VD.has(e)),c&&f}}const ZV=new RegExp("s*:selfs*,?","g");function uk(n,e,t,r){return new YV(n).build(e,t,r)}class YV{constructor(e){this._driver=e}build(e,t,r){const i=new XV(t);return this._resetContextStyleTimingState(i),co(this,hw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function nV(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function rV(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{g1(_).forEach(w=>{c.hasOwnProperty(w)||a.add(w)})})}),a.size&&(RD(a.values()),t.errors.push(function iV(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=co(this,hw(e.animation),t);return{type:1,matchers:WV(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ip(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>co(this,r,t)),options:Ip(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=co(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Ip(e.options)}}visitAnimate(e,t){const r=function t2(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return lk(xD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=lk(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=xD(t,e);return lk(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Qi({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const w={};r.easing&&(w.easing=r.easing),c=Qi(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Ql?r.push(f):t.errors.push(new l.vHH(3002,!1)):r.push(h1(f));let a=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),I=w.get(_);let M=!0;I&&(a!=i&&a>=I.startTime&&i<=I.endTime&&(t.errors.push(function oV(n,e,t,r,i){return new l.vHH(3010,!1)}()),M=!1),a=I.startTime),M&&w.set(_,{startTime:a,endTime:i}),t.options&&function VV(n,e,t){const r=e.params||{},i=g1(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function J3(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function aV(){return new l.vHH(3011,!1)}()),r;let a=0;const c=[];let f=!1,_=!1,w=0;const I=e.steps.map(nt=>{const bt=this._makeStyleAst(nt,t);let Vt=null!=bt.offset?bt.offset:function e2(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(bt.styles),Tt=0;return null!=Vt&&(a++,Tt=bt.offset=Vt),_=_||Tt<0||Tt>1,f=f||Tt<w,w=Tt,c.push(Tt),bt});_&&t.errors.push(function uV(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function lV(){return new l.vHH(3200,!1)}());const M=e.steps.length;let z=0;a>0&&a<M?t.errors.push(function cV(){return new l.vHH(3202,!1)}()):0==a&&(z=1/(M-1));const G=M-1,te=t.currentTime,ye=t.currentAnimateTimings,Ve=ye.duration;return I.forEach((nt,bt)=>{const Vt=z>0?bt==G?1:z*bt:c[bt],Tt=Vt*Ve;t.currentTime=te+ye.delay+Tt,ye.duration=Tt,this._validateStyleAst(nt,t),nt.offset=Vt,r.styles.push(nt)}),r}visitReference(e,t){return{type:8,animation:co(this,hw(e.animation),t),options:Ip(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ip(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ip(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function QV(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ZV,"")),n=n.replace(/@\*/g,cw).replace(/@\w+/g,t=>cw+"-"+t.slice(1)).replace(/:animating/g,ik),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,lo(t.collectedStyles,t.currentQuerySelector,new Map);const f=co(this,hw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:Ip(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function dV(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:xD(e.timings,t.errors,!0);return{type:12,animation:co(this,hw(e.animation),t),timings:r,options:null}}}class XV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function Ip(n){return n?(n=dw(n)).params&&(n.params=function JV(n){return n?dw(n):null}(n.params)):n={},n}function lk(n,e,t){return{duration:n,delay:e,easing:t}}function ck(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class BD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const s2=new RegExp(":enter","g"),a2=new RegExp(":leave","g");function dk(n,e,t,r,i,a=new Map,c=new Map,f,_,w=[]){return(new u2).buildKeyframes(n,e,t,r,i,a,c,f,_,w)}class u2{buildKeyframes(e,t,r,i,a,c,f,_,w,I=[]){w=w||new BD;const M=new hk(e,t,w,i,a,I,[]);M.options=_;const z=_.delay?sh(_.delay):0;M.currentTimeline.delayNextStep(z),M.currentTimeline.setStyles([c],null,M.errors,_),co(this,r,M);const G=M.timelines.filter(te=>te.containsAnimation());if(G.length&&f.size){let te;for(let ye=G.length-1;ye>=0;ye--){const Ve=G[ye];if(Ve.element===t){te=Ve;break}}te&&!te.allowOnlyTimelineStyles()&&te.setStyles([f],null,M.errors,_)}return G.length?G.map(te=>te.buildKeyframes()):[ck(t,[],[],[],0,z,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?sh(r.duration):null,f=null!=r.delay?sh(r.delay):null;return 0!==c&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),co(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=UD);const c=sh(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>co(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?sh(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),co(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return xD(t.params?OD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?sh(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=UD);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const M=t.createSubContext(e.options,w);a&&M.delayNextStep(a),w===t.element&&(_=M.currentTimeline),co(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const M=I.currentTime;co(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const UD={};class hk{constructor(e,t,r,i,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=UD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new jD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=sh(r.duration)),null!=r.delay&&(i.delay=sh(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=OD(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new hk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=UD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new l2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(s2,"."+this._enterClassName)).replace(a2,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&c.push(function hV(n){return new l.vHH(3014,!1)}()),f}}class jD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new jD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ql),this._currentKeyframe.set(t,Ql);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},c=function c2(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Ql)}else oh(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of c){const w=OD(_,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)||Ql),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=oh(f,new Map,this._backFill);w.forEach((I,M)=>{"!"===I?e.add(M):I===Ql&&t.add(M)}),r||w.set("offset",_/this.duration),i.push(w)});const a=e.size?RD(e.values()):[],c=t.size?RD(t.values()):[];if(r){const f=i[0],_=new Map(f);f.set("offset",0),_.set("offset",1),i=[f,_]}return ck(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class l2 extends jD{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,_=oh(e[0]);_.set("offset",0),a.push(_);const w=oh(e[0]);w.set("offset",w1(f)),a.push(w);const I=e.length-1;for(let M=1;M<=I;M++){let z=oh(e[M]);const G=z.get("offset");z.set("offset",w1((t+G*r)/c)),a.push(z)}r=c,t=0,i="",e=a}return ck(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function w1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class fk{}const d2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class h2 extends fk{normalizePropertyName(e,t){return ak(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(d2.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function tV(n,e){return new l.vHH(3005,!1)}())}return c+a}}function E1(n,e,t,r,i,a,c,f,_,w,I,M,z){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:M,errors:z}}const pk={};class C1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function f2(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,c,f,_,w,I){const M=[],z=this.ast.options&&this.ast.options.params||pk,te=this.buildStyles(r,f&&f.params||pk,M),ye=_&&_.params||pk,Ve=this.buildStyles(i,ye,M),nt=new Set,bt=new Map,Vt=new Map,Tt="void"===i,tn={params:p2(ye,z),delay:this.ast.options?.delay},ln=I?[]:dk(e,t,this.ast.animation,a,c,te,Ve,tn,w,M);let Vn=0;if(ln.forEach(nc=>{Vn=Math.max(nc.duration+nc.delay,Vn)}),M.length)return E1(t,this._triggerName,r,i,Tt,te,Ve,[],[],bt,Vt,Vn,M);ln.forEach(nc=>{const rc=nc.element,gF=lo(bt,rc,new Set);nc.preStyleProps.forEach(Rp=>gF.add(Rp));const Pw=lo(Vt,rc,new Set);nc.postStyleProps.forEach(Rp=>Pw.add(Rp)),rc!==t&&nt.add(rc)});const As=RD(nt.values());return E1(t,this._triggerName,r,i,Tt,te,Ve,ln,As,bt,Vt,Vn)}}function p2(n,e){const t=dw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class m2{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=dw(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(i[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=OD(c,i,t));const _=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,_,c,t),r.set(_,c)})}),r}}class _2{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new m2(i.style,i.options&&i.options.params||{},r))}),D1(this.states,"true","1"),D1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new C1(e,i,this.states))}),this.fallbackTransition=function y2(n,e,t){return new C1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function D1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const v2=new BD;class b2{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=uk(this._driver,t,r,[]);if(r.length)throw function vV(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=t1(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=dk(this._driver,t,a,rk,MD,new Map,new Map,r,v2,i),c.forEach(I=>{const M=lo(f,I.element,new Map);I.postStyleProps.forEach(z=>M.set(z,null))})):(i.push(function bV(){return new l.vHH(3300,!1)}()),c=[]),i.length)throw function wV(n){return new l.vHH(3504,!1)}();f.forEach((I,M)=>{I.forEach((z,G)=>{I.set(G,this._driver.computeStyle(M,G,Ql))})});const w=ih(c.map(I=>{const M=f.get(I.element);return this._buildPlayer(I,new Map,M)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function EV(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=XM(t,"","","");return QM(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const I1="ng-animate-queued",mk="ng-animate-disabled",I2=[],S1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vo="__ng_removed";class gk{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function k2(n){return n??null}(r?e.value:e),r){const a=dw(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const fw="void",_k=new gk(fw);class T2{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Bo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function CV(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function DV(n){return new l.vHH(3303,!1)}();if(!function x2(n){return"start"==n||"done"==n}(r))throw function IV(n,e){return new l.vHH(3400,!1)}();const a=lo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=lo(this._engine.statesByElement,e,new Map);return f.has(t)||(Bo(e,kD),Bo(e,kD+"-"+t),f.set(t,_k)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function SV(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new yk(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Bo(e,kD),Bo(e,kD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new gk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=_k),w.value!==fw&&_.value===w.value){if(!function P2(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const ye=[],Ve=a.matchStyles(_.value,_.params,ye),nt=a.matchStyles(w.value,w.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Dp(e,Ve),ku(e,nt)})}return}const z=lo(this._engine.playersByElement,e,[]);z.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let G=a.matchTransition(_.value,w.value,e,w.params),te=!1;if(!G){if(!i)return;G=a.fallbackTransition,te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:_,toState:w,player:c,isFallbackTransition:te}),te||(Bo(e,I1),c.onStart(()=>{P_(e,I1)})),c.onDone(()=>{let ye=this.players.indexOf(c);ye>=0&&this.players.splice(ye,1);const Ve=this._engine.playersByElement.get(e);if(Ve){let nt=Ve.indexOf(c);nt>=0&&Ve.splice(nt,1)}}),this.players.push(c),z.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,cw,!0),i=e.shadowRoot?this._engine.driver.query(e.shadowRoot,cw,!0):[];[...r,...i].forEach(a=>{if(a[Vo])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(f=>f.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(c.set(w,_.value),this._triggers.has(w)){const I=this.trigger(e,w,fw,i);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&ih(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,w=r.get(c)||_k,I=new gk(fw),M=new yk(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:w,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if((!!e.childElementCount||!(!e.shadowRoot||!e.shadowRoot.childElementCount))&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let c=!1;if(r.totalAnimations){const f=r.players.length?r.playersByQueriedElement.get(e):[];if(f&&f.length)c=!0;else{let _=e;for(;_=_.parentNode;)if(r.statesByElement.get(_)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(e),c)r.markElementAsRemoved(this.id,e,!1,t);else{const f=e[Vo];(!f||f===S1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Bo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=XM(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,QM(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class A2{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new T2(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(HD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!HD(t))return;const a=t[Vo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Bo(e,mk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),P_(e,mk))}removeNode(e,t,r,i){if(HD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Vo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return HD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,cw,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ik,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ih(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Vo];if(t&&t.setForRemoval){if(e[Vo]=S1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(mk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Bo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ih(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function TV(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new BD,i=[],a=new Map,c=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(Mt=>{I.add(Mt);const jt=this.driver.query(Mt,".ng-animate-queued",!0);for(let qt=0;qt<jt.length;qt++)I.add(jt[qt])});const M=this.bodyNode,z=Array.from(this.statesByElement.keys()),G=M1(z,this.collectedEnterElements),te=new Map;let ye=0;G.forEach((Mt,jt)=>{const qt=rk+ye++;te.set(jt,qt),Mt.forEach(Pn=>Bo(Pn,qt))});const Ve=[],nt=new Set,bt=new Set;for(let Mt=0;Mt<this.collectedLeaveElements.length;Mt++){const jt=this.collectedLeaveElements[Mt],qt=jt[Vo];qt&&qt.setForRemoval&&(Ve.push(jt),nt.add(jt),qt.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach(Pn=>nt.add(Pn)):bt.add(jt))}const Vt=new Map,Tt=M1(z,Array.from(nt));Tt.forEach((Mt,jt)=>{const qt=MD+ye++;Vt.set(jt,qt),Mt.forEach(Pn=>Bo(Pn,qt))}),e.push(()=>{G.forEach((Mt,jt)=>{const qt=te.get(jt);Mt.forEach(Pn=>P_(Pn,qt))}),Tt.forEach((Mt,jt)=>{const qt=Vt.get(jt);Mt.forEach(Pn=>P_(Pn,qt))}),Ve.forEach(Mt=>{this.processLeaveNode(Mt)})});const tn=[],ln=[];for(let Mt=this._namespaceList.length-1;Mt>=0;Mt--)this._namespaceList[Mt].drainQueuedTransitions(t).forEach(qt=>{const Pn=qt.player,ki=qt.element;if(tn.push(Pn),this.collectedEnterElements.length){const es=ki[Vo];if(es&&es.setForMove){if(es.previousTriggersValues&&es.previousTriggersValues.has(qt.triggerName)){const Pp=es.previousTriggersValues.get(qt.triggerName),Uo=this.statesByElement.get(qt.element);if(Uo&&Uo.has(qt.triggerName)){const AI=Uo.get(qt.triggerName);AI.value=Pp,Uo.set(qt.triggerName,AI)}}return void Pn.destroy()}}const Ou=!M||!this.driver.containsElement(M,ki),ho=Vt.get(ki),hh=te.get(ki),Fr=this._buildInstruction(qt,r,hh,ho,Ou);if(Fr.errors&&Fr.errors.length)return void ln.push(Fr);if(Ou)return Pn.onStart(()=>Dp(ki,Fr.fromStyles)),Pn.onDestroy(()=>ku(ki,Fr.toStyles)),void i.push(Pn);if(qt.isFallbackTransition)return Pn.onStart(()=>Dp(ki,Fr.fromStyles)),Pn.onDestroy(()=>ku(ki,Fr.toStyles)),void i.push(Pn);const vF=[];Fr.timelines.forEach(es=>{es.stretchStartingKeyframe=!0,this.disabledNodes.has(es.element)||vF.push(es)}),Fr.timelines=vF,r.append(ki,Fr.timelines),c.push({instruction:Fr,player:Pn,element:ki}),Fr.queriedElements.forEach(es=>lo(f,es,[]).push(Pn)),Fr.preStyleProps.forEach((es,Pp)=>{if(es.size){let Uo=_.get(Pp);Uo||_.set(Pp,Uo=new Set),es.forEach((AI,gx)=>Uo.add(gx))}}),Fr.postStyleProps.forEach((es,Pp)=>{let Uo=w.get(Pp);Uo||w.set(Pp,Uo=new Set),es.forEach((AI,gx)=>Uo.add(gx))})});if(ln.length){const Mt=[];ln.forEach(jt=>{Mt.push(function AV(n,e){return new l.vHH(3505,!1)}())}),tn.forEach(jt=>jt.destroy()),this.reportError(Mt)}const Vn=new Map,As=new Map;c.forEach(Mt=>{const jt=Mt.element;r.has(jt)&&(As.set(jt,jt),this._beforeAnimationBuild(Mt.player.namespaceId,Mt.instruction,Vn))}),i.forEach(Mt=>{const jt=Mt.element;this._getPreviousPlayers(jt,!1,Mt.namespaceId,Mt.triggerName,null).forEach(Pn=>{lo(Vn,jt,[]).push(Pn),Pn.destroy()})});const nc=Ve.filter(Mt=>x1(Mt,_,w)),rc=new Map;A1(rc,this.driver,bt,w,Ql).forEach(Mt=>{x1(Mt,_,w)&&nc.push(Mt)});const Pw=new Map;G.forEach((Mt,jt)=>{A1(Pw,this.driver,new Set(Mt),_,"!")}),nc.forEach(Mt=>{const jt=rc.get(Mt),qt=Pw.get(Mt);rc.set(Mt,new Map([...Array.from(jt?.entries()??[]),...Array.from(qt?.entries()??[])]))});const Rp=[],_F=[],yF={};c.forEach(Mt=>{const{element:jt,player:qt,instruction:Pn}=Mt;if(r.has(jt)){if(I.has(jt))return qt.onDestroy(()=>ku(jt,Pn.toStyles)),qt.disabled=!0,qt.overrideTotalTime(Pn.totalTime),void i.push(qt);let ki=yF;if(As.size>1){let ho=jt;const hh=[];for(;ho=ho.parentNode;){const Fr=As.get(ho);if(Fr){ki=Fr;break}hh.push(ho)}hh.forEach(Fr=>As.set(Fr,ki))}const Ou=this._buildAnimation(qt.namespaceId,Pn,Vn,a,Pw,rc);if(qt.setRealPlayer(Ou),ki===yF)Rp.push(qt);else{const ho=this.playersByElement.get(ki);ho&&ho.length&&(qt.parentPlayer=ih(ho)),i.push(qt)}}else Dp(jt,Pn.fromStyles),qt.onDestroy(()=>ku(jt,Pn.toStyles)),_F.push(qt),I.has(jt)&&i.push(qt)}),_F.forEach(Mt=>{const jt=a.get(Mt.element);if(jt&&jt.length){const qt=ih(jt);Mt.setRealPlayer(qt)}}),i.forEach(Mt=>{Mt.parentPlayer?Mt.syncPlayerEvents(Mt.parentPlayer):Mt.destroy()});for(let Mt=0;Mt<Ve.length;Mt++){const jt=Ve[Mt],qt=jt[Vo];if(P_(jt,MD),qt&&qt.hasAnimation)continue;let Pn=[];if(f.size){let Ou=f.get(jt);Ou&&Ou.length&&Pn.push(...Ou);let ho=this.driver.query(jt,ik,!0);for(let hh=0;hh<ho.length;hh++){let Fr=f.get(ho[hh]);Fr&&Fr.length&&Pn.push(...Fr)}}const ki=Pn.filter(Ou=>!Ou.destroyed);ki.length?O2(this,jt,ki):this.processLeaveNode(jt)}return Ve.length=0,Rp.forEach(Mt=>{this.players.push(Mt),Mt.onDone(()=>{Mt.destroy();const jt=this.players.indexOf(Mt);this.players.splice(jt,1)}),Mt.play()}),Rp}elementContainsData(e,t){let r=!1;const i=t[Vo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==fw;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||c.push(w)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,M=lo(r,w,[]);this._getPreviousPlayers(w,I,c,f,t.toState).forEach(G=>{const te=G.getRealPlayer();te.beforeDestroy&&te.beforeDestroy(),G.destroy(),M.push(G)})}Dp(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,_=t.element,w=[],I=new Set,M=new Set,z=t.timelines.map(te=>{const ye=te.element;I.add(ye);const Ve=ye[Vo];if(Ve&&Ve.removedBeforeQueried)return new lw(te.duration,te.delay);const nt=ye!==_,bt=function R2(n){const e=[];return k1(n,e),e}((r.get(ye)||I2).map(Vn=>Vn.getRealPlayer())).filter(Vn=>!!Vn.element&&Vn.element===ye),Vt=a.get(ye),Tt=c.get(ye),tn=t1(0,this._normalizer,0,te.keyframes,Vt,Tt),ln=this._buildPlayer(te,tn,bt);if(te.subTimeline&&i&&M.add(ye),nt){const Vn=new yk(e,f,ye);Vn.setRealPlayer(ln),w.push(Vn)}return ln});w.forEach(te=>{lo(this.playersByQueriedElement,te.element,[]).push(te),te.onDone(()=>function M2(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,te.element,te))}),I.forEach(te=>Bo(te,d1));const G=ih(z);return G.onDestroy(()=>{I.forEach(te=>P_(te,d1)),ku(_,t.toStyles)}),M.forEach(te=>{lo(i,te,[]).push(G)}),G}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new lw(e.duration,e.delay)}}class yk{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new lw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>QM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){lo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function HD(n){return n&&1===n.nodeType}function T1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function A1(n,e,t,r,i){const a=[];t.forEach(_=>a.push(T1(_)));const c=[];r.forEach((_,w)=>{const I=new Map;_.forEach(M=>{const z=e.computeStyle(w,M,i);I.set(M,z),(!z||0==z.length)&&(w[Vo]=S2,c.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>T1(_,a[f++])),c}function M1(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:c(w),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function Bo(n,e){n.classList?.add(e)}function P_(n,e){n.classList?.remove(e)}function O2(n,e,t){ih(t).onDone(()=>n.processLeaveNode(e))}function k1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof XR?k1(r.players,e):e.push(r)}}function x1(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class zD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new A2(e,t,r),this._timelineEngine=new b2(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],I=uk(this._driver,a,_,[]);if(_.length)throw function _V(n,e){return new l.vHH(3404,!1)}();f=function g2(n,e,t){return new _2(n,e,t)}(i,I,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=n1(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=n1(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let F2=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ku(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ku(this._element,this._initialStyles),this._endStyles&&(ku(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dp(this._element,this._endStyles),this._endStyles=null),ku(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function vk(n){let e=null;return n.forEach((t,r)=>{(function L2(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class O1{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:_1(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class V2{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return a1(e,t)}getParentElement(e){return tk(e)}query(e,t,r){return u1(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const w=new Map,I=c.filter(G=>G instanceof O1);(function jV(n,e){return 0===n||0===e})(r,i)&&I.forEach(G=>{G.currentSnapshot.forEach((te,ye)=>w.set(ye,te))});let M=function LV(n){return n.length?n[0]instanceof Map?n:n.map(e=>h1(e)):[]}(t).map(G=>oh(G));M=function HV(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,c)=>{r.has(c)||i.push(c),r.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(f=>c.set(f,_1(n,f)))}}return e}(e,M,w);const z=function N2(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=vk(e[0]),e.length>1&&(r=vk(e[e.length-1]))):e instanceof Map&&(t=vk(e)),t||r?new F2(n,t,r):null}(e,M);return new O1(e,M,_,z)}}let B2=(()=>{class n extends qR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ZR(t):t;return R1(this._renderer,null,r,"register",[i]),new U2(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class U2 extends class K3{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new j2(this._id,e,t||{},this._renderer)}}class j2{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return R1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function R1(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const P1="@.disabled";let H2=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new N1("",a,this.engine),this._rendererCache.set(a,I)),I}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(c,f,t,I.name,I)};return r.data.animation.forEach(_),new z2(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(zD),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class N1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==P1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class z2 extends N1{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==P1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function $2(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function G2(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let W2=(()=>{class n extends zD{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(nk),l.LFG(fk),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const F1=[{provide:qR,useClass:B2},{provide:fk,useFactory:function q2(){return new h2}},{provide:zD,useClass:W2},{provide:l.FYo,useFactory:function K2(n,e,t){return new H2(n,e,t)},deps:[Ks,zD,l.R0b]}],L1=[{provide:nk,useFactory:()=>new V2},{provide:l.QbO,useValue:"BrowserAnimations"},...F1],Z2=[{provide:nk,useClass:l1},{provide:l.QbO,useValue:"NoopAnimations"},...F1];let Y2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Z2:L1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:L1,imports:[Fn]}),n})();var Q2=B(7830);function GD(n,e){return new or.y(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let a=0,c=0;for(let f=0;f<r;f++){const _=(0,qn.D)(n[f]);let w=!1;t.add(_.subscribe({next:I=>{w||(w=!0,c++),i[f]=I},error:I=>t.error(I),complete:()=>{a++,(a===r||!w)&&(c===r&&t.next(e?e.reduce((I,M,z)=>(I[M]=i[z],I),{}):i),t.complete())}}))}})}let B1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Sp=(()=>{class n extends B1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const xu=new l.OlP("NgValueAccessor"),J2={provide:xu,useExisting:(0,l.Gpc)(()=>bk),multi:!0};let bk=(()=>{class n extends Sp{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[l._Bn([J2]),l.qOj]}),n})();const X2={provide:xu,useExisting:(0,l.Gpc)(()=>pw),multi:!0},tB=new l.OlP("CompositionEventMode");let pw=(()=>{class n extends B1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eB(){const n=K()?K().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(tB,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([X2]),l.qOj]}),n})();function ah(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function U1(n){return null!=n&&"number"==typeof n.length}const Ji=new l.OlP("NgValidators"),uh=new l.OlP("NgAsyncValidators"),rB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class j1{static min(e){return function H1(n){return e=>{if(ah(e.value)||ah(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function z1(n){return e=>{if(ah(e.value)||ah(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function $1(n){return ah(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function G1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function W1(n){return ah(n.value)||rB.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function q1(n){return e=>ah(e.value)||!U1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return K1(e)}static pattern(e){return function Z1(n){if(!n)return WD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ah(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return tP(e)}static composeAsync(e){return nP(e)}}function K1(n){return e=>U1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function WD(n){return null}function Y1(n){return null!=n}function Q1(n){return(0,l.QGY)(n)?(0,qn.D)(n):n}function J1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function X1(n,e){return e.map(t=>t(n))}function eP(n){return n.map(e=>function iB(n){return!n.validate}(e)?e:t=>e.validate(t))}function tP(n){if(!n)return null;const e=n.filter(Y1);return 0==e.length?null:function(t){return J1(X1(t,e))}}function wk(n){return null!=n?tP(eP(n)):null}function nP(n){if(!n)return null;const e=n.filter(Y1);return 0==e.length?null:function(t){return function V1(...n){if(1===n.length){const e=n[0];if((0,Ch.k)(e))return GD(e,null);if((0,Q2.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return GD(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return GD(n=1===n.length&&(0,Ch.k)(n[0])?n[0]:n,null).pipe((0,It.U)(t=>e(...t)))}return GD(n,null)}(X1(t,e).map(Q1)).pipe((0,It.U)(J1))}}function Ek(n){return null!=n?nP(eP(n)):null}function rP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iP(n){return n._rawValidators}function sP(n){return n._rawAsyncValidators}function Ck(n){return n?Array.isArray(n)?n:[n]:[]}function qD(n,e){return Array.isArray(n)?n.includes(e):n===e}function oP(n,e){const t=Ck(e);return Ck(n).forEach(i=>{qD(t,i)||t.push(i)}),t}function aP(n,e){return Ck(e).filter(t=>!qD(n,t))}class uP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ek(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ss extends uP{get formDirective(){return null}get path(){return null}}class Jl extends uP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let KD=(()=>{class n extends class lP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Jl,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})();const mw="VALID",YD="INVALID",N_="PENDING",gw="DISABLED";function Tk(n){return(QD(n)?n.validators:n)||null}function dP(n){return Array.isArray(n)?wk(n):n||null}function Ak(n,e){return(QD(e)?e.asyncValidators:n)||null}function hP(n){return Array.isArray(n)?Ek(n):n||null}function QD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class mP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=dP(this._rawValidators),this._composedAsyncValidatorFn=hP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mw}get invalid(){return this.status===YD}get pending(){return this.status==N_}get disabled(){return this.status===gw}get enabled(){return this.status!==gw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=dP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=hP(e)}addValidators(e){this.setValidators(oP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aP(e,this._rawAsyncValidators))}hasValidator(e){return qD(this._rawValidators,e)}hasAsyncValidator(e){return qD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=N_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mw||this.status===N_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gw:mw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=N_,this._hasOwnPendingAsyncValidator=!0;const t=Q1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?gw:this.errors?YD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(N_)?N_:this._anyControlsHaveStatus(YD)?YD:mw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){QD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Mk extends mP{constructor(e,t,r){super(Tk(t),Ak(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function pP(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function fP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function _w(n,e){kk(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function pB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gP(n,e)})}(n,e),function gB(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fB(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function XD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),tI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function eI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kk(n,e){const t=iP(n);null!==e.validator?n.setValidators(rP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=sP(n);null!==e.asyncValidator?n.setAsyncValidators(rP(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();eI(e._rawValidators,i),eI(e._rawAsyncValidators,i)}function tI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=iP(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=sP(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return eI(e._rawValidators,r),eI(e._rawAsyncValidators,r),t}function gP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _P(n,e){kk(n,e)}function vP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const wB={provide:Ss,useExisting:(0,l.Gpc)(()=>nI)},yw=(()=>Promise.resolve(null))();let nI=(()=>{class n extends Ss{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Mk({},wk(t),Ek(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),_w(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yw.then(()=>{const r=this._findContainer(t.path),i=new Mk({});_P(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){yw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vP(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ji,10),l.Y36(uh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([wB]),l.qOj]}),n})();function bP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function wP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vw=class extends mP{constructor(e=null,t,r){super(Tk(t),Ak(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),QD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=wP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let TP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Rk=new l.OlP("NgModelWithFormControlWarning"),kB={provide:Jl,useExisting:(0,l.Gpc)(()=>bw)};let bw=(()=>{class n extends Jl{constructor(t,r,i,a){super(),this._ngModelWarningConfig=a,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=function Ok(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===pw?t=a:function vB(n){return Object.getPrototypeOf(n.constructor)===Sp}(a)?r=a:i=a}),i||r||t||null}(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&XD(r,this,!1),_w(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}(function xk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&XD(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Ji,10),l.Y36(uh,10),l.Y36(xu,10),l.Y36(Rk,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([kB]),l.qOj,l.TTD]}),n})();const xB={provide:Ss,useExisting:(0,l.Gpc)(()=>rI)};let rI=(()=>{class n extends Ss{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return _w(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){XD(t.control||null,t,!1),function bB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,vP(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(XD(r||null,t),(n=>n instanceof vw)(i)&&(_w(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);_P(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function _B(n,e){return tI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kk(this.form,this),this._oldForm&&tI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ji,10),l.Y36(uh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([xB]),l.qOj,l.TTD]}),n})();let Tp=(()=>{class n{constructor(){this._validator=WD}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):WD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const qB={provide:Ji,useExisting:(0,l.Gpc)(()=>Bk),multi:!0};let Bk=(()=>{class n extends Tp{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function PP(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>K1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l._Bn([qB]),l.qOj]}),n})(),HP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[TP]}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[HP]}),n})(),YB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rk,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[HP]}),n})();class zP{}class $P{}class Xl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class JB{encodeKey(e){return GP(e)}encodeValue(e){return GP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const e8=/%(\d[a-f0-9])/gi,t8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GP(n){return encodeURIComponent(n).replace(e8,(e,t)=>t8[t]??e)}function iI(n){return`${n}`}class lh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new JB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function XB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(c)||[];_.push(f),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(iI):[iI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new lh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(iI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(iI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class n8{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function WP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qP(n){return typeof Blob<"u"&&n instanceof Blob}function KP(n){return typeof FormData<"u"&&n instanceof FormData}class ww{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function r8(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Xl),this.context||(this.context=new n8),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new lh,this.urlWithParams=t}serializeBody(){return null===this.body?null:WP(this.body)||qP(this.body)||KP(this.body)||function i8(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof lh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KP(this.body)?null:qP(this.body)?this.body.type||null:WP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,z)=>M.set(z,e.setHeaders[z]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((M,z)=>M.set(z,e.setParams[z]),w)),new ww(t,r,a,{params:w,headers:_,context:I,reportProgress:f,responseType:i,withCredentials:c})}}var ai=(()=>((ai=ai||{})[ai.Sent=0]="Sent",ai[ai.UploadProgress=1]="UploadProgress",ai[ai.ResponseHeader=2]="ResponseHeader",ai[ai.DownloadProgress=3]="DownloadProgress",ai[ai.Response=4]="Response",ai[ai.User=5]="User",ai))();class Uk{constructor(e,t=200,r="OK"){this.headers=e.headers||new Xl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class jk extends Uk{constructor(e={}){super(e),this.type=ai.ResponseHeader}clone(e={}){return new jk({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sI extends Uk{constructor(e={}){super(e),this.type=ai.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ZP extends Uk{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Hk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let oI=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof ww)a=t;else{let _,w;_=i.headers instanceof Xl?i.headers:new Xl(i.headers),i.params&&(w=i.params instanceof lh?i.params:new lh({fromObject:i.params})),a=new ww(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=(0,Et.of)(a).pipe(Js(_=>this.handler.handle(_)));if(t instanceof ww||"events"===i.observe)return c;const f=c.pipe(Rn(_=>_ instanceof sI));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,It.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,It.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,It.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,It.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new lh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Hk(i,r))}post(t,r,i={}){return this.request("POST",t,Hk(i,r))}put(t,r,i={}){return this.request("PUT",t,Hk(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class YP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const QP=new l.OlP("HTTP_INTERCEPTORS");let s8=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const o8=/^\)\]\}',?\n/;let JP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new or.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((G,te)=>i.setRequestHeader(G,te.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&i.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();i.responseType="json"!==G?G:"text"}const a=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const G=i.statusText||"OK",te=new Xl(i.getAllResponseHeaders()),ye=function a8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new jk({headers:te,status:i.status,statusText:G,url:ye}),c},_=()=>{let{headers:G,status:te,statusText:ye,url:Ve}=f(),nt=null;204!==te&&(nt=typeof i.response>"u"?i.responseText:i.response),0===te&&(te=nt?200:0);let bt=te>=200&&te<300;if("json"===t.responseType&&"string"==typeof nt){const Vt=nt;nt=nt.replace(o8,"");try{nt=""!==nt?JSON.parse(nt):null}catch(Tt){nt=Vt,bt&&(bt=!1,nt={error:Tt,text:nt})}}bt?(r.next(new sI({body:nt,headers:G,status:te,statusText:ye,url:Ve||void 0})),r.complete()):r.error(new ZP({error:nt,headers:G,status:te,statusText:ye,url:Ve||void 0}))},w=G=>{const{url:te}=f(),ye=new ZP({error:G,status:i.status||0,statusText:i.statusText||"Unknown Error",url:te||void 0});r.error(ye)};let I=!1;const M=G=>{I||(r.next(f()),I=!0);let te={type:ai.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(te.total=G.total),"text"===t.responseType&&!!i.responseText&&(te.partialText=i.responseText),r.next(te)},z=G=>{let te={type:ai.UploadProgress,loaded:G.loaded};G.lengthComputable&&(te.total=G.total),r.next(te)};return i.addEventListener("load",_),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",M),null!==a&&i.upload&&i.upload.addEventListener("progress",z)),i.send(a),r.next({type:ai.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",_),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",M),null!==a&&i.upload&&i.upload.removeEventListener("progress",z)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Br))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zk=new l.OlP("XSRF_COOKIE_NAME"),$k=new l.OlP("XSRF_HEADER_NAME");class XP{}let Wk,u8=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(l.Lbi),l.LFG(zk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Gk=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(XP),l.LFG($k))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),l8=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(QP,[]);this.chain=r.reduceRight((i,a)=>new YP(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($P),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),c8=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Gk,useClass:s8}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:zk,useValue:t.cookieName}:[],t.headerName?{provide:$k,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Gk,{provide:QP,useExisting:Gk,multi:!0},{provide:XP,useClass:u8},{provide:zk,useValue:"XSRF-TOKEN"},{provide:$k,useValue:"X-XSRF-TOKEN"}]}),n})(),d8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[oI,{provide:zP,useClass:l8},JP,{provide:$P,useExisting:JP}],imports:[c8.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();try{Wk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wk=!1}let F_,Mi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Er(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Wk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tN(){if(F_)return F_;if("object"!=typeof document||!document)return F_=new Set(eN),F_;let n=document.createElement("input");return F_=new Set(eN.filter(e=>(n.setAttribute("type",e),n.type===e))),F_}let Ew,aI,Ap,qk;function Cw(n){return function h8(){if(null==Ew&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ew=!0}))}finally{Ew=Ew||!1}return Ew}()?n:!!n.capture}function nN(){if(null==Ap){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ap=!1,Ap;if("scrollBehavior"in document.documentElement.style)Ap=!0;else{const n=Element.prototype.scrollTo;Ap=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ap}function Dw(){if("object"!=typeof document||!document)return 0;if(null==aI){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),aI=0,0===n.scrollLeft&&(n.scrollLeft=1,aI=0===n.scrollLeft?1:2),n.remove()}return aI}function rN(n){if(function f8(){if(null==qk){const n=typeof document<"u"?document.head:null;qk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return qk}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Kk(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Mp(n){return n.composedPath?n.composedPath()[0]:n.target}function Zk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function lI(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function iN(n){return e=>e.lift(new v8(n))}class v8{constructor(e){this.total=e}call(e,t){return t.subscribe(new b8(e,this.total))}}class b8 extends sr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function Yn(n){return e=>e.lift(new w8(n))}class w8{constructor(e){this.notifier=e}call(e,t){const r=new E8(e),i=(0,ti.ft)(this.notifier,new ti.IY(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class E8 extends ti.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Xi(n){return null!=n&&"false"!=`${n}`}function ch(n,e=0){return function C8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function cI(n){return Array.isArray(n)?n:[n]}function ui(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ec(n){return n instanceof l.SBq?n.nativeElement:n}function dI(n,e=dd.P){return t=>t.lift(new D8(n,e))}class D8{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new I8(e,this.dueTime,this.scheduler))}}class I8 extends sr.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(S8,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function S8(n){n.debouncedNext()}let sN=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T8=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=ec(t);return new or.y(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ut.xQ,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A8=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Xi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ch(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(dI(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(T8),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),oN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[sN]}),n})();const aN=new Set;let L_,M8=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x8}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function k8(n){if(!aN.has(n))try{L_||(L_=document.createElement("style"),L_.setAttribute("type","text/css"),document.head.appendChild(L_)),L_.sheet&&(L_.sheet.insertRule(`@media ${n} {body{ }}`,0),aN.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x8(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let uN=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ut.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return lN(cI(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=qp(lN(cI(t)).map(c=>this._registerQuery(c).observable));return a=Ih(a.pipe(gn(1)),a.pipe(iN(1),dI(0))),a.pipe((0,It.U)(c=>{const f={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:w})=>{f.matches=f.matches||_,f.breakpoints[w]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new or.y(c=>{const f=_=>this._zone.run(()=>c.next(_));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(Si(r),(0,It.U)(({matches:c})=>({query:t,matches:c})),Yn(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(M8),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function hI(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const dN="cdk-describedby-message",fI="cdk-describedby-host";let Yk=0,N8=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Yk++,this._document=t,this._id=(0,l.f3M)(l.AFp)+"-"+Yk++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const a=Qk(r,i);"string"!=typeof r?(hN(r,this._id),this._messageRegistry.set(a,{messageElement:r,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,a)||this._addMessageReference(t,a)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const a=Qk(r,i);if(this._isElementDescribedByMessage(t,a)&&this._removeMessageReference(t,a),"string"==typeof r){const c=this._messageRegistry.get(a);c&&0===c.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${fI}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(fI);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");hN(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Qk(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let a=0;a<r.length;a++)r[a].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=hI(t,"aria-describedby").filter(i=>0!=i.indexOf(dN));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function R8(n,e,t){const r=hI(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(fI,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function P8(n,e,t){const i=hI(n,e).filter(a=>a!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(fI)}_isElementDescribedByMessage(t,r){const i=hI(t,"aria-describedby"),a=this._messageRegistry.get(r),c=a&&a.messageElement.id;return!!c&&-1!=i.indexOf(c)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),a=t.getAttribute("aria-label");return!(!i||a&&a.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(Mi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qk(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function hN(n,e){n.id||(n.id=`${dN}-${e}-${Yk++}`)}let Iw=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function L8(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function F8(n){try{return n.frameElement}catch{return null}}(function G8(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===pN(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=pN(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function z8(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function $8(n){return!function B8(n){return function j8(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function V8(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function U8(n){return function H8(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fN(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fN(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function pN(n){if(!fN(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class W8{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(gn(1)).subscribe(e)}}let pI=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new W8(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Iw),l.LFG(l.R0b),l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mN(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function gN(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const q8=new l.OlP("cdk-input-modality-detector-options"),K8={ignoreKeys:[18,17,224,91,16]},V_=Cw({passive:!0,capture:!0});let Z8=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Ri(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(f=>f===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Mp(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mN(c)?"keyboard":"mouse"),this._mostRecentTarget=Mp(c))},this._onTouchstart=c=>{gN(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mp(c))},this._options={...K8,...a},this.modalityDetected=this._modality.pipe(iN(1)),this.modalityChanged=this.modalityDetected.pipe(au()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,V_),i.addEventListener("mousedown",this._onMousedown,V_),i.addEventListener("touchstart",this._onTouchstart,V_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,V_),document.removeEventListener("mousedown",this._onMousedown,V_),document.removeEventListener("touchstart",this._onTouchstart,V_))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi),l.LFG(l.R0b),l.LFG(ge),l.LFG(q8,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q8=new l.OlP("cdk-focus-monitor-default-options"),mI=Cw({passive:!0,capture:!0});let B_=(()=>{class n{constructor(t,r,i,a,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ut.xQ,this._rootNodeFocusAndBlurListener=f=>{const _=Mp(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)w.call(this,f,I)},this._document=a,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=ec(t);if(!this._platform.isBrowser||1!==i.nodeType)return(0,Et.of)(null);const a=rN(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const f={checkChildren:r,subject:new Ut.xQ,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=ec(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=ec(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Mp(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,mI),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,mI)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Yn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mI),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mI),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Mi),l.LFG(Z8),l.LFG(ge,8),l.LFG(Q8,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yN="cdk-high-contrast-black-on-white",vN="cdk-high-contrast-white-on-black",Jk="cdk-high-contrast-active";let bN=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,l.f3M)(uN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Jk,yN,vN),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Jk,yN):2===r&&t.add(Jk,vN)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi),l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wN=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bN))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oN]}),n})();const J8=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function X8(){return(0,l.f3M)(ge)}}),eU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let kp=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function tU(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?eU.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J8,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const rU=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function nU(){return!0}});let bi=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Zk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bN),l.LFG(rU,8),l.LFG(ge))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Sw,Sw]}),n})();function iU(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Xi(e)}}}function Xk(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function sU(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Xi(e)}}}function oU(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let DN=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uU{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const IN={enterDuration:225,exitDuration:150},ex=Cw({passive:!0}),SN=["mousedown","touchstart"],TN=["mouseup","mouseleave","touchend","touchcancel"];class cU{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ec(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...IN,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function dU(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-c+"px",I.style.top=_-c+"px",I.style.height=2*c+"px",I.style.width=2*c+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I);const M=window.getComputedStyle(I),G=M.transitionDuration,te="none"===M.transitionProperty||"0s"===G||"0s, 0s"===G,ye=new uU(this,I,r,te);I.style.transform="scale3d(1, 1, 1)",ye.state=0,r.persistent||(this._mostRecentTransientRipple=ye);let Ve=null;return!te&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const nt=()=>this._finishRippleTransition(ye),bt=()=>this._destroyRipple(ye);I.addEventListener("transitionend",nt),I.addEventListener("transitioncancel",bt),Ve={onTransitionEnd:nt,onTransitionCancel:bt}}),this._activeRipples.set(ye,Ve),(te||!w)&&this._finishRippleTransition(ye),ye}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...IN,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ec(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(SN))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(TN),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=mN(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!gN(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,ex)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(SN.forEach(e=>{this._triggerElement.removeEventListener(e,this,ex)}),this._pointerUpEventsRegistered&&TN.forEach(e=>{this._triggerElement.removeEventListener(e,this,ex)}))}}const hU=new l.OlP("mat-ripple-global-options");let AN=(()=>{class n{constructor(t,r,i,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new cU(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Mi),l.Y36(hU,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),fU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bi,bi]}),n})();const pU=["mat-button",""],mU=["*"],_U=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],yU=Xk(iU(sU(class{constructor(n){this._elementRef=n}})));let vU=(()=>{class n extends yU{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of _U)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(B_),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&l.Gf(AN,5),2&t){let i;l.iGM(i=l.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:pU,ngContentSelectors:mU,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[AN],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),n})(),bU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[fU,bi,bi]}),n})();var wU=B(7043);function Aw(n,e,t,r){return(0,wU.m)(t)&&(r=t,t=void 0),r?Aw(n,e,t).pipe((0,It.U)(i=>(0,Ch.k)(i)?r(...i):r(i))):new or.y(i=>{MN(n,e,function a(c){i.next(arguments.length>1?Array.prototype.slice.call(arguments):c)},i,t)})}function MN(n,e,t,r,i){let a;if(function DU(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const c=n;n.addEventListener(e,t,i),a=()=>c.removeEventListener(e,t,i)}else if(function CU(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const c=n;n.on(e,t),a=()=>c.off(e,t)}else if(function EU(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const c=n;n.addListener(e,t),a=()=>c.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let c=0,f=n.length;c<f;c++)MN(n[c],e,t,r,i)}r.add(a)}var IU=B(6686),TU=B(2268);new class AU extends TU.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,a=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<a&&(e=t.shift()));if(this.active=!1,r){for(;++i<a&&(e=t.shift());)e.unsubscribe();throw r}}}(class SU extends IU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});B(8139);class OU{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new RU(e,this.durationSelector))}}class RU extends ti.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:i}=this;t=i(e)}catch(i){return this.destination.error(i)}const r=(0,ti.ft)(t,new ti.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var kN=B(4241);function NU(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function xN(n,e=dd.P){return function xU(n){return function(t){return t.lift(new OU(n))}}(()=>function PU(n=0,e,t){let r=-1;return(0,kN.k)(e)?r=Number(e)<1?1:Number(e):(0,qa.K)(e)&&(t=e),(0,qa.K)(t)||(t=dd.P),new or.y(i=>{const a=(0,kN.k)(n)?n:+n-t.now();return t.schedule(NU,a,{index:0,period:r,subscriber:i})})}(n,e))}let Mw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ut.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new or.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(xN(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Et.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Rn(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ec(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Aw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Mi),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kw=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=a,this._destroyed=new Ut.xQ,this._elementScrolled=new or.y(c=>this.ngZone.runOutsideAngular(()=>Aw(this.elementRef.nativeElement,"scroll").pipe(Yn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Dw()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Dw()?t.left=t.right:1==Dw()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;nN()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?i:r:"end"==t&&(t=c?r:i),c&&2==Dw()?t==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:c&&1==Dw()?t==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Mw),l.Y36(l.R0b),l.Y36(kp,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),gI=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ut.xQ,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xN(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi),l.LFG(l.R0b),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),ON=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Sw,xw,Sw,xw]}),n})();class tx{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class _I extends tx{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class RN extends tx{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class VU extends tx{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class nx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof _I?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof RN?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof VU?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class BU extends nx{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let rx=(()=>{class n extends nx{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const c=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),c.parentNode.insertBefore(f,c),this._getRootNode().appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(c,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(ge))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),yI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const PN=nN();class UU{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ui(-this._previousScrollPosition.left),e.style.top=ui(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),PN&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PN&&(r.scrollBehavior=a,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class jU{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class NN{enable(){}disable(){}attach(){}}function ix(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function FN(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class HU{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();ix(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zU=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new NN,this.close=c=>new jU(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new UU(this._viewportRuler,this._document),this.reposition=c=>new HU(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mw),l.LFG(gI),l.LFG(l.R0b),l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LN{constructor(e){if(this.scrollStrategy=new NN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class $U{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let VN=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GU=(()=>{class n extends VN{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const f=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WU=(()=>{class n extends VN{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Mp(a)},this._clickListener=a=>{const c=Mp(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(c)||I.overlayElement.contains(f))break;const M=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(a)):M.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(Mi),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vI=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Zk()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),Zk()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(Mi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ow{constructor(e,t,r,i,a,c,f,_,w,I=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new Ut.xQ,this._attachments=new Ut.xQ,this._detachments=new Ut.xQ,this._locationChanges=Ys.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new Ut.xQ,this._outsidePointerEvents=new Ut.xQ,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ui(this._config.width),e.height=ui(this._config.height),e.minWidth=ui(this._config.minWidth),e.minHeight=ui(this._config.minHeight),e.maxWidth=ui(this._config.maxWidth),e.maxHeight=ui(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=cI(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Yn((0,hl.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const BN="cdk-overlay-connected-position-bounding-box",qU=/([A-Za-z%]+)$/;class KU{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ut.xQ,this._resizeSubscription=Ys.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(BN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,i,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,r,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,r)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<I.visibleArea)&&(c={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(BN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?c:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=jN(t);let{x:c,y:f}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(c+=_),w&&(f+=w);let z=0-f,G=f+a.height-r.height,te=this._subtractOverflows(a.width,0-c,c+a.width-r.width),ye=this._subtractOverflows(a.height,z,G),Ve=te*ye;return{visibleArea:Ve,isCompletelyWithinViewport:a.width*a.height===Ve,fitsInViewportVertically:ye===a.height,fitsInViewportHorizontally:te==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,c=UN(this._overlayRef.getConfig().minHeight),f=UN(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=c&&c<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=jN(t),a=this._viewportRect,c=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),_=Math.max(a.top-r.top-e.y,0),w=Math.max(a.left-r.left-e.x,0);let I=0,M=0;return I=i.width<=a.width?w||-c:e.x<this._viewportMargin?a.left-r.left-e.x:0,M=i.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:I,y:M},{x:e.x+I,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new $U(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,c,f,I,M,z;if("top"===t.overlayY)c=e.y,a=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const G=Math.min(r.bottom-e.y+r.top,e.y),te=this._lastBoundingBoxSize.height;a=2*G,c=e.y-G,a>te&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-te/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)z=r.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)M=e.x,I=r.right-e.x;else{const G=Math.min(r.right-e.x+r.left,e.x),te=this._lastBoundingBoxSize.width;I=2*G,M=e.x-G,I>te&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-te/2)}return{top:c,left:M,bottom:f,right:z,width:I,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=ui(r.height),i.top=ui(r.top),i.bottom=ui(r.bottom),i.width=ui(r.width),i.left=ui(r.left),i.right=ui(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=ui(a)),c&&(i.maxWidth=ui(c))}this._lastBoundingBoxSize=r,xp(this._boundingBox.style,i)}_resetBoundingBoxStyles(){xp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const I=this._viewportRuler.getViewportScrollPosition();xp(r,this._getExactOverlayY(t,e,I)),xp(r,this._getExactOverlayX(t,e,I))}else r.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),c.maxHeight&&(i?r.maxHeight=ui(c.maxHeight):a&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=ui(c.maxWidth):a&&(r.maxWidth="")),xp(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=ui(a.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=ui(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:FN(e,r),isOriginOutsideView:ix(e,r),isOverlayClipped:FN(t,r),isOverlayOutsideView:ix(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&cI(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function xp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function UN(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(qU);return t&&"px"!==t?null:parseFloat(e)}return n||null}function jN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const HN="cdk-global-overlay-wrapper";class ZU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(HN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:c,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,M=this._xOffset,z="rtl"===this._overlayRef.getConfig().direction;let G="",te="",ye="";_?ye="flex-start":"center"===I?(ye="center",z?te=M:G=M):z?"left"===I||"end"===I?(ye="flex-end",G=M):("right"===I||"start"===I)&&(ye="flex-start",te=M):"left"===I||"start"===I?(ye="flex-start",G=M):("right"===I||"end"===I)&&(ye="flex-end",te=M),e.position=this._cssPosition,e.marginLeft=_?"0":G,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":te,t.justifyContent=ye,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(HN),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let YU=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new ZU}flexibleConnectedTo(t){return new KU(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gI),l.LFG(ge),l.LFG(Mi),l.LFG(vI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QU=0,dh=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,M,z,G){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=M,this._outsideClickDispatcher=z,this._animationsModuleType=G}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),c=new LN(t);return c.direction=c.direction||this._directionality.value,new Ow(a,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+QU++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new BU(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zU),l.LFG(vI),l.LFG(l._Vd),l.LFG(YU),l.LFG(GU),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ge),l.LFG(kp),l.LFG(x),l.LFG(WU),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ej={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[dh],useFactory:function XU(n){return()=>n.scrollStrategies.reposition()}};let sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[dh,ej],imports:[Sw,yI,ON,ON]}),n})();function tj(n,e){}class bI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let zN=(()=>{class n extends nx{constructor(t,r,i,a,c,f,_,w){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=a,this._interactivityChecker=c,this._ngZone=f,this._overlayRef=_,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=I=>{this._portalOutlet.hasAttached();const M=this._portalOutlet.attachDomPortal(I);return this._contentAttached(),M},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=Kk(),a=this._elementRef.nativeElement;(!i||i===this._document.body||i===a||a.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Kk();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Kk())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(pI),l.Y36(ge,8),l.Y36(bI),l.Y36(Iw),l.Y36(l.R0b),l.Y36(Ow),l.Y36(B_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&l.Gf(rx,7),2&t){let i;l.iGM(i=l.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&l.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&l.YNc(0,tj,0,0,"ng-template",0)},dependencies:[rx],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class ox{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ut.xQ,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!lI(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const $N=new l.OlP("DialogScrollStrategy"),nj=new l.OlP("DialogData"),rj=new l.OlP("DefaultDialogConfig"),sj={provide:$N,deps:[dh],useFactory:function ij(n){return()=>n.scrollStrategies.block()}};let oj=0,GN=(()=>{class n{constructor(t,r,i,a,c,f){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ut.xQ,this._afterOpenedAtThisLevel=new Ut.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Sh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Si(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,r){(r={...this._defaultOptions||new bI,...r}).id=r.id||"cdk-dialog-"+oj++,r.id&&this.getDialogById(r.id);const a=this._getOverlayConfig(r),c=this._overlay.create(a),f=new ox(c,r),_=this._attachContainer(c,f,r);return f.containerInstance=_,this._attachDialogContent(t,f,_,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){ax(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){ax(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),ax(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new LN({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const a=i.injector??i.viewContainerRef?.injector,c=[{provide:bI,useValue:i},{provide:ox,useValue:r},{provide:Ow,useValue:t}];let f;i.container?"function"==typeof i.container?f=i.container:(f=i.container.type,c.push(...i.container.providers(i))):f=zN;const _=new _I(f,i.viewContainerRef,l.zs3.create({parent:a||this._injector,providers:c}),i.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,r,i,a){const c=this._createInjector(a,r,i);if(t instanceof l.Rgc){let f={$implicit:a.data,dialogRef:r};a.templateContext&&(f={...f,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),i.attachTemplatePortal(new RN(t,null,f,c))}else{const f=i.attachComponentPortal(new _I(t,a.viewContainerRef,c,a.componentFactoryResolver));r.componentInstance=f.instance}}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:nj,useValue:t.data},{provide:ox,useValue:r}];return t.providers&&("function"==typeof t.providers?c.push(...t.providers(r,t,i)):c.push(...t.providers)),t.direction&&(!a||!a.get(kp,null,l.XFs.Optional))&&c.push({provide:kp,useValue:{value:t.direction,change:(0,Et.of)()}}),l.zs3.create({parent:a||this._injector,providers:c})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dh),l.LFG(l.zs3),l.LFG(rj,8),l.LFG(n,12),l.LFG(vI),l.LFG($N))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ax(n,e){let t=n.length;for(;t--;)e(n[t])}let aj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[GN,sj],imports:[sx,yI,wN,yI]}),n})();function uj(n,e){}const U_={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},lj={dialogContainer:AD("dialogContainer",[wp("void, exit",Qi({opacity:0,transform:"scale(0.7)"})),wp("enter",Qi({transform:"none"})),Ep("* => enter",KR([bp("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Qi({transform:"none",opacity:1})),QR("@*",YR(),{optional:!0})]),U_),Ep("* => void, * => exit",KR([bp("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Qi({opacity:0})),QR("@*",YR(),{optional:!0})]),U_)])};class wI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=U_.params.enterAnimationDuration,this.exitAnimationDuration=U_.params.exitAnimationDuration}}let cj=(()=>{class n extends zN{constructor(t,r,i,a,c,f,_,w){super(t,r,i,a,c,f,_,w),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(pI),l.Y36(ge,8),l.Y36(wI),l.Y36(Iw),l.Y36(l.R0b),l.Y36(Ow),l.Y36(B_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),dj=(()=>{class n extends cj{constructor(t,r,i,a,c,f,_,w,I){super(t,r,i,a,c,f,_,I),this._changeDetectorRef=w,this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?this._openAnimationDone(r):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||U_.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||U_.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(pI),l.Y36(ge,8),l.Y36(wI),l.Y36(Iw),l.Y36(l.R0b),l.Y36(Ow),l.Y36(l.sBO),l.Y36(B_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,r){1&t&&l.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(l.Ikx("id",r._config.id),l.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),l.d8E("@dialogContainer",r._getAnimationState()))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&l.YNc(0,uj,0,0,"ng-template",0)},dependencies:[rx],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[lj.dialogContainer]}}),n})();class EI{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Ut.xQ,this._beforeClosed=new Ut.xQ,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Rn(i=>"opened"===i.state),gn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Rn(i=>"closed"===i.state),gn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,hl.T)(this.backdropClick(),this.keydownEvents().pipe(Rn(i=>27===i.keyCode&&!this.disableClose&&!lI(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),WN(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Rn(t=>"closing"===t.state),gn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function WN(n,e,t){return n._closeInteractionType=e,n.close(t)}const qN=new l.OlP("MatDialogData"),hj=new l.OlP("mat-dialog-default-options"),KN=new l.OlP("mat-dialog-scroll-strategy"),pj={provide:KN,deps:[dh],useFactory:function fj(n){return()=>n.scrollStrategies.block()}};let mj=0,gj=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,M){this._overlay=t,this._defaultOptions=i,this._parentDialog=a,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ut.xQ,this._afterOpenedAtThisLevel=new Ut.xQ,this._idPrefix="mat-dialog-",this.afterAllClosed=Sh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Si(void 0))),this._scrollStrategy=f,this._dialog=r.get(GN)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){let i;(r={...this._defaultOptions||new wI,...r}).id=r.id||`${this._idPrefix}${mj++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:wI,useValue:r},{provide:bI,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(c,f,_)=>(i=new this._dialogRefConstructor(c,r,_),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=a.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(i);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),CI=(()=>{class n extends gj{constructor(t,r,i,a,c,f,_,w){super(t,r,a,f,_,c,EI,dj,qN,w)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dh),l.LFG(l.zs3),l.LFG(x,8),l.LFG(hj,8),l.LFG(KN),l.LFG(n,12),l.LFG(vI),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),_j=0,yj=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=ZN(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){WN(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(EI,8),l.Y36(l.SBq),l.Y36(CI))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r._onButtonClick(a)}),2&t&&l.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),vj=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+_j++}ngOnInit(){this._dialogRef||(this._dialogRef=ZN(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(EI,8),l.Y36(l.SBq),l.Y36(CI))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&l.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),bj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),wj=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})();function ZN(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let Ej=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[CI,pj],imports:[aj,sx,yI,bi,bi]}),n})(),Cj=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Xi(t)}get inset(){return this._inset}set inset(t){this._inset=Xi(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),Dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bi,bi]}),n})();const Ij=["connectionContainer"],Sj=["inputContainer"],Tj=["label"];function Aj(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function Mj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function kj(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function xj(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function Oj(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function Rj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.updateOutlineGap())}),l.YNc(2,kj,4,1,"ng-container",12),l.YNc(3,xj,1,0,"ng-content",12),l.YNc(4,Oj,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Pj(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function Nj(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Fj(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Lj(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function Vj(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,Lj,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const Bj=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Uj=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],jj=new l.OlP("MatError"),Hj={transitionMessages:AD("transitionMessages",[wp("enter",Qi({opacity:1,transform:"translateY(0%)"})),Ep("void => enter",[Qi({opacity:0,transform:"translateY(-5px)"}),bp("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ux=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const zj=new l.OlP("MatHint");let lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),$j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Gj=new l.OlP("MatPrefix"),Wj=new l.OlP("MatSuffix");let YN=0;const Kj=Xk(class{constructor(n){this._elementRef=n}},"primary"),Zj=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JN=new l.OlP("MatFormField");let Yj=(()=>{class n extends Kj{constructor(t,r,i,a,c,f,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=c,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ut.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+YN++,this._labelId="mat-form-field-label-"+YN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Xi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Si(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Yn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Yn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,hl.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Si(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Si(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Yn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Aw(this._label.nativeElement,"transitionend").pipe(gn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=r.querySelectorAll(`${i}, ${a}`);for(let M=0;M<I.length;M++)I[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,f=0;const _=r.querySelectorAll(i),w=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const I=r.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(I),z=t.children,G=this._getStartEnd(z[0].getBoundingClientRect());let te=0;for(let ye=0;ye<z.length;ye++)te+=z[ye].offsetWidth;c=Math.abs(G-M)-5,f=te>0?.75*te+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${c}px`;for(let I=0;I<w.length;I++)w[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(kp,8),l.Y36(Zj,8),l.Y36(Mi),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,ux,5),l.Suo(i,ux,7),l.Suo(i,lx,5),l.Suo(i,lx,7),l.Suo(i,$j,5),l.Suo(i,jj,5),l.Suo(i,zj,5),l.Suo(i,Gj,5),l.Suo(i,Wj,5)),2&t){let a;l.iGM(a=l.CRH())&&(r._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(r._controlStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(r._placeholderChild=a.first),l.iGM(a=l.CRH())&&(r._errorChildren=a),l.iGM(a=l.CRH())&&(r._hintChildren=a),l.iGM(a=l.CRH())&&(r._prefixChildren=a),l.iGM(a=l.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(l.Gf(Ij,7),l.Gf(Sj,5),l.Gf(Tj,5)),2&t){let i;l.iGM(i=l.CRH())&&(r._connectionContainerRef=i.first),l.iGM(i=l.CRH())&&(r._inputContainerRef=i.first),l.iGM(i=l.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:JN,useExisting:n}]),l.qOj],ngContentSelectors:Uj,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(l.F$t(Bj),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),l.YNc(3,Aj,9,0,"ng-container",3),l.YNc(4,Mj,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,Rj,5,16,"label",8),l.qZA()(),l.YNc(10,Pj,2,0,"div",9),l.qZA(),l.YNc(11,Nj,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,Fj,2,1,"div",12),l.YNc(14,Vj,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==r.appearance),l.xp6(1),l.Q6J("ngIf",r._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",r._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",r._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=r.appearance),l.xp6(1),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[Sn,ci,ei,A8],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Hj.transitionMessages]},changeDetection:0}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ba,bi,oN,bi]}),n})();B(2474);let rH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bi,bi]}),n})();const rF=Cw({passive:!0});let iH=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return dn.E;const r=ec(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new Ut.xQ,c="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(c)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,rF),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,rF)}}),a}stopMonitoring(t){const r=ec(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mi),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const sH=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),oH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let aH=0;const uH=oU(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new Ut.xQ}});let lH=(()=>{class n extends uH{constructor(t,r,i,a,c,f,_,w,I,M){super(f,a,c,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=M,this._uid="mat-input-"+aH++,this.focused=!1,this.stateChanges=new Ut.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(te=>tN().has(te)),this._iOSKeyupListener=te=>{const ye=te.target;!ye.value&&0===ye.selectionStart&&0===ye.selectionEnd&&(ye.setSelectionRange(1,1),ye.setSelectionRange(0,0))};const z=this._elementRef.nativeElement,G=z.nodeName.toLowerCase();this._inputValueAccessor=_||z,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===G,this._isTextarea="textarea"===G,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=z.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Xi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(j1.required)??!1}set required(t){this._required=Xi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&tN().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Xi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,r=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){oH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Mi),l.Y36(Jl,10),l.Y36(nI,8),l.Y36(rI,8),l.Y36(DN),l.Y36(sH,10),l.Y36(iH),l.Y36(l.R0b),l.Y36(JN,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(l.Ikx("disabled",r.disabled)("required",r.required),l.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),l.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:ux,useExisting:n}]),l.qOj,l.TTD]}),n})(),cH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[DN],imports:[iF,cx,bi,iF,cx]}),n})();function dH(n,e){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const t=l.oxw(),r=l.MAs(1);l.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),l.uIk("r",t._getCircleRadius())}}function hH(n,e){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const t=l.oxw(),r=l.MAs(1);l.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),l.uIk("r",t._getCircleRadius())}}const pH=Xk(class{constructor(n){this._elementRef=n}},"primary"),mH=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function gH(){return{diameter:100}}});class tc extends pH{constructor(e,t,r,i,a,c,f,_){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=Ys.w.EMPTY,this.mode="determinate";const w=tc._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),w.has(r.head)||w.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!a&&!a._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),a&&(a.color&&(this.color=this.defaultColor=a.color),a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth)),t.isBrowser&&t.SAFARI&&f&&c&&_&&(this._resizeSubscription=f.change(150).subscribe(()=>{"indeterminate"===this.mode&&_.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=ch(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=ch(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,ch(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=rN(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=tc._diameters;let i=r.get(e);if(!i||!i.has(t)){const a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),e.appendChild(a),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}tc._diameters=new WeakMap,tc.\u0275fac=function(e){return new(e||tc)(l.Y36(l.SBq),l.Y36(Mi),l.Y36(ge,8),l.Y36(l.QbO,8),l.Y36(mH),l.Y36(l.sBO),l.Y36(gI),l.Y36(l.R0b))},tc.\u0275cmp=l.Xpm({type:tc,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(l.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),l.Udp("width",t.diameter,"px")("height",t.diameter,"px"),l.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(l.O4$(),l.TgZ(0,"svg",0,1),l.YNc(2,dH,1,11,"circle",2),l.YNc(3,hH,1,9,"circle",3),l.qZA()),2&e&&(l.Udp("width",t.diameter,"px")("height",t.diameter,"px"),l.Q6J("ngSwitch","indeterminate"===t.mode),l.uIk("viewBox",t._getViewBox()),l.xp6(2),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},dependencies:[ci,ei],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let yH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bi,Ba,bi]}),n})();const SI=["*"],vH=["content"];function bH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i._onBackdropClicked())}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function wH(n,e){1&n&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const EH=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],CH=["mat-drawer","mat-drawer-content","*"];function DH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i._onBackdropClicked())}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function IH(n,e){1&n&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const SH=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],TH=["mat-sidenav","mat-sidenav-content","*"],sF={transformDrawer:AD("transform",[wp("open, open-instant",Qi({transform:"none",visibility:"visible"})),wp("void",Qi({"box-shadow":"none",visibility:"hidden"})),Ep("void => open-instant",bp("0ms")),Ep("void <=> open, open-instant => void",bp("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},MH=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function kH(){return!1}}),fx=new l.OlP("MAT_DRAWER_CONTAINER");let TI=(()=>{class n extends kw{constructor(t,r,i,a,c){super(i,a,c),this._changeDetectorRef=t,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>aF)),l.Y36(l.SBq),l.Y36(Mw),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,r){2&t&&l.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[l._Bn([{provide:kw,useExisting:n}]),l.qOj],ngContentSelectors:SI,decls:1,vars:0,template:function(t,r){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),oF=(()=>{class n{constructor(t,r,i,a,c,f,_,w){this._elementRef=t,this._focusTrapFactory=r,this._focusMonitor=i,this._platform=a,this._ngZone=c,this._interactivityChecker=f,this._doc=_,this._container=w,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ut.xQ,this._animationEnd=new Ut.xQ,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe(Rn(I=>I),(0,It.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Rn(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),Oc(void 0)),this._closedStream=this.openedChange.pipe(Rn(I=>!I),(0,It.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Rn(I=>I.fromState!==I.toState&&"void"===I.toState),Oc(void 0)),this._destroyed=new Ut.xQ,this.onPositionChanged=new l.vpe,this._modeChanged=new Ut.xQ,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Aw(this._elementRef.nativeElement,"keydown").pipe(Rn(I=>27===I.keyCode&&!this.disableClose&&!lI(I)),Yn(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(au((I,M)=>I.fromState===M.fromState&&I.toState===M.toState)).subscribe(I=>{const{fromState:M,toState:z}=I;(0===z.indexOf("open")&&"void"===M||"void"===z&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Xi(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Xi(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Xi(t))}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,r){t&&r&&(this._openedVia=r);const i=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),i}_setOpen(t,r,i){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(i)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(gn(1)).subscribe(c=>a(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const r=this._elementRef.nativeElement,i=r.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,r)),i.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(pI),l.Y36(B_),l.Y36(Mi),l.Y36(l.R0b),l.Y36(Iw),l.Y36(ge,8),l.Y36(fx,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,r){if(1&t&&l.Gf(vH,5),2&t){let i;l.iGM(i=l.CRH())&&(r._content=i.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,r){1&t&&l.WFA("@transform.start",function(a){return r._animationStarted.next(a)})("@transform.done",function(a){return r._animationEnd.next(a)}),2&t&&(l.uIk("align",null),l.d8E("@transform",r._animationState),l.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:SI,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[kw],encapsulation:2,data:{animation:[sF.transformDrawer]},changeDetection:0}),n})(),aF=(()=>{class n{constructor(t,r,i,a,c,f=!1,_){this._dir=t,this._element=r,this._ngZone=i,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new Ut.xQ,this._doCheckSubject=new Ut.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ut.xQ,t&&t.change.pipe(Yn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Yn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Xi(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:Xi(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Si(this._allDrawers),Yn(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Si(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(dI(10),Yn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();t+=i,r-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();r+=i,t-=i}t=t||null,r=r||null,(t!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:t,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Rn(r=>r.fromState!==r.toState),Yn(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Yn(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(Yn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(gn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Yn((0,hl.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const r=this._element.nativeElement.classList,i="mat-drawer-container-has-open";t?r.add(i):r.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(kp,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(gI),l.Y36(MH),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,TI,5),l.Suo(i,oF,5)),2&t){let a;l.iGM(a=l.CRH())&&(r._content=a.first),l.iGM(a=l.CRH())&&(r._allDrawers=a)}},viewQuery:function(t,r){if(1&t&&l.Gf(TI,5),2&t){let i;l.iGM(i=l.CRH())&&(r._userContent=i.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:fx,useExisting:n}])],ngContentSelectors:CH,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(l.F$t(EH),l.YNc(0,bH,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,wH,2,0,"mat-drawer-content",1)),2&t&&(l.Q6J("ngIf",r.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!r._content))},dependencies:[Sn,TI],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),px=(()=>{class n extends TI{constructor(t,r,i,a,c){super(t,r,i,a,c)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>lF)),l.Y36(l.SBq),l.Y36(Mw),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,r){2&t&&l.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[l._Bn([{provide:kw,useExisting:n}]),l.qOj],ngContentSelectors:SI,decls:1,vars:0,template:function(t,r){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),uF=(()=>{class n extends oF{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Xi(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ch(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ch(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,r){2&t&&(l.uIk("align",null),l.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:SI,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[kw],encapsulation:2,data:{animation:[sF.transformDrawer]},changeDetection:0}),n})(),lF=(()=>{class n extends aF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,px,5),l.Suo(i,uF,5)),2&t){let a;l.iGM(a=l.CRH())&&(r._content=a.first),l.iGM(a=l.CRH())&&(r._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:fx,useExisting:n}]),l.qOj],ngContentSelectors:TH,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(l.F$t(SH),l.YNc(0,DH,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,IH,2,0,"mat-sidenav-content",1)),2&t&&(l.Q6J("ngIf",r.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!r._content))},dependencies:[Sn,px],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),xH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ba,bi,xw,xw,bi]}),n})();const OH=["tooltip"],cF="tooltip-panel",dF=Cw({passive:!0}),hF=new l.OlP("mat-tooltip-scroll-strategy"),FH={provide:hF,deps:[dh],useFactory:function NH(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},LH=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function VH(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let BH=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,M,z,G){this._overlay=t,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=a,this._ngZone=c,this._platform=f,this._ariaDescriber=_,this._focusMonitor=w,this._dir=M,this._defaultOptions=z,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ut.xQ,this._scrollStrategy=I,this._document=G,z&&(z.position&&(this.position=z.position),z.touchGestures&&(this.touchGestures=z.touchGestures)),M.change.pipe(Yn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Xi(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=ch(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=ch(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Yn(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,dF)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const r=this._createOverlay();this._detach(),this._portal=this._portal||new _I(this._tooltipComponent,this._viewContainerRef);const i=this._tooltipInstance=r.attach(this._portal).instance;i._triggerElement=this._elementRef.nativeElement,i._mouseLeaveHideDelay=this._hideDelay,i.afterHidden().pipe(Yn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),i.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return r.positionChanges.pipe(Yn(this._destroyed)).subscribe(i=>{this._updateCurrentPositionClass(i.connectionPair),this._tooltipInstance&&i.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${cF}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Yn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Yn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Yn(this._destroyed)).subscribe(i=>{this._isTooltipVisible()&&27===i.keyCode&&!lI(i)&&(i.preventDefault(),i.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,i=this._getOrigin(),a=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...a.main}),this._addOffset({...i.fallback,...a.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={originX:"end",originY:"center"});const{x:a,y:c}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:a,originY:c}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={overlayX:"start",overlayY:"center"});const{x:a,y:c}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:a,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(gn(1),Yn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:i,originY:a}=t;let c;if(c="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===a?"above":"below",c!==this._currentPosition){const f=this._overlayRef;if(f){const _=`${this._cssClassPrefix}-${cF}-`;f.removePanelClass(_+this._currentPosition),f.addPanelClass(_+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,dF)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,i=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===t||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),UH=(()=>{class n extends BH{constructor(t,r,i,a,c,f,_,w,I,M,z,G){super(t,r,i,a,c,f,_,w,I,M,z,G),this._tooltipComponent=HH}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dh),l.Y36(l.SBq),l.Y36(Mw),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(Mi),l.Y36(N8),l.Y36(B_),l.Y36(hF),l.Y36(kp,8),l.Y36(LH,8),l.Y36(ge))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[l.qOj]}),n})(),jH=(()=>{class n{constructor(t,r){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ut.xQ,this._animationsDisabled="NoopAnimations"===r}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const r=this._tooltip.nativeElement,i=this._showAnimation,a=this._hideAnimation;if(r.classList.remove(t?a:i),r.classList.add(t?i:a),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(r);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n}),n})(),HH=(()=>{class n extends jH{constructor(t,r,i){super(t,i),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(uN),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,r){if(1&t&&l.Gf(OH,7),2&t){let i;l.iGM(i=l.CRH())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("mouseleave",function(a){return r._handleMouseLeave(a)}),2&t&&l.Udp("zoom",r.isVisible()?1:null)},features:[l.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,r){if(1&t&&(l.TgZ(0,"div",0,1),l.NdJ("animationend",function(a){return r._handleAnimationEnd(a)}),l.ALo(2,"async"),l._uU(3),l.qZA()),2&t){let i;l.ekj("mat-tooltip-handset",null==(i=l.lcZ(2,4,r._isHandset))?null:i.matches),l.Q6J("ngClass",r.tooltipClass),l.xp6(3),l.Oqu(r.message)}},dependencies:[Ui,Nu],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),zH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[FH],imports:[wN,Ba,sx,bi,bi,xw]}),n})();var Ts=(()=>(function(n){n[n.MOBILE_MAX=600]="MOBILE_MAX",n[n.TABLET_MIN=600]="TABLET_MIN",n[n.DESKTOP_MIN=1e3]="DESKTOP_MIN"}(Ts||(Ts={})),Ts))();const fF={id:"-1",createdAt:{seconds:Date.now()},name:"welcome.md",content:"# Welcome to Markdown\n\nMarkdown is a lightweight markup language that you can use to add formatting elements to plaintext text documents.\n\n## How to use this?\n\n1. Write markdown in the markdown editor window\n2. See the rendered markdown in the preview window\n\n### Features\n\n- Create headings, paragraphs, links, blockquotes, inline-code, code blocks, and lists\n- Name and save the document to access again later\n- Choose between Light or Dark mode depending on your preference\n\n> This is an example of a blockquote. If you would like to learn more about markdown syntax, you can visit this <a href='https://www.markdownguide.org/cheat-sheet/' target='_blank'>markdown cheatsheet</a>.\n\n#### Headings\n\nTo create a heading, add the hash sign (#) before the heading. The number of number signs you use should correspond to the heading level. You'll see in this guide that we've used all six heading levels (not necessarily in the correct way you should use headings!) to illustrate how they should look.\n\n##### Lists\n\nYou can see examples of ordered and unordered lists above.\n\n###### Code Blocks\n\nThis markdown editor allows for inline-code snippets, like this: `<p>I'm inline</p>`. It also allows for larger code blocks like this:\n\n```\n<main>\n  <h1>This is a larger code block</h1>\n</main>\n```"};let GH=(()=>{class n{constructor(t){this.firestore=t}createUser(t){const r={id:t,mdFiles:[fF],currentMdFile:fF};this.firestore.collection("users").doc(r.id).set(r),localStorage.setItem("inBrowserMarkdownId",r.id)}createUserId(){return this.firestore.createId()}getUsers(t){return this.firestore.collection("users",r=>r.where("id","==",t)).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KM))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pF=(()=>{class n{constructor(t,r){this.firestore=t,this.http=r,this.unsubscribe$=new Ut.xQ}ngOnDestroy(){this.unsubscribe$.next()}createNewFile(t,r){this.createRandomFileName().pipe(gn(1)).subscribe(i=>{const a=`${i[0]}-${i[1]}-${this.generateRandomNumber(1,99)}`,c={id:this.createFileId(),createdAt:{seconds:Date.now()},name:a,content:""};this.firestore.doc(`users/${t}`).update({mdFiles:[c,...r],currentMdFile:c})})}createFileId(){return this.firestore.createId()}saveFile(t){this.firestore.doc(`users/${t.id}`).update({...t})}changeCurrentFile(t,r){this.firestore.doc(`users/${t}`).update({currentMdFile:r})}deleteCurrentFile(t){const r=t.mdFiles.filter(i=>i.id!==t.currentMdFile.id);this.firestore.doc(`users/${t.id}`).update({mdFiles:r??[],currentMdFile:r[0]??null})}createRandomFileName(){return this.http.get(`https://random-word-api.herokuapp.com/word?number=2&length=${this.generateRandomNumber(3,10)}`)}generateRandomNumber(t,r){return Math.floor(Math.random()*r+t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KM),l.LFG(oI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WH(n,e){1&n&&(l.ynx(0),l._UZ(1,"img",4),l.BQk())}function qH(n,e){1&n&&(l.ynx(0),l._UZ(1,"img",5),l.BQk())}const KH=function(n){return{large:n}};function ZH(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"button",2),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.sidenavToggleClicked())}),l.YNc(2,WH,2,0,"ng-container",3),l.YNc(3,qH,2,0,"ng-container",3),l.qZA(),l.BQk()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngClass",l.VKq(3,KH,t.isTabletOrLarger)),l.xp6(1),l.Q6J("ngIf",!t.menuIsOpen),l.xp6(1),l.Q6J("ngIf",t.menuIsOpen)}}function YH(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.createNewFile())}),l._uU(2," + New Document "),l.qZA(),l.BQk()}}function QH(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",7)(2,"button",8),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.openConfirmDeleteDialog())}),l._UZ(3,"img",9),l.qZA()(),l.BQk()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("matTooltip","Please select a document to delete")("matTooltipClass","disabled-action-tooltip")("matTooltipDisabled",!t.disabled),l.xp6(1),l.Q6J("disabled",t.disabled)}}function JH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",12),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.saveCurrentFile())}),l._UZ(1,"img",13),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("disabled",t.disabled)}}function XH(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.saveCurrentFile())}),l._UZ(1,"img",13),l._uU(2," Save Changes "),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("disabled",t.disabled)}}function e6(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"div",7),l.YNc(2,JH,2,1,"button",10),l.YNc(3,XH,3,1,"ng-template",null,11,l.W1O),l.qZA(),l.BQk()),2&n){const t=l.MAs(4),r=l.oxw();l.xp6(1),l.Q6J("matTooltip","A document name is required")("matTooltipClass","disabled-action-tooltip")("matTooltipDisabled",!r.disabled),l.xp6(1),l.Q6J("ngIf",r.isMobileScreen)("ngIfElse",t)}}function t6(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",15)(2,"button",16),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.deleteCurrentFile())}),l._uU(3," Confirm & Delete "),l.qZA()(),l.BQk()}}let mx=(()=>{class n{constructor(){this.actionClicked=new l.vpe,this.sidenavMenuClicked=new l.vpe,this.disabled=!0,this.isMobileScreen=!1,this.isTabletOrLarger=!1,this.menuIsOpen=!0}sidenavToggleClicked(){this.menuIsOpen=!this.menuIsOpen,this.sidenavMenuClicked.emit(this.menuIsOpen?"open":"close")}openConfirmDeleteDialog(){this.actionClicked.emit("openConfirm")}deleteCurrentFile(){this.actionClicked.emit("delete")}saveCurrentFile(){this.actionClicked.emit("save")}createNewFile(){this.actionClicked.emit("create")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-action-button"]],inputs:{actionType:"actionType",disabled:"disabled",isMobileScreen:"isMobileScreen",isTabletOrLarger:"isTabletOrLarger",menuIsOpen:"menuIsOpen"},outputs:{actionClicked:"actionClicked",sidenavMenuClicked:"sidenavMenuClicked"},decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"sidenav-toggle-button",3,"ngClass","click"],[4,"ngIf"],["src","../../../assets/icon-menu.svg","alt","",1,"hamburger-icon"],["src","../../../assets/icon-close.svg","alt","",1,"close-icon"],[1,"new-document-button",3,"click"],[3,"matTooltip","matTooltipClass","matTooltipDisabled"],[1,"delete-button",3,"disabled","click"],["src","../../../assets/icon-delete.svg","alt",""],["class","save-button mobile",3,"disabled","click",4,"ngIf","ngIfElse"],["largerSaveButton",""],[1,"save-button","mobile",3,"disabled","click"],["src","../../../assets/icon-save.svg","alt","",1,"save-icon"],[1,"save-button","large",3,"disabled","click"],[1,"confirm-delete-container"],["mat-dialog-close","","mat-button","",1,"confirm-delete-button",3,"click"]],template:function(t,r){1&t&&(l.ynx(0,0),l.YNc(1,ZH,4,5,"ng-container",1),l.YNc(2,YH,3,0,"ng-container",1),l.YNc(3,QH,4,4,"ng-container",1),l.YNc(4,e6,5,5,"ng-container",1),l.YNc(5,t6,4,0,"ng-container",1),l.BQk()),2&t&&(l.Q6J("ngSwitch",r.actionType),l.xp6(1),l.Q6J("ngSwitchCase","sidenavToggle"),l.xp6(1),l.Q6J("ngSwitchCase","create"),l.xp6(1),l.Q6J("ngSwitchCase","openConfirm"),l.xp6(1),l.Q6J("ngSwitchCase","save"),l.xp6(1),l.Q6J("ngSwitchCase","confirmDelete"))},dependencies:[Ui,Sn,ci,ei,vU,yj,UH],styles:[".sidenav-toggle-button[_ngcontent-%COMP%]{background-color:var(--cancel-bg);height:56px;width:56px}.sidenav-toggle-button.large[_ngcontent-%COMP%]{height:72px;width:72px}.sidenav-toggle-button[_ngcontent-%COMP%]   .hamburger-icon[_ngcontent-%COMP%]{height:14px}.sidenav-toggle-button[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{height:18px}.new-document-button[_ngcontent-%COMP%]{background-color:var(--orange);font-family:Roboto;color:#fff;font-size:15px;border-radius:4px;height:40px;width:202px}.new-document-button[_ngcontent-%COMP%]:hover{background-color:var(--orange-hover)}.delete-button[_ngcontent-%COMP%]{background-color:transparent}.delete-button[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.save-button[_ngcontent-%COMP%]{background-color:var(--orange);height:40px;width:40px;margin-right:8px;border-radius:4px}.save-button[_ngcontent-%COMP%]:hover{background-color:var(--orange-hover)}.save-button[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed;background-color:var(--orange)}.save-button[_ngcontent-%COMP%]:disabled:hover{background-color:var(--orange)}.save-button.large[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:5px;color:#fff;width:152px}.confirm-delete-button[_ngcontent-%COMP%]{background-color:var(--orange);color:#fff;font-weight:400;font-size:15px;width:100%}.confirm-delete-button[_ngcontent-%COMP%]:hover{background-color:var(--orange-hover)}"]}),n})(),n6=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this.filesService=r,this.data=i,this.closeModal=new l.vpe,this.userId=localStorage.getItem("inBrowserMarkdownId")}deleteDocument(){this.filesService.deleteCurrentFile(this.data.currentUser)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(EI),l.Y36(pF),l.Y36(qN))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-delete-modal"]],outputs:{closeModal:"closeModal"},decls:9,vars:2,consts:[["mat-dialog-title","",1,"delete-modal-title"],["mat-dialog-content","",1,"delete-modal-warning-text"],["mat-dialog-actions","","align","center",1,"delete-modal-actions"],[3,"actionType","actionClicked"]],template:function(t,r){1&t&&(l.TgZ(0,"h1",0),l._uU(1,"Delete this document?"),l.qZA(),l.TgZ(2,"div",1),l._uU(3," Are you sure you want to delete "),l.TgZ(4,"b"),l._uU(5),l.qZA(),l._uU(6," and its contents? This action cannot be reversed.\n"),l.qZA(),l.TgZ(7,"div",2)(8,"app-action-button",3),l.NdJ("actionClicked",function(){return r.deleteDocument()}),l.qZA()()),2&t&&(l.xp6(5),l.Oqu(r.data.currentUser.currentMdFile.name),l.xp6(3),l.Q6J("actionType","confirmDelete"))},dependencies:[vj,bj,wj,mx],styles:[".delete-modal-title[_ngcontent-%COMP%]{font-family:Roboto Slab;font-weight:700;line-height:26px;margin-bottom:16px}.delete-modal-warning-text[_ngcontent-%COMP%]{font-family:Roboto Slab;font-style:normal;font-weight:400;font-size:14px;line-height:24px;color:var(--secondary-text);margin-bottom:16px}.delete-modal-actions[_ngcontent-%COMP%]{width:100%;display:block}"]}),n})();function r6(n,e){1&n&&(l.TgZ(0,"mat-label"),l._uU(1,"Document Name"),l.qZA())}const i6=function(n){return{"small-screen":n}};let s6=(()=>{class n{constructor(){this.mdFileNameChanged=new l.vpe,this.mdFileNameControl=new vw("",j1.required),this.unsubscribe$=new Ut.xQ}ngOnInit(){this.mdFileNameChanged.emit(this.currentMdFile?.name),this.mdFileNameControl.setValue(this.currentMdFile?.name??""),this.mdFileNameControl.valueChanges.pipe(au(),Yn(this.unsubscribe$)).subscribe(t=>{this.mdFileNameChanged.emit(t)})}ngOnChanges(t){!t||!t.currentMdFile||this.mdFileNameControl.setValue(this.currentMdFile?.name??null)}ngOnDestroy(){this.unsubscribe$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-current-file-name"]],inputs:{currentMdFile:"currentMdFile",isMobileScreen:"isMobileScreen"},outputs:{mdFileNameChanged:"mdFileNameChanged"},features:[l.TTD],decls:6,vars:5,consts:[[1,"current-file-container",3,"ngClass"],["src","../../../assets/icon-document.svg","alt",""],[1,"current-file-name"],[4,"ngIf"],["matInput","","autocomplete","off","type","text","maxlength","30",1,"file-name-input",3,"formControl"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"img",1),l.TgZ(2,"div",2)(3,"mat-form-field"),l.YNc(4,r6,2,0,"mat-label",3),l._UZ(5,"input",4),l.qZA()()()),2&t&&(l.Q6J("ngClass",l.VKq(3,i6,r.isMobileScreen)),l.xp6(4),l.Q6J("ngIf",!r.isMobileScreen),l.xp6(1),l.Q6J("formControl",r.mdFileNameControl))},dependencies:[Ui,Sn,pw,KD,Bk,Yj,lx,lH,bw],styles:[".current-file-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;margin:0 4px 0 24px;font-family:Roboto;font-size:15px}.current-file-container.small-screen[_ngcontent-%COMP%]{margin-left:14px}.current-file-container[_ngcontent-%COMP%]   .current-file-name[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.current-file-container[_ngcontent-%COMP%]   .current-file-name[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:20px}.current-file-container[_ngcontent-%COMP%]   .current-file-name[_ngcontent-%COMP%]   .file-name-input[_ngcontent-%COMP%]{background-color:transparent;color:var(--file-name);border:none;padding:5px 0}.current-file-container[_ngcontent-%COMP%]   .current-file-name[_ngcontent-%COMP%]   .file-name-input[_ngcontent-%COMP%]:focus{border-bottom:1px solid}.current-file-container[_ngcontent-%COMP%]   .current-file-name[_ngcontent-%COMP%]   .file-name-input[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid}.current-file-container[_ngcontent-%COMP%]   .current-file-name[_ngcontent-%COMP%]   .file-name-input.ng-invalid[_ngcontent-%COMP%]{border-bottom:1px solid red}"]}),n})();function o6(n,e){1&n&&(l.ynx(0),l.TgZ(1,"h1"),l._uU(2,"MARKDOWN"),l.qZA(),l._UZ(3,"mat-divider",7),l.BQk())}const a6=function(n){return{large:n}};let u6=(()=>{class n{constructor(t){this.deleteDialog=t,this.toggleSidenav=new l.vpe,this.saveCurrentMdFile=new l.vpe,this.menuIsOpen=!0,this.isMobileScreen=!1,this.isLargeScreen=!1,this.isTabletOrLarger=!1}onResize(){this.isMobileScreen=window.innerWidth<Ts.MOBILE_MAX,this.isLargeScreen=window.innerWidth>Ts.DESKTOP_MIN,this.isTabletOrLarger=window.innerWidth>Ts.TABLET_MIN}ngOnInit(){this.isMobileScreen=window.innerWidth<Ts.MOBILE_MAX,this.isLargeScreen=window.innerWidth>Ts.DESKTOP_MIN,this.isTabletOrLarger=window.innerWidth>Ts.TABLET_MIN}hamburgerClicked(t){this.toggleSidenav.emit(t)}openDeleteModal(){this.deleteDialog.open(n6,{hasBackdrop:!0,disableClose:!1,backdropClass:"dialog-backdrop",panelClass:"dialog-panel",data:{currentUser:this.currentUser}})}updateMdFileName(t){this.newMdFileName=t}saveMdFile(){this.saveCurrentMdFile.emit({currentMdFile:this.currentUser.currentMdFile,newMdFileName:this.newMdFileName??this.currentUser.currentMdFile.name})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(CI))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],hostBindings:function(t,r){1&t&&l.NdJ("resize",function(a){return r.onResize(a)},!1,l.Jf7)},inputs:{currentUser:"currentUser",menuIsOpen:"menuIsOpen"},outputs:{toggleSidenav:"toggleSidenav",saveCurrentMdFile:"saveCurrentMdFile"},decls:7,vars:14,consts:[[1,"header-container",3,"ngClass"],[3,"actionType","isTabletOrLarger","menuIsOpen","sidenavMenuClicked"],[4,"ngIf"],[3,"isMobileScreen","currentMdFile","mdFileNameChanged"],[1,"delete-save-container"],[3,"actionType","disabled","actionClicked"],[3,"isMobileScreen","actionType","disabled","actionClicked"],["vertical",""]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"app-action-button",1),l.NdJ("sidenavMenuClicked",function(a){return r.hamburgerClicked(a)}),l.qZA(),l.YNc(2,o6,4,0,"ng-container",2),l.TgZ(3,"app-current-file-name",3),l.NdJ("mdFileNameChanged",function(a){return r.updateMdFileName(a)}),l.qZA(),l.TgZ(4,"div",4)(5,"app-action-button",5),l.NdJ("actionClicked",function(){return r.openDeleteModal()}),l.qZA(),l.TgZ(6,"app-action-button",6),l.NdJ("actionClicked",function(){return r.saveMdFile()}),l.qZA()()()),2&t&&(l.Q6J("ngClass",l.VKq(12,a6,r.isLargeScreen||r.isTabletOrLarger)),l.xp6(1),l.Q6J("actionType","sidenavToggle")("isTabletOrLarger",r.isTabletOrLarger)("menuIsOpen",r.menuIsOpen),l.xp6(1),l.Q6J("ngIf",r.isLargeScreen),l.xp6(1),l.Q6J("isMobileScreen",r.isMobileScreen)("currentMdFile",r.currentUser.currentMdFile),l.xp6(2),l.Q6J("actionType","openConfirm")("disabled",!r.currentUser.currentMdFile),l.xp6(1),l.Q6J("isMobileScreen",r.isMobileScreen)("actionType","save")("disabled",!r.newMdFileName))},dependencies:[Ui,Sn,Cj,mx,s6],styles:[".header-container[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--toolbar-bg)}.header-container.large[_ngcontent-%COMP%]{height:72px}.header-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--sidenav-header);font-size:15px;line-height:18px;letter-spacing:5px;position:relative;left:24px;margin-right:24px}.header-container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{height:50px;color:var(--divider);margin-left:24px}.header-container[_ngcontent-%COMP%]   .delete-save-container[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:24px;align-items:center}"]}),n})();function l6(n,e){if(1&n&&(l.TgZ(0,"div",5),l._UZ(1,"textarea",6),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("formControl",t.mdFormControl)("placeholder",t.placeholder)}}function c6(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw(2);l.Q6J("innerHtml",t.mdPreview,l.oJD)}}function d6(n,e){if(1&n&&(l.ynx(0),l.YNc(1,l6,2,2,"div",3),l.YNc(2,c6,1,1,"ng-template",null,4,l.W1O),l.BQk()),2&n){const t=l.MAs(3),r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.showMd)("ngIfElse",t)}}function h6(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"div",5),l._UZ(2,"textarea",6),l.qZA(),l._UZ(3,"div",7),l.BQk()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("formControl",t.mdFormControl)("placeholder",t.placeholder),l.xp6(1),l.Q6J("innerHtml",t.mdPreview,l.oJD)}}B(4767);const f6=function(n){return{large:n}};function p6(n,e){if(1&n&&l._UZ(0,"div",10),2&n){const t=l.oxw(2);l.Q6J("ngClass",l.VKq(2,f6,t.isLargeScreen))("innerHtml",t.mdPreview,l.oJD)}}function m6(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,h6,4,3,"ng-container",1),l.YNc(2,p6,1,4,"ng-template",null,9,l.W1O),l.qZA()),2&n){const t=l.MAs(3),r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.showMd)("ngIfElse",t)}}let g6=(()=>{class n{constructor(){this.mdFileContentChanged=new l.vpe,this.showMd=!0,this.showdown=B(4767),this.converter=new this.showdown.Converter,this.mdFormControl=new vw(""),this.mdPreview="",this.unsubscribe$=new Ut.xQ,this.isMobileScreen=!1,this.isLargeScreen=!1,this.placeholder="Enter your markdown here..."}onResize(){this.isMobileScreen=window.innerWidth<Ts.MOBILE_MAX,this.isLargeScreen=window.innerWidth>Ts.DESKTOP_MIN}ngOnInit(){this.isMobileScreen=window.innerWidth<Ts.MOBILE_MAX,this.isLargeScreen=window.innerWidth>Ts.DESKTOP_MIN}ngOnChanges(t){!t?.currentMdFile?.currentValue||(this.mdContent=this.currentMdFile?.content?.replace(/\n{2,}/g,r=>r.replace(/\n/g,"<br/>"))??null,this.mdContent=this.mdContent?.replace(/<br\/>([^<])/g,"<br/>\n\n$1"),this.mdPreview=this.converter.makeHtml(this.mdContent),this.mdFormControl.patchValue(this.currentMdFile?.content),this.mdFormControl.valueChanges.pipe(au(),dI(200),Yn(this.unsubscribe$)).subscribe(r=>{this.mdFileContentChanged.emit(r),this.mdPreview=this.converter.makeHtml(r)}))}ngOnDestroy(){this.unsubscribe$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-md-content"]],hostBindings:function(t,r){1&t&&l.NdJ("resize",function(a){return r.onResize(a)},!1,l.Jf7)},inputs:{currentMdFile:"currentMdFile",showMd:"showMd"},outputs:{mdFileContentChanged:"mdFileContentChanged"},features:[l.TTD],decls:4,vars:2,consts:[[1,"markdown-content-container"],[4,"ngIf","ngIfElse"],["largeScreen",""],["class","markdown-input-container",4,"ngIf","ngIfElse"],["showPreview",""],[1,"markdown-input-container"],[1,"markdown-input",3,"formControl","placeholder"],[1,"markdown-preview-container",3,"innerHtml"],[1,"markdown-large-screen-container"],["showLargePreview",""],[1,"markdown-preview-container","preview-only",3,"ngClass","innerHtml"]],template:function(t,r){if(1&t&&(l.TgZ(0,"div",0),l.YNc(1,d6,4,2,"ng-container",1),l.YNc(2,m6,4,2,"ng-template",null,2,l.W1O),l.qZA()),2&t){const i=l.MAs(3);l.xp6(1),l.Q6J("ngIf",r.isMobileScreen)("ngIfElse",i)}},dependencies:[Ui,Sn,pw,KD,bw],styles:[".markdown-content-container[_ngcontent-%COMP%]{height:85%;overflow-y:auto;overflow-x:hidden}.markdown-content-container[_ngcontent-%COMP%]   .markdown-preview-container[_ngcontent-%COMP%]{padding:16px 20px;white-space:normal;height:100%}.markdown-content-container[_ngcontent-%COMP%]   .markdown-input-container[_ngcontent-%COMP%]   .markdown-input[_ngcontent-%COMP%]{height:100%;width:100%;padding:20px;border:none;background-color:transparent;font-size:14px;line-height:24px;font-weight:400;resize:none;outline:none;color:var(--md-input-text)}.markdown-large-screen-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center}.markdown-large-screen-container[_ngcontent-%COMP%]   .markdown-input-container[_ngcontent-%COMP%]{width:50%;height:100%}.markdown-large-screen-container[_ngcontent-%COMP%]   .markdown-input-container[_ngcontent-%COMP%]   .markdown-input[_ngcontent-%COMP%]{border-right:1px solid var(--divider)}.markdown-large-screen-container[_ngcontent-%COMP%]   .markdown-preview-container[_ngcontent-%COMP%]{width:50%;height:100%;overflow-y:auto;overflow-x:hidden}.markdown-large-screen-container[_ngcontent-%COMP%]   .markdown-preview-container.preview-only[_ngcontent-%COMP%]{width:100%}.markdown-large-screen-container[_ngcontent-%COMP%]   .markdown-preview-container.preview-only.large[_ngcontent-%COMP%]{width:66vw}.markdown-input-container[_ngcontent-%COMP%]{font-family:Roboto Mono;height:100%;overflow:hidden}"]}),n})();const _6=function(n){return{selected:n}};function y6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",1),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.mdFileSelected.emit(i.mdFile))}),l.TgZ(1,"div",2),l.O4$(),l.TgZ(2,"svg",3),l._UZ(3,"path",4),l.qZA()(),l.kcU(),l.TgZ(4,"div",5)(5,"div",6),l._uU(6),l.ALo(7,"date"),l.qZA(),l.TgZ(8,"div",7),l._uU(9),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngClass",l.VKq(6,_6,t.fileIsSelected)),l.xp6(5),l.hij(" ",l.xi3(7,3,t.createdDate,"d MMMM y")," "),l.xp6(3),l.Oqu(t.mdFile.name)}}let v6=(()=>{class n{constructor(){this.mdFileSelected=new l.vpe}ngOnInit(){this.createdDate=new Date(this.mdFile.createdAt.seconds)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-md-file"]],inputs:{mdFile:"mdFile",fileIsSelected:"fileIsSelected"},outputs:{mdFileSelected:"mdFileSelected"},decls:1,vars:1,consts:[["class","file-container",3,"click",4,"ngIf"],[1,"file-container",3,"click"],[1,"file-icon",3,"ngClass"],["width","14","height","16","xmlns","http://www.w3.org/2000/svg"],["d","M13.107 3.393c.167.167.31.393.429.678.119.286.178.548.178.786v10.286c0 .238-.083.44-.25.607a.827.827 0 0 1-.607.25h-12a.827.827 0 0 1-.607-.25.827.827 0 0 1-.25-.607V.857C0 .62.083.417.25.25A.827.827 0 0 1 .857 0h8c.238 0 .5.06.786.179.286.119.512.261.678.428l2.786 2.786ZM9.143 1.214v3.357H12.5c-.06-.172-.125-.294-.196-.366L9.509 1.411c-.072-.072-.194-.137-.366-.197Zm3.428 13.643V5.714H8.857a.827.827 0 0 1-.607-.25.827.827 0 0 1-.25-.607V1.143H1.143v13.714H12.57Z","fill","currentColor"],[1,"file-info"],[1,"file-created-date"],[1,"file-name"]],template:function(t,r){1&t&&l.YNc(0,y6,10,8,"div",0),2&t&&l.Q6J("ngIf",r.mdFile)},dependencies:[Ui,Sn,Fa],styles:[".file-container[_ngcontent-%COMP%]{display:flex;gap:16px}.file-container[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff}.file-container[_ngcontent-%COMP%]   .file-icon.selected[_ngcontent-%COMP%]{color:var(--orange)}.file-container[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{font-family:Roboto}.file-container[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-created-date[_ngcontent-%COMP%]{color:var(--subdued);font-size:13px;line-height:15px}.file-container[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:var(--file-name);font-size:15px;line-height:18px;margin-top:3px}"]}),n})();const b6=function(n){return{selected:n}};function w6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",2)(1,"app-md-file",3),l.NdJ("mdFileSelected",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.mdFileChanged(i))}),l.qZA()()}if(2&n){const t=e.$implicit,r=l.oxw();l.Q6J("ngClass",l.VKq(3,b6,r.currentUser.currentMdFile.id===t.id)),l.xp6(1),l.Q6J("mdFile",t)("fileIsSelected",r.currentUser.currentMdFile.id===t.id)}}let E6=(()=>{class n{constructor(){this.mdFileSelected=new l.vpe}mdFileChanged(t){this.mdFileSelected.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-md-files-list"]],inputs:{currentUser:"currentUser"},outputs:{mdFileSelected:"mdFileSelected"},decls:2,vars:1,consts:[[1,"files-list"],["class","file-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"file-item",3,"ngClass"],[3,"mdFile","fileIsSelected","mdFileSelected"]],template:function(t,r){1&t&&(l.TgZ(0,"ul",0),l.YNc(1,w6,2,5,"li",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngForOf",r.currentUser.mdFiles))},dependencies:[Ui,Ei,v6],styles:[".files-list[_ngcontent-%COMP%]{padding-right:24px;display:flex;flex-direction:column;gap:26px}.files-list[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{list-style-type:none}.files-list[_ngcontent-%COMP%]   .file-item.selected[_ngcontent-%COMP%]:hover{cursor:unset}.files-list[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]:not(.selected):hover{cursor:pointer}"]}),n})();function C6(n,e){1&n&&l._UZ(0,"img",5)}function D6(n,e){1&n&&l._UZ(0,"img",6)}function I6(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"p"),l._uU(2),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.toggleMdPreview())}),l.YNc(4,C6,1,0,"img",3),l.YNc(5,D6,1,0,"img",4),l.qZA(),l.BQk()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.showMd?"MARKDOWN":"PREVIEW"),l.xp6(2),l.Q6J("ngIf",t.showMd),l.xp6(1),l.Q6J("ngIf",!t.showMd)}}let S6=(()=>{class n{constructor(){this.previewToggled=new l.vpe,this.isLargeScreen=!1,this.showMd=!0}toggleMdPreview(){this.showMd=!this.showMd,this.previewToggled.emit(this.showMd)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-preview-bar"]],outputs:{previewToggled:"previewToggled"},decls:2,vars:1,consts:[[1,"preview-bar-container"],[4,"ngIf"],[1,"preview-toggle",3,"click"],["src","../../../assets/icon-show-preview.svg","alt","",4,"ngIf"],["src","../../../assets/icon-hide-preview.svg","alt","",4,"ngIf"],["src","../../../assets/icon-show-preview.svg","alt",""],["src","../../../assets/icon-hide-preview.svg","alt",""]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,I6,6,3,"ng-container",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",!r.isLargeScreen))},dependencies:[Sn],styles:[".preview-bar-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:42px;width:100%;background-color:var(--section-title-bar-bg);font-family:Roboto;color:var(--secondary-text);letter-spacing:2px;padding:0 16px}.preview-bar-container[_ngcontent-%COMP%]   .preview-toggle[_ngcontent-%COMP%]{margin-left:auto;background-color:transparent}"]}),n})(),T6=(()=>{class n{constructor(t,r){this.document=t,this.renderer=r,this.currentTheme=window.matchMedia("(prefers-color-scheme: light)").matches?"light-theme":"dark-theme",this.isLightTheme="light-theme"===this.currentTheme,this.themeToggleControl=new vw(this.isLightTheme),this.unsubscribe$=new Ut.xQ}ngOnInit(){this.themeToggleControl.valueChanges.pipe(Yn(this.unsubscribe$)).subscribe(t=>{this.isLightTheme=t,this.toggleTheme()})}ngOnDestroy(){this.unsubscribe$.next()}toggleTheme(){const t=this.document.body;t.classList.contains("light-theme")?(this.currentTheme="dark-theme",this.renderer.removeClass(t,"light-theme"),this.renderer.addClass(t,this.currentTheme)):(this.currentTheme="light-theme",this.renderer.removeClass(t,"dark-theme"),this.renderer.addClass(t,this.currentTheme))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ge),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-theme-toggle"]],decls:10,vars:5,consts:[[1,"theme-toggle"],[1,"icon-container"],["width","17","height","16","xmlns","http://www.w3.org/2000/svg"],["d","M16.141 8.804a.823.823 0 0 0-.864-.115 6.622 6.622 0 0 1-2.772.6A6.704 6.704 0 0 1 5.81 2.626 7.066 7.066 0 0 1 6.015.981a.823.823 0 0 0-1.094-.93 8.341 8.341 0 1 0 11.516 9.617.823.823 0 0 0-.296-.864Zm-7.814 5.503A6.696 6.696 0 0 1 4.164 2.404v.222a8.35 8.35 0 0 0 10.069 8.16 6.671 6.671 0 0 1-5.906 3.554v-.033Z","fill","currentColor"],[1,"toggle"],["type","checkbox",3,"formControl"],[1,"slider"],["width","18","height","18","xmlns","http://www.w3.org/2000/svg"],["d","M2.7 9a.9.9 0 0 0-.9-.9H.9a.9.9 0 0 0 0 1.8h.9a.9.9 0 0 0 .9-.9Zm.576 4.5-.639.639a.9.9 0 0 0 0 1.269.9.9 0 0 0 1.269 0l.639-.639A.9.9 0 0 0 3.276 13.5ZM9 2.7a.9.9 0 0 0 .9-.9V.9a.9.9 0 0 0-1.8 0v.9a.9.9 0 0 0 .9.9Zm5.094 2.106a.9.9 0 0 0 .63-.261l.639-.639a.9.9 0 1 0-1.269-1.269l-.594.639a.9.9 0 0 0 0 1.269.9.9 0 0 0 .594.261Zm-10.8-.261a.9.9 0 0 0 1.269 0 .9.9 0 0 0 0-1.269l-.639-.639a.904.904 0 1 0-1.287 1.269l.657.639ZM17.1 8.1h-.9a.9.9 0 1 0 0 1.8h.9a.9.9 0 1 0 0-1.8Zm-2.376 5.4a.9.9 0 0 0-1.224 1.224l.639.639a.9.9 0 0 0 1.269 0 .9.9 0 0 0 0-1.269l-.684-.594ZM9 4.05A4.95 4.95 0 1 0 13.95 9 4.959 4.959 0 0 0 9 4.05Zm0 8.1a3.15 3.15 0 1 1 0-6.3 3.15 3.15 0 0 1 0 6.3Zm0 3.15a.9.9 0 0 0-.9.9v.9a.9.9 0 1 0 1.8 0v-.9a.9.9 0 0 0-.9-.9Z","fill","currentColor"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.O4$(),l.TgZ(2,"svg",2),l._UZ(3,"path",3),l.qZA()(),l.kcU(),l.TgZ(4,"label",4),l._UZ(5,"input",5)(6,"span",6),l.qZA(),l.TgZ(7,"div",1),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()()()),2&t&&(l.xp6(1),l.Udp("color",r.isLightTheme?"var(--theme-toggle-bg)":"white"),l.xp6(4),l.Q6J("formControl",r.themeToggleControl),l.xp6(2),l.Udp("color",r.isLightTheme?"white":"var(--theme-toggle-bg)"))},dependencies:[bk,KD,bw],styles:['.theme-toggle[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.theme-toggle[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block}.theme-toggle[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:24px;margin:0 10px}.theme-toggle[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.theme-toggle[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;border-radius:14.5px;background-color:var(--theme-toggle-bg)}.theme-toggle[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{border-radius:50%;position:absolute;content:"";height:12px;width:12px;left:6px;bottom:6px;background-color:#fff;transition:.4s}.theme-toggle[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}']}),n})();function A6(n,e){1&n&&(l.TgZ(0,"h1",16),l._uU(1,"MARKDOWN"),l.qZA())}function M6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",17)(1,"app-md-files-list",18),l.NdJ("mdFileSelected",function(i){l.CHM(t);const a=l.oxw(2);return l.KtG(a.switchCurrentMdFile(i))}),l.qZA()()}if(2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("currentUser",t.currentUser)}}function k6(n,e){1&n&&(l.TgZ(0,"div",19),l._uU(1," No files found. Create a new file to get started! "),l.qZA())}function x6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-sidenav-container",2),l.NdJ("backdropClick",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.menuIsOpen=!1)}),l.TgZ(1,"mat-sidenav",3,4)(3,"div",5),l.YNc(4,A6,2,0,"h1",6),l.TgZ(5,"h2",7),l._uU(6,"MY DOCUMENTS"),l.qZA(),l.TgZ(7,"app-action-button",8),l.NdJ("actionClicked",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.createNewFile())}),l.qZA(),l.YNc(8,M6,2,1,"div",9),l.YNc(9,k6,2,0,"ng-template",null,10,l.W1O),l.TgZ(11,"div",11),l._UZ(12,"app-theme-toggle"),l.qZA()()(),l.TgZ(13,"mat-sidenav-content",12)(14,"app-header",13),l.NdJ("toggleSidenav",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.toggleSidenav(i))})("saveCurrentMdFile",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.saveCurrentMdFile(i))}),l.qZA(),l.TgZ(15,"app-preview-bar",14),l.NdJ("previewToggled",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.showMd=i)}),l.qZA(),l.TgZ(16,"app-md-content",15),l.NdJ("mdFileContentChanged",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.currentUser.currentMdFile.content=i)}),l.qZA()()()}if(2&n){const t=l.MAs(10),r=l.oxw();l.Q6J("hasBackdrop",!0),l.xp6(1),l.Q6J("opened",r.menuIsOpen)("mode","push"),l.xp6(3),l.Q6J("ngIf",!r.isLargeScreen),l.xp6(3),l.Q6J("actionType","create"),l.xp6(1),l.Q6J("ngIf",r.currentUser.mdFiles.length)("ngIfElse",t),l.xp6(6),l.Q6J("currentUser",r.currentUser)("menuIsOpen",r.menuIsOpen),l.xp6(2),l.Q6J("currentMdFile",r.currentUser.currentMdFile)("showMd",r.showMd)}}function O6(n,e){1&n&&(l.TgZ(0,"div",20),l._UZ(1,"mat-spinner",21),l.qZA()),2&n&&(l.xp6(1),l.Q6J("diameter",200))}let R6=(()=>{class n{constructor(t,r){this.userService=t,this.filesService=r,this.showMd=!0,this.menuIsOpen=!0,this.isLoading=!0,this.userId=localStorage.getItem("inBrowserMarkdownId")??"",this.unsubscribe$=new Ut.xQ,this.isLargeScreen=!1}onResize(){this.isLargeScreen=window.innerWidth>Ts.DESKTOP_MIN}ngOnInit(){this.isLargeScreen=window.innerWidth>Ts.DESKTOP_MIN,this.userId||this.createNewUser(),this.getCurrentUser()}ngOnDestroy(){this.unsubscribe$.next()}createNewFile(){this.filesService.createNewFile(this.currentUser.id,this.currentUser.mdFiles)}switchCurrentMdFile(t){this.currentUser.currentMdFile.id!==t.id&&(this.saveCurrentMdFile({currentMdFile:this.currentUser.currentMdFile,newMdFileName:this.currentUser.currentMdFile.name}),this.filesService.changeCurrentFile(this.userId,t))}saveCurrentMdFile(t){const r=this.currentUser.mdFiles.map(a=>a.id===t.currentMdFile.id?{...t.currentMdFile,name:t.newMdFileName??a.name,content:t.currentMdFile.content}:a),i={...this.currentUser,currentMdFile:{...t.currentMdFile,name:t.newMdFileName??this.currentUser.currentMdFile.name},mdFiles:r};this.filesService.saveFile(i)}toggleSidenav(t){this.menuIsOpen="open"===t}createNewUser(){this.userId=this.userService.createUserId(),this.userService.createUser(this.userId)}getCurrentUser(){this.userService.getUsers(this.userId).pipe(Rn(r=>!!r.length),Yn(this.unsubscribe$)).subscribe(r=>{this.currentUser=r[0],this.isLoading=!1})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(GH),l.Y36(pF))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-side-navigation"]],hostBindings:function(t,r){1&t&&l.NdJ("resize",function(a){return r.onResize(a)},!1,l.Jf7)},decls:3,vars:2,consts:[["class","sidenav-container",3,"hasBackdrop","backdropClick",4,"ngIf","ngIfElse"],["spinner",""],[1,"sidenav-container",3,"hasBackdrop","backdropClick"],[3,"opened","mode"],["sidenav",""],[1,"sidenav-menu-container"],["class","sidenav-header",4,"ngIf"],[1,"sidenav-subheader"],[3,"actionType","actionClicked"],["class","files-list-container",4,"ngIf","ngIfElse"],["noDocuments",""],[1,"theme-toggle-container"],[1,"sidenav-content"],[3,"currentUser","menuIsOpen","toggleSidenav","saveCurrentMdFile"],[3,"previewToggled"],[3,"currentMdFile","showMd","mdFileContentChanged"],[1,"sidenav-header"],[1,"files-list-container"],[3,"currentUser","mdFileSelected"],[1,"no-files"],[1,"spinner-container"],[3,"diameter"]],template:function(t,r){if(1&t&&(l.YNc(0,x6,17,11,"mat-sidenav-container",0),l.YNc(1,O6,2,1,"ng-template",null,1,l.W1O)),2&t){const i=l.MAs(2);l.Q6J("ngIf",!r.isLoading)("ngIfElse",i)}},dependencies:[Sn,tc,uF,lF,px,mx,u6,g6,E6,S6,T6],styles:[".sidenav-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{background-color:var(--sidenav-bg)}.sidenav-container[_ngcontent-%COMP%]   .sidenav-menu-container[_ngcontent-%COMP%]{width:250px;padding:24px 0 24px 24px;display:flex;flex-direction:column;height:100%}.sidenav-container[_ngcontent-%COMP%]   .sidenav-menu-container[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]{color:var(--sidenav-header);font-family:Commissioner,sans-serif;font-size:15px;font-weight:700;letter-spacing:5px;margin-bottom:27px}.sidenav-container[_ngcontent-%COMP%]   .sidenav-menu-container[_ngcontent-%COMP%]   .sidenav-subheader[_ngcontent-%COMP%]{color:var(--subdued);font-family:Roboto,sans-serif;font-size:14px;font-weight:500;line-height:16px;letter-spacing:2px;margin-bottom:29px}.sidenav-container[_ngcontent-%COMP%]   .sidenav-menu-container[_ngcontent-%COMP%]   .files-list-container[_ngcontent-%COMP%]{overflow:auto;margin:26px 0}.sidenav-container[_ngcontent-%COMP%]   .sidenav-menu-container[_ngcontent-%COMP%]   .no-files[_ngcontent-%COMP%]{margin:auto}.sidenav-container[_ngcontent-%COMP%]   .sidenav-menu-container[_ngcontent-%COMP%]   .theme-toggle-container[_ngcontent-%COMP%]{margin-top:auto}.sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{white-space:nowrap}.spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}"]}),n})(),P6=(()=>{class n{constructor(){this.title="fe-mentor-in-browser-markdown-editor"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-side-navigation")},dependencies:[R6]}),n})();const N6=[];let F6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[f0.forRoot(N6),f0]}),n})();const mF_firebase={apiKey:"AIzaSyAZkQGMBVrr0Fw6SkdiT5pbEAWunMVRN_g",authDomain:"browser-markdown-editor.firebaseapp.com",projectId:"browser-markdown-editor",storageBucket:"browser-markdown-editor.appspot.com",messagingSenderId:"40671757549",appId:"1:40671757549:web:e0f44efb8d1b0aa65db8e4",measurementId:"G-JCBX4MSFV8"};let L6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[P6]}),n.\u0275inj=l.cJS({imports:[uT,ir.hO.initializeApp(mF_firebase),q3,F6,Y2,Fn,ZB,d8,bU,Ej,Dj,cx,rH,cH,yH,xH,zH,YB]}),n})();(0,l.G48)(),q_().bootstrapModule(L6).catch(n=>console.error(n))},7982:(pt,Fe,B)=>{"use strict";B.d(Fe,{Gb:()=>l.Gb});var l=B(579)},5867:(pt,Fe,B)=>{"use strict";B.d(Fe,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=B(9681);(0,l.registerVersion)("firebase","9.9.1","app")},127:(pt,Fe,B)=>{"use strict";B.d(Fe,{Z:()=>l.Z});var l=B(3942);l.Z.registerVersion("firebase","9.9.1","app-compat")},1451:(pt,Fe,B)=>{"use strict";B.r(Fe);var l=B(5861),pe=B(3942),K=B(2090),O=B(9681),Ee=B(655),ce=B(1877),ge=B(4859);const De=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new ce.Yd("@firebase/auth");function dt(y,...p){rt.logLevel<=ce.in.ERROR&&rt.error(`Auth (${O.SDK_VERSION}): ${y}`,...p)}function E(y,...p){throw Y(y,...p)}function x(y,...p){return Y(y,...p)}function T(y,p,g){const b=Object.assign(Object.assign({},Oe()),{[p]:g});return new K.LL("auth","Firebase",b).create(p,{appName:y.name})}function W(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&E(y,"argument-error"),T(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return xe.create(y,...p)}function P(y,p,...g){if(!y)throw Y(p,...g)}function L(y){const p="INTERNAL ASSERTION FAILED: "+y;throw dt(p),new Error(p)}function N(y,p){y||L(p)}const ne=new Map;function Q(y){N(y instanceof Function,"Expected a class definition");let p=ne.get(y);return p?(N(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ne.set(y,p),p)}function V(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function be(){return"http:"===$e()||"https:"===$e()}function $e(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Xe{constructor(p,g){this.shortDelay=p,this.longDelay=g,N(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function qe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(be()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function on(y,p){N(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Kt{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void L("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void L("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void L("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new Xe(3e4,6e4);function Dt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function _t(y,p,g,b){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(y,p,g,b,k={}){return Lr(y,k,(0,l.Z)(function*(){let F={},le={};b&&("GET"===p?le=b:F={body:JSON.stringify(b)});const Ie=(0,K.xO)(Object.assign({key:y.config.apiKey},le)).slice(1),Je=yield y._getAdditionalHeaders();return Je["Content-Type"]="application/json",y.languageCode&&(Je["X-Firebase-Locale"]=y.languageCode),Kt.fetch()(cr(y,y.config.apiHost,g,Ie),Object.assign({method:p,headers:Je,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Lr(y,p,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ht),p);try{const k=new Gr(y),F=yield Promise.race([g(),k.promise]);k.clearNetworkTimeout();const le=yield F.json();if("needConfirmation"in le)throw kr(y,"account-exists-with-different-credential",le);if(F.ok&&!("errorMessage"in le))return le;{const Ie=F.ok?le.errorMessage:le.error.message,[Je,ft]=Ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw kr(y,"credential-already-in-use",le);if("EMAIL_EXISTS"===Je)throw kr(y,"email-already-in-use",le);if("USER_DISABLED"===Je)throw kr(y,"user-disabled",le);const Ot=b[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw T(y,Ot,ft);E(y,Ot)}}catch(k){if(k instanceof K.ZR)throw k;E(y,"network-request-failed")}})).apply(this,arguments)}function Mn(y,p,g,b){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(y,p,g,b,k={}){const F=yield _t(y,p,g,b,k);return"mfaPendingCredential"in F&&E(y,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function cr(y,p,g,b){const k=`${p}${g}?${b}`;return y.config.emulator?on(y.config,k):`${y.config.apiScheme}://${k}`}class Gr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(x(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kr(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const k=x(y,p,b);return k.customData._tokenResponse=g,k}function br(){return(br=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function mn(y,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vr(y,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function vn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Wr(){return(Wr=(0,l.Z)(function*(y,p=!1){const g=(0,K.m9)(y),b=yield g.getIdToken(p),k=tt(b);P(k&&k.exp&&k.auth_time&&k.iat,g.auth,"internal-error");const F="object"==typeof k.firebase?k.firebase:void 0,le=F?.sign_in_provider;return{claims:k,token:b,authTime:vn(sn(k.auth_time)),issuedAtTime:vn(sn(k.iat)),expirationTime:vn(sn(k.exp)),signInProvider:le||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(y){return 1e3*Number(y)}function tt(y){var p;const[g,b,k]=y.split(".");if(void 0===g||void 0===b||void 0===k)return dt("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,K.tV)(b);return F?JSON.parse(F):(dt("Failed to decode base64 JWT payload"),null)}catch(F){return dt("Caught error parsing JWT payload as JSON",null===(p=F)||void 0===p?void 0:p.toString()),null}}function En(y,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof K.ZR&&Lt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Lt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class xr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const k=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,l.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(g=b)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class Wn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Or(y){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),k=yield En(y,Vr(g,{idToken:b}));P(k?.users.length,g,"internal-error");const F=k.users[0];y._notifyReloadListener(F);const le=null!==(p=F.providerUserInfo)&&void 0!==p&&p.length?X(F.providerUserInfo):[],Ie=ae(y.providerData,le),Ot=!!y.isAnonymous&&!(y.email&&F.passwordHash||Ie?.length),kt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Ie,metadata:new Wn(F.createdAt,F.lastLoginAt),isAnonymous:Ot};Object.assign(y,kt)})).apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(y){const p=(0,K.m9)(y);yield Or(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ae(y,p){return[...y.filter(b=>!p.some(k=>k.providerId===b.providerId)),...p]}function X(y){return y.map(p=>{var{providerId:g}=p,b=(0,Ee._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function oe(){return(oe=(0,l.Z)(function*(y,p){const g=yield Lr(y,{},(0,l.Z)(function*(){const b=(0,K.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:k,apiKey:F}=y.config,le=cr(y,k,"/v1/token",`key=${F}`),Ie=yield y._getAdditionalHeaders();return Ie["Content-Type"]="application/x-www-form-urlencoded",Kt.fetch()(le,{method:"POST",headers:Ie,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class He{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){P(p.idToken,"internal-error"),P(typeof p.idToken<"u","internal-error"),P(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function vt(y){const p=tt(y);return P(p,"internal-error"),P(typeof p.exp<"u","internal-error"),P(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,l.Z)(function*(){return P(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,l.Z)(function*(){const{accessToken:k,refreshToken:F,expiresIn:le}=yield function se(y,p){return oe.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(k,F,Number(le))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:k,expirationTime:F}=g,le=new He;return b&&(P("string"==typeof b,"internal-error",{appName:p}),le.refreshToken=b),k&&(P("string"==typeof k,"internal-error",{appName:p}),le.accessToken=k),F&&(P("number"==typeof F,"internal-error",{appName:p}),le.expirationTime=F),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new He,this.toJSON())}_performRefresh(){return L("not implemented")}}function it(y,p){P("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class yt{constructor(p){var{uid:g,auth:b,stsTokenManager:k}=p,F=(0,Ee._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Wn(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const b=yield En(g,g.stsTokenManager.getToken(g.auth,p));return P(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function Xr(y){return Wr.apply(this,arguments)}(this,p)}reload(){return function dr(y){return ie.apply(this,arguments)}(this)}_assign(p){this!==p&&(P(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new yt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,l.Z)(function*(){let k=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),k=!0),g&&(yield Or(b)),yield b.auth._persistUserIfCurrent(b),k&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield En(p,function St(y,p){return br.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,k,F,le,Ie,Je,ft,Ot;const kt=null!==(b=g.displayName)&&void 0!==b?b:void 0,jr=null!==(k=g.email)&&void 0!==k?k:void 0,Ir=null!==(F=g.phoneNumber)&&void 0!==F?F:void 0,ru=null!==(le=g.photoURL)&&void 0!==le?le:void 0,Jc=null!==(Ie=g.tenantId)&&void 0!==Ie?Ie:void 0,ef=null!==(Je=g._redirectEventId)&&void 0!==Je?Je:void 0,ul=null!==(ft=g.createdAt)&&void 0!==ft?ft:void 0,bm=null!==(Ot=g.lastLoginAt)&&void 0!==Ot?Ot:void 0,{uid:Ao,emailVerified:iu,isAnonymous:tf,providerData:ll,stsTokenManager:pa}=g;P(Ao&&pa,p,"internal-error");const su=He.fromJSON(this.name,pa);P("string"==typeof Ao,p,"internal-error"),it(kt,p.name),it(jr,p.name),P("boolean"==typeof iu,p,"internal-error"),P("boolean"==typeof tf,p,"internal-error"),it(Ir,p.name),it(ru,p.name),it(Jc,p.name),it(ef,p.name),it(ul,p.name),it(bm,p.name);const wm=new yt({uid:Ao,auth:p,email:jr,emailVerified:iu,displayName:kt,isAnonymous:tf,photoURL:ru,phoneNumber:Ir,tenantId:Jc,stsTokenManager:su,createdAt:ul,lastLoginAt:bm});return ll&&Array.isArray(ll)&&(wm.providerData=ll.map(ou=>Object.assign({},ou))),ef&&(wm._redirectEventId=ef),wm}static _fromIdTokenResponse(p,g,b=!1){return(0,l.Z)(function*(){const k=new He;k.updateFromServerResponse(g);const F=new yt({uid:g.localId,auth:p,stsTokenManager:k,isAnonymous:b});return yield Or(F),F})()}}const an=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,b){var k=this;return(0,l.Z)(function*(){k.storage[g]=b})()}_get(g){var b=this;return(0,l.Z)(function*(){const k=b.storage[g];return void 0===k?null:k})()}_remove(g){var b=this;return(0,l.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function we(y,p,g){return`firebase:${y}:${p}:${g}`}class Ae{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:k,name:F}=this.auth;this.fullUserKey=we(this.userKey,k.apiKey,F),this.fullPersistenceKey=we("persistence",k.apiKey,F),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?yt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,l.Z)(function*(){if(!g.length)return new Ae(Q(an),p,b);const k=(yield Promise.all(g.map(function(){var ft=(0,l.Z)(function*(Ot){if(yield Ot._isAvailable())return Ot});return function(Ot){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let F=k[0]||Q(an);const le=we(b,p.config.apiKey,p.name);let Ie=null;for(const ft of g)try{const Ot=yield ft._get(le);if(Ot){const kt=yt._fromJSON(p,Ot);ft!==F&&(Ie=kt),F=ft;break}}catch{}const Je=k.filter(ft=>ft._shouldAllowMigration);return F._shouldAllowMigration&&Je.length?(F=Je[0],Ie&&(yield F._set(le,Ie.toJSON())),yield Promise.all(g.map(function(){var ft=(0,l.Z)(function*(Ot){if(Ot!==F)try{yield Ot._remove(le)}catch{}});return function(Ot){return ft.apply(this,arguments)}}())),new Ae(F,p,b)):new Ae(F,p,b)})()}}function Le(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(xt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ke(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ct(p))return"Blackberry";if(Nt(p))return"Webos";if(et(p))return"Safari";if((p.includes("chrome/")||wt(p))&&!p.includes("edge/"))return"Chrome";if(ze(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Ke(y=(0,K.z$)()){return/firefox\//i.test(y)}function et(y=(0,K.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function wt(y=(0,K.z$)()){return/crios\//i.test(y)}function xt(y=(0,K.z$)()){return/iemobile/i.test(y)}function ze(y=(0,K.z$)()){return/android/i.test(y)}function ct(y=(0,K.z$)()){return/blackberry/i.test(y)}function Nt(y=(0,K.z$)()){return/webos/i.test(y)}function Qt(y=(0,K.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function In(y=(0,K.z$)()){return Qt(y)||ze(y)||Nt(y)||ct(y)||/windows phone/i.test(y)||xt(y)}function li(y,p=[]){let g;switch(y){case"Browser":g=Le((0,K.z$)());break;case"Worker":g=`${Le((0,K.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${O.SDK_VERSION}/${b}`}class Wt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=F=>new Promise((le,Ie)=>{try{le(p(F))}catch(Je){Ie(Je)}});b.onAbort=g,this.queue.push(b);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,l.Z)(function*(){var b;if(g.auth.currentUser===p)return;const k=[];try{for(const F of g.queue)yield F(p),F.onAbort&&k.push(F.onAbort)}catch(F){k.reverse();for(const le of k)try{le()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=F)||void 0===b?void 0:b.message})}})()}}class Ms{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pe(this),this.idTokenSubscription=new Pe(this),this.beforeStateQueue=new Wt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=Q(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var k,F;if(!b._deleted&&(b.persistenceManager=yield Ae.create(b,p),!b._deleted)){if(null!==(k=b._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(F=b.currentUser)||void 0===F?void 0:F.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var b;const k=yield g.assertedPersistence.getCurrentUser();let F=k,le=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ie=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Je=F?._redirectEventId,ft=yield g.tryRedirectSignIn(p);(!Ie||Ie===Je)&&ft?.user&&(F=ft.user,le=!0)}if(!F)return g.directlySetCurrentUser(null);if(!F._redirectEventId){if(le)try{yield g.beforeStateQueue.runMiddleware(F)}catch(Ie){F=k,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ie))}return F?g.reloadAndSetCurrentUserOrClear(F):g.directlySetCurrentUser(null)}return P(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===F._redirectEventId?g.directlySetCurrentUser(F):g.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){var b;try{yield Or(p)}catch(k){if("auth/network-request-failed"!==(null===(b=k)||void 0===b?void 0:b.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const b=p?(0,K.m9)(p):null;return b&&P(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return p&&P(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(Q(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new K.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,l.Z)(function*(){const k=yield b.getOrInitRedirectPersistenceManager(g);return null===p?k.removeCurrentUser():k.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&Q(p)||g._popupRedirectResolver;P(b,g,"argument-error"),g.redirectPersistenceManager=yield Ae.create(g,[Q(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var b,k;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(k=g.redirectUser)||void 0===k?void 0:k._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,k){if(this._deleted)return()=>{};const F="function"==typeof g?g:g.next.bind(g),le=this._isInitialized?Promise.resolve():this._initializationPromise;return P(le,this,"internal-error"),le.then(()=>F(this.currentUser)),"function"==typeof g?p.addObserver(g,b,k):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=li(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const k=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return k&&(b["X-Firebase-Client"]=k),b})()}}function he(y){return(0,K.m9)(y)}class Pe{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,K.ne)(g=>this.observer=g)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ut(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function un(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class On{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return L("not implemented")}_getIdTokenResponse(p){return L("not implemented")}_linkToIdToken(p,g){return L("not implemented")}_getReauthenticationResolver(p){return L("not implemented")}}function xi(y,p){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:resetPassword",Dt(y,p))})).apply(this,arguments)}function jo(y,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ho(y,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:update",Dt(y,p))})).apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithPassword",Dt(y,p))})).apply(this,arguments)}function Ei(y,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:sendOobCode",Dt(y,p))})).apply(this,arguments)}function fh(y,p){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(y,p){return Ei(y,p)})).apply(this,arguments)}function Oi(y,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(y,p){return Ei(y,p)})).apply(this,arguments)}function zs(y,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(y,p){return Ei(y,p)})).apply(this,arguments)}function ei(y,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(y,p){return Ei(y,p)})).apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithEmailLink",Dt(y,p))})).apply(this,arguments)}function Pu(){return(Pu=(0,l.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithEmailLink",Dt(y,p))})).apply(this,arguments)}class $o extends On{constructor(p,g,b,k=null){super("password",b),this._email=p,this._password=g,this._tenantId=k}static _fromEmailAndPassword(p,g){return new $o(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new $o(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function ks(y,p){return po.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function j_(y,p){return Na.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:E(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return jo(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ru(y,p){return Pu.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:E(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function $s(y,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithIdp",Dt(y,p))})).apply(this,arguments)}class ji extends On{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ji(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):E("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:k}=g,F=(0,Ee._T)(g,["providerId","signInMethod"]);if(!b||!k)return null;const le=new ji(b,k);return le.idToken=F.idToken||void 0,le.accessToken=F.accessToken||void 0,le.secret=F.secret,le.nonce=F.nonce,le.pendingToken=F.pendingToken||null,le}_getIdTokenResponse(p){return $s(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,$s(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,$s(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,K.xO)(g)}return p}}function ic(y,p){return sc.apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:sendVerificationCode",Dt(y,p))})).apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithPhoneNumber",Dt(y,p))})).apply(this,arguments)}function ph(){return(ph=(0,l.Z)(function*(y,p){const g=yield Mn(y,"POST","/v1/accounts:signInWithPhoneNumber",Dt(y,p));if(g.temporaryProof)throw kr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ac={USER_NOT_FOUND:"user-not-found"};function Fa(){return(Fa=(0,l.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithPhoneNumber",Dt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ac)})).apply(this,arguments)}class ts extends On{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new ts({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new ts({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Nu(y,p){return oc.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function H_(y,p){return ph.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function z_(y,p){return Fa.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:k}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:k}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:k,temporaryProof:F}=p;return b||g||k||F?new ts({verificationId:g,verificationCode:b,phoneNumber:k,temporaryProof:F}):null}}class La{constructor(p){var g,b,k,F,le,Ie;const Je=(0,K.zd)((0,K.pd)(p)),ft=null!==(g=Je.apiKey)&&void 0!==g?g:null,Ot=null!==(b=Je.oobCode)&&void 0!==b?b:null,kt=function Fp(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=Je.mode)&&void 0!==k?k:null);P(ft&&Ot&&kt,"argument-error"),this.apiKey=ft,this.operation=kt,this.code=Ot,this.continueUrl=null!==(F=Je.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(le=Je.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Ie=Je.tenantId)&&void 0!==Ie?Ie:null}static parseLink(p){const g=function Lp(y){const p=(0,K.zd)((0,K.pd)(y)).link,g=p?(0,K.zd)((0,K.pd)(p)).deep_link_id:null,b=(0,K.zd)((0,K.pd)(y)).deep_link_id;return(b?(0,K.zd)((0,K.pd)(b)).link:null)||b||g||p||y}(p);try{return new La(g)}catch{return null}}}let Fu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return $o._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const k=La.parseLink(b);return P(k,"argument-error"),$o._fromEmailAndCode(g,k.code,k.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Di{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ns extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Os extends ns{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return P("providerId"in g&&"signInMethod"in g,"argument-error"),ji._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return P(p.idToken||p.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Os.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Os.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:k,pendingToken:F,nonce:le,providerId:Ie}=p;if(!b&&!k&&!g&&!F||!Ie)return null;try{return new Os(Ie)._credential({idToken:g,accessToken:b,nonce:le,pendingToken:F})}catch{return null}}}let Va=(()=>{class y extends ns{constructor(){super("facebook.com")}static credential(g){return ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Gs=(()=>{class y extends ns{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:k}=g;if(!b&&!k)return null;try{return y.credential(b,k)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ws=(()=>{class y extends ns{constructor(){super("github.com")}static credential(g){return ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class rs extends On{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return $s(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,$s(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,$s(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:k,pendingToken:F}=g;return b&&k&&F&&b===k?new rs(b,F):null}static _create(p,g){return new rs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qr extends Di{constructor(p){P(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return qr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return qr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=rs.fromJSON(p);return P(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return rs._create(b,g)}catch{return null}}}let Ua=(()=>{class y extends ns{constructor(){super("twitter.com")}static credential(g,b){return ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:k}=g;if(!b||!k)return null;try{return y.credential(b,k)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function uc(y,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signUp",Dt(y,p))})).apply(this,arguments)}class Er{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,k=!1){return(0,l.Z)(function*(){const F=yield yt._fromIdTokenResponse(p,b,k),le=ja(b);return new Er({user:F,providerId:le,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const k=ja(b);return new Er({user:p,providerId:k,_tokenResponse:b,operationType:g})})()}}function ja(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function lc(){return(lc=(0,l.Z)(function*(y){var p;const g=he(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Er({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield uc(g,{returnSecureToken:!0}),k=yield Er._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(k.user),k})).apply(this,arguments)}class Rs extends K.ZR{constructor(p,g,b,k){var F;super(g.code,g.message),this.operationType=b,this.user=k,Object.setPrototypeOf(this,Rs.prototype),this.customData={appName:p.name,tenantId:null!==(F=p.tenantId)&&void 0!==F?F:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,k){return new Rs(p,g,b,k)}}function Wo(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Rs._fromErrorAndOperation(y,F,p,b):F})}function fr(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Ha(){return(Ha=(0,l.Z)(function*(y,p){const g=(0,K.m9)(y);yield qo(!0,g,p);const{providerUserInfo:b}=yield mn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),k=fr(b||[]);return g.providerData=g.providerData.filter(F=>k.has(F.providerId)),k.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ps(y,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(y,p,g=!1){const b=yield En(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Er._forOperation(y,"link",b)})).apply(this,arguments)}function qo(y,p,g){return go.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(y,p,g){yield Or(p);const k=!1===y?"provider-already-linked":"no-such-provider";P(fr(p.providerData).has(g)===y,p.auth,k)})).apply(this,arguments)}function j(y,p){return H.apply(this,arguments)}function H(){return(H=(0,l.Z)(function*(y,p,g=!1){var b;const{auth:k}=y,F="reauthenticate";try{const le=yield En(y,Wo(k,F,p,y),g);P(le.idToken,k,"internal-error");const Ie=tt(le.idToken);P(Ie,k,"internal-error");const{sub:Je}=Ie;return P(y.uid===Je,k,"user-mismatch"),Er._forOperation(y,F,le)}catch(le){throw"auth/user-not-found"===(null===(b=le)||void 0===b?void 0:b.code)&&E(k,"user-mismatch"),le}})).apply(this,arguments)}function fe(y,p){return Me.apply(this,arguments)}function Me(){return(Me=(0,l.Z)(function*(y,p,g=!1){const b="signIn",k=yield Wo(y,b,p),F=yield Er._fromIdTokenResponse(y,b,k);return g||(yield y._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Se(y,p){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(y,p){return fe(he(y),p)})).apply(this,arguments)}function At(y,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(y,p){const g=(0,K.m9)(y);return yield qo(!1,g,p.providerId),Ps(g,p)})).apply(this,arguments)}function pr(y,p){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(y,p){return j((0,K.m9)(y),p)})).apply(this,arguments)}function Nn(y,p){return zt.apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(y,p){return Mn(y,"POST","/v1/accounts:signInWithCustomToken",Dt(y,p))})).apply(this,arguments)}function je(){return(je=(0,l.Z)(function*(y,p){const g=he(y),b=yield Nn(g,{token:p,returnSecureToken:!0}),k=yield Er._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(k.user),k})).apply(this,arguments)}class Yt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Hi._fromServerResponse(p,g):E(p,"internal-error")}}class Hi extends Yt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Hi(g)}}function Ii(y,p,g){var b;P((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),P(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(P(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(P(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function qs(){return(qs=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y),k={requestType:"PASSWORD_RESET",email:p};g&&Ii(b,k,g),yield Oi(b,k)})).apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(y,p,g){yield xi((0,K.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(y,p){yield Ho((0,K.m9)(y),{oobCode:p})})).apply(this,arguments)}function cc(y,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,l.Z)(function*(y,p){const g=(0,K.m9)(y),b=yield xi(g,{oobCode:p}),k=b.requestType;switch(P(k,g,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":P(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":P(b.mfaInfo,g,"internal-error");default:P(b.email,g,"internal-error")}let F=null;return b.mfaInfo&&(F=Yt._fromServerResponse(he(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:F},operation:k}})).apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(y,p){const{data:g}=yield cc((0,K.m9)(y),p);return g.email})).apply(this,arguments)}function os(){return(os=(0,l.Z)(function*(y,p,g){const b=he(y),k=yield uc(b,{returnSecureToken:!0,email:p,password:g}),F=yield Er._fromIdTokenResponse(b,"signIn",k);return yield b._updateCurrentUser(F.user),F})).apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y),k={requestType:"EMAIL_SIGNIN",email:p};P(g.handleCodeInApp,b,"argument-error"),g&&Ii(b,k,g),yield zs(b,k)})).apply(this,arguments)}function hc(){return(hc=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y),k=Fu.credentialWithLink(p,g||V());return P(k._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Se(b,k)})).apply(this,arguments)}function G_(y,p){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:createAuthUri",Dt(y,p))})).apply(this,arguments)}function pc(){return(pc=(0,l.Z)(function*(y,p){const b={identifier:p,continueUri:be()?V():"http://localhost"},{signinMethods:k}=yield G_((0,K.m9)(y),b);return k||[]})).apply(this,arguments)}function yh(){return(yh=(0,l.Z)(function*(y,p){const g=(0,K.m9)(y),k={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Ii(g.auth,k,p);const{email:F}=yield fh(g.auth,k);F!==y.email&&(yield y.reload())})).apply(this,arguments)}function gc(){return(gc=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Ii(b.auth,F,g);const{email:le}=yield ei(b.auth,F);le!==y.email&&(yield y.reload())})).apply(this,arguments)}function W_(y,p){return _c.apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(y,p){return _t(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yc(){return(yc=(0,l.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,K.m9)(y),F={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},le=yield En(b,W_(b.auth,F));b.displayName=le.displayName||null,b.photoURL=le.photoUrl||null;const Ie=b.providerData.find(({providerId:Je})=>"password"===Je);Ie&&(Ie.displayName=b.displayName,Ie.photoURL=b.photoURL),yield b._updateTokensIfNecessary(le)})).apply(this,arguments)}function vh(y,p,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(y,p,g){const{auth:b}=y,F={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(F.email=p),g&&(F.password=g);const le=yield En(y,jo(b,F));yield y._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class Fn{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Up extends Fn{constructor(p,g,b,k){super(p,g,b),this.username=k}}class K_ extends Fn{constructor(p,g){super(p,"facebook.com",g)}}class Z_ extends Up{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Y_ extends Fn{constructor(p,g){super(p,"google.com",g)}}class bh extends Up{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Q_(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Zs(y){var p,g;if(!y)return null;const{providerId:b}=y,k=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},F=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const le=null===(g=null===(p=tt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(le)return new Fn(F,"anonymous"!==le&&"custom"!==le?le:null)}if(!b)return null;switch(b){case"facebook.com":return new K_(F,k);case"github.com":return new Z_(F,k);case"google.com":return new Y_(F,k);case"twitter.com":return new bh(F,k,y.screenName||null);case"custom":case"anonymous":return new Fn(F,null);default:return new Fn(F,b,k)}}(g)}class $a{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new $a("enroll",p)}static _fromMfaPendingCredential(p){return new $a("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return $a._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return $a._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ga{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=he(p),k=g.customData._serverResponse,F=(k.mfaInfo||[]).map(Ie=>Yt._fromServerResponse(b,Ie));P(k.mfaPendingCredential,b,"internal-error");const le=$a._fromMfaPendingCredential(k.mfaPendingCredential);return new Ga(le,F,function(){var Ie=(0,l.Z)(function*(Je){const ft=yield Je._process(b,le);delete k.mfaInfo,delete k.mfaPendingCredential;const Ot=Object.assign(Object.assign({},k),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(g.operationType){case"signIn":const kt=yield Er._fromIdTokenResponse(b,g.operationType,Ot);return yield b._updateCurrentUser(kt.user),kt;case"reauthenticate":return P(g.user,b,"internal-error"),Er._forOperation(g.user,g.operationType,Ot);default:E(b,"internal-error")}});return function(Je){return Ie.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}function J_(y,p){return _t(y,"POST","/v2/accounts/mfaEnrollment:start",Dt(y,p))}class X_{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Yt._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new X_(p)}getSession(){var p=this;return(0,l.Z)(function*(){return $a._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,l.Z)(function*(){const k=p,F=yield b.getSession(),le=yield En(b.user,k._process(b.user.auth,F,g));return yield b.user._updateTokensIfNecessary(le),b.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){var b;const k="string"==typeof p?p:p.uid,F=yield g.user.getIdToken(),le=yield En(g.user,function Lw(y,p){return _t(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Dt(y,p))}(g.user.auth,{idToken:F,mfaEnrollmentId:k}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ie})=>Ie!==k),yield g.user._updateTokensIfNecessary(le);try{yield g.user.reload()}catch(Ie){if("auth/user-token-expired"!==(null===(b=Ie)||void 0===b?void 0:b.code))throw Ie}})()}}const Bu=new WeakMap,Uu="__sak";class wc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Uu,"1"),this.storage.removeItem(Uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const vo=(()=>{class y extends wc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ty(){const y=(0,K.z$)();return et(y)||Qt(y)}()&&function Hs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=In(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const k=this.storage.getItem(b),F=this.localCache[b];k!==F&&g(b,F,k)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((Ie,Je,ft)=>{this.notifyListeners(Ie,ft)});const k=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(k);if(g.newValue!==Ie)null!==g.newValue?this.storage.setItem(k,g.newValue):this.storage.removeItem(k);else if(this.localCache[k]===g.newValue&&!b)return}const F=()=>{const Ie=this.storage.getItem(k);!b&&this.localCache[k]===Ie||this.notifyListeners(k,Ie)},le=this.storage.getItem(k);!function $n(){return(0,K.w1)()&&10===document.documentMode}()||le===g.newValue||g.newValue===g.oldValue?F():setTimeout(F,10)}notifyListeners(g,b){this.localCache[g]=b;const k=this.listeners[g];if(k)for(const F of Array.from(k))F(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var k=()=>super._set,F=this;return(0,l.Z)(function*(){yield k().call(F,g,b),F.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,k=this;return(0,l.Z)(function*(){const F=yield b().call(k,g);return k.localCache[g]=JSON.stringify(F),F})()}_remove(g){var b=()=>super._remove,k=this;return(0,l.Z)(function*(){yield b().call(k,g),delete k.localCache[g]})()}}return y.type="LOCAL",y})(),us=(()=>{class y extends wc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let iy=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(F=>F.isListeningto(g));if(b)return b;const k=new y(g);return this.receivers.push(k),k}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,l.Z)(function*(){const k=g,{eventId:F,eventType:le,data:Ie}=k.data,Je=b.handlersMap[le];if(!Je?.size)return;k.ports[0].postMessage({status:"ack",eventId:F,eventType:le});const ft=Array.from(Je).map(function(){var kt=(0,l.Z)(function*(jr){return jr(k.origin,Ie)});return function(jr){return kt.apply(this,arguments)}}()),Ot=yield function ry(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(ft);k.ports[0].postMessage({status:"done",eventId:F,eventType:le,response:Ot})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Yo(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class Et{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var k=this;return(0,l.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let le,Ie;return new Promise((Je,ft)=>{const Ot=Yo("",20);F.port1.start();const kt=setTimeout(()=>{ft(new Error("unsupported_event"))},b);Ie={messageChannel:F,onMessage(jr){const Ir=jr;if(Ir.data.eventId===Ot)switch(Ir.data.status){case"ack":clearTimeout(kt),le=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Je(Ir.data.response);break;default:clearTimeout(kt),clearTimeout(le),ft(new Error("invalid_response"))}}},k.handlers.add(Ie),F.port1.addEventListener("message",Ie.onMessage),k.target.postMessage({eventType:p,eventId:Ot,data:g},[F.port2])}).finally(()=>{Ie&&k.removeMessageHandler(Ie)})})()}}function dn(){return window}function It(){return typeof dn().WorkerGlobalScope<"u"&&"function"==typeof dn().importScripts}function ti(){return(ti=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $p="firebaseLocalStorageDb",Hu="firebaseLocalStorage",Ys="fbase_key";class Qo{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Dc(y,p){return y.transaction([Hu],p?"readwrite":"readonly").objectStore(Hu)}function Jo(){const y=indexedDB.open($p,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Hu,{keyPath:Ys})}catch(k){g(k)}}),y.addEventListener("success",(0,l.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Hu)?p(b):(b.close(),yield function Ic(){const y=indexedDB.deleteDatabase($p);return new Qo(y).toPromise()}(),p(yield Jo()))}))})}function Sc(y,p,g){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,l.Z)(function*(y,p,g){const b=Dc(y,!0).put({[Ys]:p,value:g});return new Qo(b).toPromise()})).apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(y,p){const g=Dc(y,!1).get(p),b=yield new Qo(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Gp(y,p){const g=Dc(y,!0).delete(p);return new Qo(g).toPromise()}const sr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield Jo()),g.db})()}_withRetries(g){var b=this;return(0,l.Z)(function*(){let k=0;for(;;)try{const F=yield b._openDb();return yield g(F)}catch(F){if(k++>3)throw F;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return It()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=iy._getInstance(function Cc(){return It()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(k,F){return{keyProcessed:(yield g._poll()).includes(F.key)}});return function(k,F){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(k,F){return["keyChanged"]});return function(k,F){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var b,k;if(g.activeServiceWorker=yield function qn(){return ti.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Et(g.activeServiceWorker);const F=yield g.sender._send("ping",{},800);!F||(null===(b=F[0])||void 0===b?void 0:b.fulfilled)&&(null===(k=F[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Jn(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Jo();return yield Sc(g,Uu,"1"),yield Gp(g,Uu),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var k=this;return(0,l.Z)(function*(){return k._withPendingWrite((0,l.Z)(function*(){return yield k._withRetries(F=>Sc(F,g,b)),k.localCache[g]=b,k.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,l.Z)(function*(){const k=yield b._withRetries(F=>function Un(y,p){return ir.apply(this,arguments)}(F,g));return b.localCache[g]=k,k})()}_remove(g){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(k=>Gp(k,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const b=yield g._withRetries(le=>{const Ie=Dc(le,!1).getAll();return new Qo(Ie).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const k=[],F=new Set;for(const{fbase_key:le,value:Ie}of b)F.add(le),JSON.stringify(g.localCache[le])!==JSON.stringify(Ie)&&(g.notifyListeners(le,Ie),k.push(le));for(const le of Object.keys(g.localCache))g.localCache[le]&&!F.has(le)&&(g.notifyListeners(le,null),k.push(le));return k})()}notifyListeners(g,b){this.localCache[g]=b;const k=this.listeners[g];if(k)for(const F of Array.from(k))F(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Dh(y,p){return _t(y,"POST","/v2/accounts/mfaSignIn:start",Dt(y,p))}function or(){return(or=(0,l.Z)(function*(y){return(yield _t(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ac(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=k=>{const F=x("internal-error");F.customData=k,g(F)},b.type="text/javascript",b.charset="UTF-8",function Wp(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function bo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Tn=1e12;class Ya{constructor(p){this.auth=p,this.counter=Tn,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new xI(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Tn;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Tn))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var b;return null===(b=g._widgets.get(p||Tn))||void 0===b||b.execute(),""})()}}class xI{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof p?document.getElementById(p):p;P(k,"argument-error",{appName:g}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mc(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qa=bo("rcb"),Vw=new Xe(3e4,6e4);class Sh{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=dn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return P(function Ja(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(dn().grecaptcha):new Promise((b,k)=>{const F=dn().setTimeout(()=>{k(x(p,"network-request-failed"))},Vw.get());dn()[Qa]=()=>{dn().clearTimeout(F),delete dn()[Qa];const Ie=dn().grecaptcha;if(!Ie)return void k(x(p,"internal-error"));const Je=Ie.render;Ie.render=(ft,Ot)=>{const kt=Je(ft,Ot);return this.counter++,kt},this.hostLanguage=g,b(Ie)},Ac(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:Qa,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(F),k(x(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=dn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class OI{load(p){return(0,l.Z)(function*(){return new Ya(p)})()}clearedOneInstance(){}}const Kp="recaptcha",gn={theme:"light",type:"image"};class Th{constructor(p,g=Object.assign({},gn),b){this.parameters=g,this.type=Kp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=he(b),this.isInvisible="invisible"===this.parameters.size,P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof p?document.getElementById(p):p;P(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new OI:new Sh,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(F=>{const le=Ie=>{!Ie||(p.tokenChangeListeners.delete(le),F(Ie))};p.tokenChangeListeners.add(le),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){P(!this.parameters.sitekey,this.auth,"argument-error"),P(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=dn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){P(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){P(be()&&!It(),p.auth,"internal-error"),yield function zu(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Za(y){return or.apply(this,arguments)}(p.auth);P(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return P(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Si{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=ts._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function di(){return(di=(0,l.Z)(function*(y,p,g){const b=he(y),k=yield ls(b,p,(0,K.m9)(g));return new Si(k,F=>Se(b,F))})).apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y);yield qo(!1,b,"phone");const k=yield ls(b.auth,p,(0,K.m9)(g));return new Si(k,F=>At(b,F))})).apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y),k=yield ls(b.auth,p,(0,K.m9)(g));return new Si(k,F=>pr(b,F))})).apply(this,arguments)}function ls(y,p,g){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,l.Z)(function*(y,p,g){var b;const k=yield g.verify();try{let F;if(P("string"==typeof k,y,"argument-error"),P(g.type===Kp,y,"argument-error"),F="string"==typeof p?{phoneNumber:p}:p,"session"in F){const le=F.session;if("phoneNumber"in F)return P("enroll"===le.type,y,"internal-error"),(yield J_(y,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{P("signin"===le.type,y,"internal-error");const Ie=(null===(b=F.multiFactorHint)||void 0===b?void 0:b.uid)||F.multiFactorUid;return P(Ie,y,"missing-multi-factor-info"),(yield Dh(y,{mfaPendingCredential:le.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield ic(y,{phoneNumber:F.phoneNumber,recaptchaToken:k});return le}}finally{g._reset()}})).apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(y,p){yield Ps((0,K.m9)(y),p)})).apply(this,arguments)}let Js=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=he(g)}verifyPhoneNumber(g,b){return ls(this.auth,g,(0,K.m9)(b))}static credential(g,b){return ts._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:k}=g;return b&&k?ts._fromTokenResponse(b,k):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Fs(y,p){return p?Q(p):(P(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class hi extends On{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return $s(p,this._buildIdpRequest())}_linkToIdToken(p,g){return $s(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return $s(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Mh(y){return fe(y.auth,new hi(y),y.bypassAuthState)}function ea(y){const{auth:p,user:g}=y;return P(g,p,"internal-error"),j(g,new hi(y),y.bypassAuthState)}function Bw(y){return xc.apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(y){const{auth:p,user:g}=y;return P(g,p,"internal-error"),Ps(g,new hi(y),y.bypassAuthState)})).apply(this,arguments)}class Zp{constructor(p,g,b,k,F=!1){this.auth=p,this.resolver=b,this.user=k,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(b,k){p.pendingPromise={resolve:b,reject:k};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(F){p.reject(F)}});return function(b,k){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:k,postBody:F,tenantId:le,error:Ie,type:Je}=p;if(Ie)return void g.reject(Ie);const ft={auth:g.auth,requestUri:b,sessionId:k,tenantId:le||void 0,postBody:F||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Je)(ft))}catch(Ot){g.reject(Ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Mh;case"linkViaPopup":case"linkViaRedirect":return Bw;case"reauthViaPopup":case"reauthViaRedirect":return ea;default:E(this.auth,"internal-error")}}resolve(p){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kh=new Xe(2e3,1e4);function xh(){return(xh=(0,l.Z)(function*(y,p,g){const b=he(y);W(y,p,Di);const k=Fs(b,g);return new Oc(b,"signInViaPopup",p,k).executeNotNull()})).apply(this,arguments)}function Oh(){return(Oh=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y);W(b.auth,p,Di);const k=Fs(b.auth,g);return new Oc(b.auth,"reauthViaPopup",p,k,b).executeNotNull()})).apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y);W(b.auth,p,Di);const k=Fs(b.auth,g);return new Oc(b.auth,"linkViaPopup",p,k,b).executeNotNull()})).apply(this,arguments)}let Oc=(()=>{class y extends Zp{constructor(g,b,k,F,le){super(g,b,F,le),this.provider=k,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const b=yield g.execute();return P(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,l.Z)(function*(){N(1===g.filter.length,"Popup operations only handle one event");const b=Yo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(k=>{g.reject(k)}),g.resolver._isIframeWebStorageSupported(g.auth,k=>{k||g.reject(x(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(x(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,k;this.pollId=null!==(k=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(x(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,kh.get())};g()}}return y.currentPopupAction=null,y})();const ta=new Map;class na extends Zp{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let b=ta.get(g.auth._key());if(!b){try{const F=(yield function uy(y,p){return Rh.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(F)}catch(k){b=()=>Promise.reject(k)}ta.set(g.auth._key(),b)}return g.bypassAuthState||ta.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const k=yield b.auth._redirectUserForId(p.eventId);if(k)return b.user=k,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Rh(){return(Rh=(0,l.Z)(function*(y,p){const g=ar(p),b=Wu(y);if(!(yield b._isAvailable()))return!1;const k="true"===(yield b._get(g));return yield b._remove(g),k})).apply(this,arguments)}function Rc(y,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(y,p){return Wu(y)._set(ar(p),"true")})).apply(this,arguments)}function $i(y,p){ta.set(y._key(),p)}function Wu(y){return Q(y._redirectPersistence)}function ar(y){return we("pendingRedirect",y.config.apiKey,y.name)}function qu(){return(qu=(0,l.Z)(function*(y,p,g){const b=he(y);W(y,p,Di);const k=Fs(b,g);return yield Rc(k,b),k._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y);W(b.auth,p,Di);const k=Fs(b.auth,g);yield Rc(k,b.auth);const F=yield Zt(b);return k._openRedirect(b.auth,p,"reauthViaRedirect",F)})).apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(y,p,g){const b=(0,K.m9)(y);W(b.auth,p,Di);const k=Fs(b.auth,g);yield qo(!1,b,p.providerId),yield Rc(k,b.auth);const F=yield Zt(b);return k._openRedirect(b.auth,p,"linkViaRedirect",F)})).apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(y,p){return yield he(y)._initializationPromise,Zu(y,p,!1)})).apply(this,arguments)}function Zu(y,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,l.Z)(function*(y,p,g=!1){const b=he(y),k=Fs(b,p),le=yield new na(b,k,g).execute();return le&&!g&&(delete le.user._redirectEventId,yield b._persistUserIfCurrent(le.user),yield b._setRedirectUser(null,p)),le})).apply(this,arguments)}function Zt(y){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(y){const p=Yo(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Nc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Yu(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xs(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!Xs(p)){const k=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(x(this.auth,k))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fh(p))}saveEventToCache(p){this.cachedEventUids.add(Fh(p)),this.lastProcessedEventTime=Date.now()}}function Fh(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Xs({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function em(y){return tm.apply(this,arguments)}function tm(){return(tm=(0,l.Z)(function*(y,p={}){return _t(y,"GET","/v1/projects",p)})).apply(this,arguments)}const cs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nm=/^https?/;function Fc(){return(Fc=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield em(y);for(const g of p)try{if(Uw(g))return}catch{}E(y,"unauthorized-domain")})).apply(this,arguments)}function Uw(y){const p=V(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const le=new URL(y);return""===le.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&le.hostname===b}if(!nm.test(g))return!1;if(cs.test(y))return b===y;const k=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(b)}const Zr=new Xe(3e4,6e4);function Gi(){const y=dn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Vc=null;function rm(y){return Vc=Vc||function Lc(y){return new Promise((p,g)=>{var b,k,F;function le(){Gi(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Gi(),g(x(y,"network-request-failed"))},timeout:Zr.get()})}if(null!==(k=null===(b=dn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==k&&k.Iframe)p(gapi.iframes.getContext());else{if(null===(F=dn().gapi)||void 0===F||!F.load){const Ie=bo("iframefcb");return dn()[Ie]=()=>{gapi.load?le():g(x(y,"network-request-failed"))},Ac(`https://apis.google.com/js/api.js?onload=${Ie}`).catch(Je=>g(Je))}le()}}).catch(p=>{throw Vc=null,p})}(y),Vc}const hy=new Xe(5e3,15e3),Bc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vh(y){const p=y.config;P(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?on(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:O.SDK_VERSION},k=fy.get(y.config.apiHost);k&&(b.eid=k);const F=y._getFrameworks();return F.length&&(b.fw=F.join(",")),`${g}?${(0,K.xO)(b).slice(1)}`}function Eo(){return Eo=(0,l.Z)(function*(y){const p=yield rm(y),g=dn().gapi;return P(g,y,"internal-error"),p.open({where:document.body,url:Vh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bc,dontclear:!0},b=>new Promise(function(){var k=(0,l.Z)(function*(F,le){yield b.restyle({setHideOnLeave:!1});const Ie=x(y,"network-request-failed"),Je=dn().setTimeout(()=>{le(Ie)},hy.get());function ft(){dn().clearTimeout(Je),F(b)}b.ping(ft).then(ft,()=>{le(Ie)})});return function(F,le){return k.apply(this,arguments)}}()))}),Eo.apply(this,arguments)}const Wi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oa(y,p,g,b,k,F){P(y.config.authDomain,y,"auth-domain-config-required"),P(y.config.apiKey,y,"invalid-api-key");const le={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:O.SDK_VERSION,eventId:k};if(p instanceof Di){p.setDefaultLanguage(y.languageCode),le.providerId=p.providerId||"",(0,K.xb)(p.getCustomParameters())||(le.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Je,ft]of Object.entries(F||{}))le[Je]=ft}if(p instanceof ns){const Je=p.getScopes().filter(ft=>""!==ft);Je.length>0&&(le.scopes=Je.join(","))}y.tenantId&&(le.tid=y.tenantId);const Ie=le;for(const Je of Object.keys(Ie))void 0===Ie[Je]&&delete Ie[Je];return`${function sm({config:y}){return y.emulator?on(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,K.xO)(Ie).slice(1)}`}const eu="webStorageSupport";class eo extends class qi{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return L("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new eo(p)}_finalizeEnroll(p,g,b){return function Fw(y,p){return _t(y,"POST","/v2/accounts/mfaEnrollment:finalize",Dt(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Ka(y,p){return _t(y,"POST","/v2/accounts/mfaSignIn:finalize",Dt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let om=(()=>{class y{constructor(){}static assertion(g){return eo._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var am="@firebase/auth";class my{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var k;p((null===(k=b)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aa(){return window}function zc(){return(zc=(0,l.Z)(function*(y,p,g){var b;const{BuildInfo:k}=aa();N(p.sessionId,"AuthEvent did not contain a session ID");const F=yield cm(p.sessionId),le={};return Qt()?le.ibi=k.packageName:ze()?le.apn=k.packageName:E(y,"operation-not-supported-in-this-environment"),k.displayName&&(le.appDisplayName=k.displayName),le.sessionId=F,oa(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,le)})).apply(this,arguments)}function Xu(){return(Xu=(0,l.Z)(function*(y){const{BuildInfo:p}=aa(),g={};Qt()?g.iosBundleId=p.packageName:ze()?g.androidPackageName=p.packageName:E(y,"operation-not-supported-in-this-environment"),yield em(y,g)})).apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(y,p,g){const{cordova:b}=aa();let k=()=>{};try{yield new Promise((F,le)=>{let Ie=null;function Je(){var kt;F();const jr=null===(kt=b.plugins.browsertab)||void 0===kt?void 0:kt.close;"function"==typeof jr&&jr(),"function"==typeof g?.close&&g.close()}function ft(){Ie||(Ie=window.setTimeout(()=>{le(x(y,"redirect-cancelled-by-user"))},2e3))}function Ot(){"visible"===document?.visibilityState&&ft()}p.addPassiveListener(Je),document.addEventListener("resume",ft,!1),ze()&&document.addEventListener("visibilitychange",Ot,!1),k=()=>{p.removePassiveListener(Je),document.removeEventListener("resume",ft,!1),document.removeEventListener("visibilitychange",Ot,!1),Ie&&window.clearTimeout(Ie)}})}finally{k()}})).apply(this,arguments)}function cm(y){return to.apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(y){const p=jh(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function jh(y){if(N(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function gy(y){(0,O._registerComponent)(new ge.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),k=p.getProvider("heartbeat"),{apiKey:F,authDomain:le}=b.options;return((Ie,Je)=>{P(F&&!F.includes(":"),"invalid-api-key",{appName:Ie.name}),P(!le?.includes(":"),"argument-error",{appName:Ie.name});const ft={apiKey:F,authDomain:le,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:li(y)},Ot=new Ms(Ie,Je,ft);return function ee(y,p){const g=p?.persistence||[],b=(Array.isArray(g)?g:[g]).map(Q);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(Ot,g),Ot})(b,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new ge.wA("auth-internal",p=>{const g=he(p.getProvider("auth").getImmediate());return new my(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(am,"0.20.5",function Hc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,O.registerVersion)(am,"0.20.5","esm2017")}("Browser");class Hh extends Nc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function tl(y){return la.apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(y){const p=yield Co()._get(zh(y));return p&&(yield Co()._remove(zh(y))),p})).apply(this,arguments)}function $w(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Co(){return Q(vo)}function zh(y){return we("authEvent",y.config.apiKey,y.name)}function $c(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,K.zd)(g.join("?"))}function rl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:x("no-auth-event")}}function ca(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Gh(y=(0,K.z$)()){return!("file:"!==ca()&&"ionic:"!==ca()&&"capacitor:"!==ca()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function pm(){try{const y=self.localStorage,p=Yo();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Dy(y=(0,K.z$)()){return function Cy(){return(0,K.w1)()&&11===document?.documentMode}()||function Wh(y=(0,K.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,K.hl)()}catch{return qh()&&(0,K.hl)()}return!1}function qh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function da(){return(function fm(){return"http:"===ca()||"https:"===ca()}()||(0,K.ru)()||Gh())&&!function qc(){return(0,K.b$)()||(0,K.UG)()}()&&pm()&&!qh()}function Io(){return Gh()&&typeof document<"u"}function nu(){return(nu=(0,l.Z)(function*(){return!!Io()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Fi={LOCAL:"local",NONE:"none",SESSION:"session"},ha=P,Kh="persistence";function mm(y){return gm.apply(this,arguments)}function gm(){return(gm=(0,l.Z)(function*(y){yield y._initializationPromise;const p=Zc(),g=we(Kh,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Zc(){var y;try{return(null===(y=function il(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Zh=P;class So{constructor(){this.browserResolver=Q(class py{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=Zu,this._overrideRedirectResult=$i}_openPopup(p,g,b,k){var F=this;return(0,l.Z)(function*(){var le;N(null===(le=F.eventManagers[p._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Ie=oa(p,g,b,V(),k);return function Bh(y,p,g,b=500,k=600){const F=Math.max((window.screen.availHeight-k)/2,0).toString(),le=Math.max((window.screen.availWidth-b)/2,0).toString();let Ie="";const Je=Object.assign(Object.assign({},Wi),{width:b.toString(),height:k.toString(),top:F,left:le}),ft=(0,K.z$)().toLowerCase();g&&(Ie=wt(ft)?"_blank":g),Ke(ft)&&(p=p||"http://localhost",Je.scrollbars="yes");const Ot=Object.entries(Je).reduce((jr,[Ir,ru])=>`${jr}${Ir}=${ru},`,"");if(function bn(y=(0,K.z$)()){var p;return Qt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ft)&&"_self"!==Ie)return function Uh(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",Ie),new Uc(null);const kt=window.open(p||"",Ie,Ot);P(kt,y,"popup-blocked");try{kt.focus()}catch{}return new Uc(kt)}(p,Ie,Yo())})()}_openRedirect(p,g,b,k){var F=this;return(0,l.Z)(function*(){return yield F._originValidation(p),function Wa(y){dn().location.href=y}(oa(p,g,b,V(),k)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:k,promise:F}=this.eventManagers[g];return k?Promise.resolve(k):(N(F,"If manager is not set, promise should be"),F)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const b=yield function Qu(y){return Eo.apply(this,arguments)}(p),k=new Nc(p);return b.register("authEvent",F=>(P(F?.authEvent,p,"invalid-auth-event"),{status:k.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:k},g.iframes[p._key()]=b,k})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(eu,{type:eu},k=>{var F;const le=null===(F=k?.[0])||void 0===F?void 0:F[eu];void 0!==le&&g(!!le),E(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function dy(y){return Fc.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return In()||et()||Qt()}}),this.cordovaResolver=Q(class Do{constructor(){this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zu,this._overrideRedirectResult=$i}_initialize(p){var g=this;return(0,l.Z)(function*(){const b=p._key();let k=g.eventManagers.get(b);return k||(k=new Hh(p),g.eventManagers.set(b,k),g.attachCallbackListeners(p,k)),k})()}_openPopup(p){E(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,k){var F=this;return(0,l.Z)(function*(){!function tu(y){var p,g,b,k,F,le,Ie,Je,ft,Ot;const kt=aa();P("function"==typeof(null===(p=kt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),P(typeof(null===(g=kt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),P("function"==typeof(null===(F=null===(k=null===(b=kt?.cordova)||void 0===b?void 0:b.plugins)||void 0===k?void 0:k.browsertab)||void 0===F?void 0:F.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),P("function"==typeof(null===(Je=null===(Ie=null===(le=kt?.cordova)||void 0===le?void 0:le.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===Je?void 0:Je.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),P("function"==typeof(null===(Ot=null===(ft=kt?.cordova)||void 0===ft?void 0:ft.InAppBrowser)||void 0===Ot?void 0:Ot.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const le=yield F._initialize(p);yield le.initialized(),le.resetRedirect(),function ra(){ta.clear()}(),yield F._originValidation(p);const Ie=function by(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:$w(),postBody:null,tenantId:y.tenantId,error:x(y,"no-auth-event")}}(p,b,k);yield function el(y,p){return Co()._set(zh(y),p)}(p,Ie);const Je=yield function vy(y,p,g){return zc.apply(this,arguments)}(p,Ie,g),ft=yield function Pi(y){const{cordova:p}=aa();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let k=null;b?p.plugins.browsertab.openUrl(y):k=p.InAppBrowser.open(y,function wr(y=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(k)})})}(Je);return function ua(y,p,g){return Ni.apply(this,arguments)}(p,le,ft)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function lm(y){return Xu.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:k,BuildInfo:F}=aa(),le=setTimeout((0,l.Z)(function*(){yield tl(p),g.onEvent(rl())}),500),Ie=function(){var Ot=(0,l.Z)(function*(kt){clearTimeout(le);const jr=yield tl(p);let Ir=null;jr&&kt?.url&&(Ir=function dm(y,p){var g,b;const k=function $h(y){const p=$c(y),g=p.link?decodeURIComponent(p.link):void 0,b=$c(g).link,k=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return $c(k).link||k||b||g||y}(p);if(k.includes("/__/auth/callback")){const F=$c(k),le=F.firebaseError?function wy(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(F.firebaseError)):null,Ie=null===(b=null===(g=le?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Je=Ie?x(Ie):null;return Je?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Je,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:k,postBody:null}}return null}(jr,kt.url)),g.onEvent(Ir||rl())});return function(jr){return Ot.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Ie);const Je=k,ft=`${F.packageName.toLowerCase()}://`;aa().handleOpenURL=function(){var Ot=(0,l.Z)(function*(kt){if(kt.toLowerCase().startsWith(ft)&&Ie({url:kt}),"function"==typeof Je)try{Je(kt)}catch(jr){console.error(jr)}});return function(kt){return Ot.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=Zu,this._overrideRedirectResult=$i}_initialize(p){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,k){var F=this;return(0,l.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(p,g,b,k)})()}_openRedirect(p,g,b,k){var F=this;return(0,l.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(p,g,b,k)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Io()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Kc(){return nu.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function _m(y){return y.unwrap()}function Li(y){return Qh(y)}function Qh(y){const{_tokenResponse:p}=y instanceof K.ZR?y.customData:y;if(!p)return null;if(!(y instanceof K.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Js.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Gs;break;case"facebook.com":b=Va;break;case"github.com":b=Ws;break;case"twitter.com":b=Ua;break;default:const{oauthIdToken:k,oauthAccessToken:F,oauthTokenSecret:le,pendingToken:Ie,nonce:Je}=p;return F||le||k||Ie?Ie?g.startsWith("saml.")?rs._create(g,Ie):ji._fromParams({providerId:g,signInMethod:g,pendingToken:Ie,idToken:k,accessToken:F}):new Os(g).credential({idToken:k,accessToken:F,rawNonce:Je}):null}return y instanceof K.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Ln(y,p){return p.catch(g=>{throw g instanceof K.ZR&&function ym(y,p){var g,b;const k=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new Jh(y,function zp(y,p){var g;const b=(0,K.m9)(y),k=p;return P(p.customData.operationType,b,"argument-error"),P(null===(g=k.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Ga._fromError(b,k)}(y,p));else if(k){const F=Qh(p),le=p;F&&(le.credential=F,le.tenantId=k.tenantId||void 0,le.email=k.email||void 0,le.phoneNumber=k.phoneNumber||void 0)}}(y,g),g}).then(g=>{const k=g.user;return{operationType:g.operationType,credential:Li(g),additionalUserInfo:Q_(g),user:An.getOrCreate(k)}})}function sl(y,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Ln(y,g.confirm(b))}})).apply(this,arguments)}class Jh{constructor(p,g){this.resolver=g,this.auth=function Yh(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ln(_m(this.auth),this.resolver.resolveSignIn(p))}}class An{constructor(p){this._delegate=p,this.multiFactor=function ey(y){const p=(0,K.m9)(y);return Bu.has(p)||Bu.set(p,X_._fromUser(p)),Bu.get(p)}(p)}static getOrCreate(p){return An.USER_MAP.has(p)||An.USER_MAP.set(p,new An(p)),An.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,l.Z)(function*(){return Ln(g.auth,At(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,l.Z)(function*(){return sl(b.auth,function Qs(y,p,g){return Rn.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,l.Z)(function*(){return Ln(g.auth,function Ls(y,p,g){return Kn.apply(this,arguments)}(g._delegate,p,So))})()}linkWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield mm(he(g.auth)),function cy(y,p,g){return function Nh(y,p,g){return ia.apply(this,arguments)}(y,p,g)}(g._delegate,p,So)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,l.Z)(function*(){return Ln(g.auth,pr(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return sl(this.auth,function kc(y,p,g){return Xo.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Ln(this.auth,function Yp(y,p,g){return Oh.apply(this,arguments)}(this._delegate,p,So))}reauthenticateWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield mm(he(g.auth)),function Ku(y,p,g){return function ly(y,p,g){return Ph.apply(this,arguments)}(y,p,g)}(g._delegate,p,So)})()}sendEmailVerification(p){return function _h(y,p){return yh.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,l.Z)(function*(){return yield function mh(y,p){return Ha.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function vc(y,p){return vh((0,K.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function q_(y,p){return vh((0,K.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function oy(y,p){return ni.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Bp(y,p){return yc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function mc(y,p,g){return gc.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}An.USER_MAP=new WeakMap;const no=P;let Yc=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=g.options;no(k,"invalid-api-key",{appName:g.name}),no(k,"invalid-api-key",{appName:g.name});const F=typeof window<"u"?So:void 0;this._delegate=b.initialize({options:{persistence:Sy(k,g.name),popupRedirectResolver:F}}),this._delegate._updateErrorMap(De),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?An.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Ze(y,p,g){const b=he(y);P(b._canInitEmulator,b,"emulator-config-failed"),P(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const k=!!g?.disableWarnings,F=ut(p),{host:le,port:Ie}=function kn(y){const p=ut(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(b);if(k){const F=k[1];return{host:F,port:un(b.substr(F.length+1))}}{const[F,le]=b.split(":");return{host:F,port:un(le)}}}(p);b.config.emulator={url:`${F}//${le}${null===Ie?"":`:${Ie}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:le,port:Ie,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function xn(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function Ns(y,p){return _o.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return cc(this._delegate,g)}confirmPasswordReset(g,b){return function ss(y,p,g){return Dr.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var k=this;return(0,l.Z)(function*(){return Ln(k._delegate,function Kr(y,p,g){return os.apply(this,arguments)}(k._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function fc(y,p){return pc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function $_(y,p){return"EMAIL_SIGNIN"===La.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){no(da(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Xp(y,p){return wo.apply(this,arguments)}(g._delegate,So);return b?Ln(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function hm(y,p){he(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,k){const{next:F,error:le,complete:Ie}=vm(g,b,k);return this._delegate.onAuthStateChanged(F,le,Ie)}onIdTokenChanged(g,b,k){const{next:F,error:le,complete:Ie}=vm(g,b,k);return this._delegate.onIdTokenChanged(F,le,Ie)}sendSignInLinkToEmail(g,b){return function Ko(y,p,g){return as.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function rr(y,p,g){return qs.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,l.Z)(function*(){let k;switch(function Iy(y,p){ha(Object.values(Fi).includes(p),y,"invalid-persistence-type"),(0,K.b$)()?ha(p!==Fi.SESSION,y,"unsupported-persistence-type"):(0,K.UG)()?ha(p===Fi.NONE,y,"unsupported-persistence-type"):qh()?ha(p===Fi.NONE||p===Fi.LOCAL&&(0,K.hl)(),y,"unsupported-persistence-type"):ha(p===Fi.NONE||pm(),y,"unsupported-persistence-type")}(b._delegate,g),g){case Fi.SESSION:k=us;break;case Fi.LOCAL:k=(yield Q(sr)._isAvailable())?sr:vo;break;case Fi.NONE:k=an;break;default:return E("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ln(this._delegate,function hr(y){return lc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ln(this._delegate,Se(this._delegate,g))}signInWithCustomToken(g){return Ln(this._delegate,function is(y,p){return je.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Ln(this._delegate,function gh(y,p,g){return Se((0,K.m9)(y),Fu.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Ln(this._delegate,function Vp(y,p,g){return hc.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return sl(this._delegate,function $u(y,p,g){return di.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,l.Z)(function*(){return no(da(),b._delegate,"operation-not-supported-in-this-environment"),Ln(b._delegate,function ay(y,p,g){return xh.apply(this,arguments)}(b._delegate,g,So))})()}signInWithRedirect(g){var b=this;return(0,l.Z)(function*(){return no(da(),b._delegate,"operation-not-supported-in-this-environment"),yield mm(b._delegate),function Qp(y,p,g){return function Jp(y,p,g){return qu.apply(this,arguments)}(y,p,g)}(b._delegate,g,So)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function MI(y,p){return Ks.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Fi,y})();function vm(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const k=b;return{next:le=>k(le&&An.getOrCreate(le)),error:p,complete:g}}function Sy(y,p){const g=function Gw(y,p){const g=Zc();if(!g)return[];const b=we(Kh,y,p);switch(g.getItem(b)){case Fi.NONE:return[an];case Fi.LOCAL:return[sr,us];case Fi.SESSION:return[us];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(sr)&&g.push(sr),typeof window<"u")for(const b of[vo,us])g.includes(b)||g.push(b);return g.includes(an)||g.push(an),g}class To{constructor(){this.providerId="phone",this._delegate=new Js(_m(pe.Z.auth()))}static credential(p,g){return Js.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}To.PHONE_SIGN_IN_METHOD=Js.PHONE_SIGN_IN_METHOD,To.PROVIDER_ID=Js.PROVIDER_ID;const ol=P;class Xh{constructor(p,g,b=pe.Z.app()){var k;ol(null===(k=b.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Th(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function al(y){y.INTERNAL.registerComponent(new ge.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Yc(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fu,FacebookAuthProvider:Va,GithubAuthProvider:Ws,GoogleAuthProvider:Gs,OAuthProvider:Os,SAMLAuthProvider:qr,PhoneAuthProvider:To,PhoneMultiFactorGenerator:om,RecaptchaVerifier:Xh,TwitterAuthProvider:Ua,Auth:Yc,AuthCredential:On,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(pe.Z)},2916:(pt,Fe,B)=>{"use strict";B.d(Fe,{y:()=>J});var l=B(3489),K=B(7668),O=B(3292),ce=B(3821),ge=B(5379);var U=B(2830);let J=(()=>{class me{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const Oe=new me;return Oe.source=this,Oe.operator=De,Oe}subscribe(De,Oe,xe){const{operator:ke}=this,rt=function Ee(me,Ce,De){if(me){if(me instanceof l.L)return me;if(me[K.b])return me[K.b]()}return me||Ce||De?new l.L(me,Ce,De):new l.L(O.c)}(De,Oe,xe);if(rt.add(ke?ke.call(rt,this.source):this.source||U.v.useDeprecatedSynchronousErrorHandling&&!rt.syncErrorThrowable?this._subscribe(rt):this._trySubscribe(rt)),U.v.useDeprecatedSynchronousErrorHandling&&rt.syncErrorThrowable&&(rt.syncErrorThrowable=!1,rt.syncErrorThrown))throw rt.syncErrorValue;return rt}_trySubscribe(De){try{return this._subscribe(De)}catch(Oe){U.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=Oe),function pe(me){for(;me;){const{closed:Ce,destination:De,isStopped:Oe}=me;if(Ce||Oe)return!1;me=De&&De instanceof l.L?De:null}return!0}(De)?De.error(Oe):console.warn(Oe)}}forEach(De,Oe){return new(Oe=q(Oe))((xe,ke)=>{let rt;rt=this.subscribe(dt=>{try{De(dt)}catch(E){ke(E),rt&&rt.unsubscribe()}},ke,xe)})}_subscribe(De){const{source:Oe}=this;return Oe&&Oe.subscribe(De)}[ce.L](){return this}pipe(...De){return 0===De.length?this:function de(me){return 0===me.length?ge.y:1===me.length?me[0]:function(De){return me.reduce((Oe,xe)=>xe(Oe),De)}}(De)(this)}toPromise(De){return new(De=q(De))((Oe,xe)=>{let ke;this.subscribe(rt=>ke=rt,rt=>xe(rt),()=>Oe(ke))})}}return me.create=Ce=>new me(Ce),me})();function q(me){if(me||(me=U.v.Promise||Promise),!me)throw new Error("no Promise impl found");return me}},3292:(pt,Fe,B)=>{"use strict";B.d(Fe,{c:()=>K});var l=B(2830),pe=B(2782);const K={closed:!0,next(O){},error(O){if(l.v.useDeprecatedSynchronousErrorHandling)throw O;(0,pe.z)(O)},complete(){}}},8929:(pt,Fe,B)=>{"use strict";B.d(Fe,{Yc:()=>ge,xQ:()=>_e});var l=B(2916),pe=B(3489),K=B(2654),O=B(5279),Ee=B(5283),ce=B(7668);class ge extends pe.L{constructor(J){super(J),this.destination=J}}let _e=(()=>{class U extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new ge(this)}lift(q){const me=new de(this,this);return me.operator=q,me}next(q){if(this.closed)throw new O.N;if(!this.isStopped){const{observers:me}=this,Ce=me.length,De=me.slice();for(let Oe=0;Oe<Ce;Oe++)De[Oe].next(q)}}error(q){if(this.closed)throw new O.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:me}=this,Ce=me.length,De=me.slice();for(let Oe=0;Oe<Ce;Oe++)De[Oe].error(q);this.observers.length=0}complete(){if(this.closed)throw new O.N;this.isStopped=!0;const{observers:q}=this,me=q.length,Ce=q.slice();for(let De=0;De<me;De++)Ce[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new O.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new O.N;return this.hasError?(q.error(this.thrownError),K.w.EMPTY):this.isStopped?(q.complete(),K.w.EMPTY):(this.observers.push(q),new Ee.W(this,q))}asObservable(){const q=new l.y;return q.source=this,q}}return U.create=(J,q)=>new de(J,q),U})();class de extends _e{constructor(J,q){super(),this.destination=J,this.source=q}next(J){const{destination:q}=this;q&&q.next&&q.next(J)}error(J){const{destination:q}=this;q&&q.error&&this.destination.error(J)}complete(){const{destination:J}=this;J&&J.complete&&this.destination.complete()}_subscribe(J){const{source:q}=this;return q?this.source.subscribe(J):K.w.EMPTY}}},5283:(pt,Fe,B)=>{"use strict";B.d(Fe,{W:()=>pe});var l=B(2654);class pe extends l.w{constructor(O,Ee){super(),this.subject=O,this.subscriber=Ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const O=this.subject,Ee=O.observers;if(this.subject=null,!Ee||0===Ee.length||O.isStopped||O.closed)return;const ce=Ee.indexOf(this.subscriber);-1!==ce&&Ee.splice(ce,1)}}},3489:(pt,Fe,B)=>{"use strict";B.d(Fe,{L:()=>ge});var l=B(7043),pe=B(3292),K=B(2654),O=B(7668),Ee=B(2830),ce=B(2782);class ge extends K.w{constructor(U,J,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=pe.c;break;case 1:if(!U){this.destination=pe.c;break}if("object"==typeof U){U instanceof ge?(this.syncErrorThrowable=U.syncErrorThrowable,this.destination=U,U.add(this)):(this.syncErrorThrowable=!0,this.destination=new _e(this,U));break}default:this.syncErrorThrowable=!0,this.destination=new _e(this,U,J,q)}}[O.b](){return this}static create(U,J,q){const me=new ge(U,J,q);return me.syncErrorThrowable=!1,me}next(U){this.isStopped||this._next(U)}error(U){this.isStopped||(this.isStopped=!0,this._error(U))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(U){this.destination.next(U)}_error(U){this.destination.error(U),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:U}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=U,this}}class _e extends ge{constructor(U,J,q,me){super(),this._parentSubscriber=U;let Ce,De=this;(0,l.m)(J)?Ce=J:J&&(Ce=J.next,q=J.error,me=J.complete,J!==pe.c&&(De=Object.create(J),(0,l.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=Ce,this._error=q,this._complete=me}next(U){if(!this.isStopped&&this._next){const{_parentSubscriber:J}=this;Ee.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable?this.__tryOrSetError(J,this._next,U)&&this.unsubscribe():this.__tryOrUnsub(this._next,U)}}error(U){if(!this.isStopped){const{_parentSubscriber:J}=this,{useDeprecatedSynchronousErrorHandling:q}=Ee.v;if(this._error)q&&J.syncErrorThrowable?(this.__tryOrSetError(J,this._error,U),this.unsubscribe()):(this.__tryOrUnsub(this._error,U),this.unsubscribe());else if(J.syncErrorThrowable)q?(J.syncErrorValue=U,J.syncErrorThrown=!0):(0,ce.z)(U),this.unsubscribe();else{if(this.unsubscribe(),q)throw U;(0,ce.z)(U)}}}complete(){if(!this.isStopped){const{_parentSubscriber:U}=this;if(this._complete){const J=()=>this._complete.call(this._context);Ee.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?(this.__tryOrSetError(U,J),this.unsubscribe()):(this.__tryOrUnsub(J),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(U,J){try{U.call(this._context,J)}catch(q){if(this.unsubscribe(),Ee.v.useDeprecatedSynchronousErrorHandling)throw q;(0,ce.z)(q)}}__tryOrSetError(U,J,q){if(!Ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{J.call(this._context,q)}catch(me){return Ee.v.useDeprecatedSynchronousErrorHandling?(U.syncErrorValue=me,U.syncErrorThrown=!0,!0):((0,ce.z)(me),!0)}return!1}_unsubscribe(){const{_parentSubscriber:U}=this;this._context=null,this._parentSubscriber=null,U.unsubscribe()}}},2654:(pt,Fe,B)=>{"use strict";B.d(Fe,{w:()=>ce});var l=B(6688),pe=B(7830),K=B(7043);const Ee=(()=>{function _e(de){return Error.call(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((U,J)=>`${J+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de,this}return _e.prototype=Object.create(Error.prototype),_e})();class ce{constructor(de){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,de&&(this._ctorUnsubscribe=!0,this._unsubscribe=de)}unsubscribe(){let de;if(this.closed)return;let{_parentOrParents:U,_ctorUnsubscribe:J,_unsubscribe:q,_subscriptions:me}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,U instanceof ce)U.remove(this);else if(null!==U)for(let Ce=0;Ce<U.length;++Ce)U[Ce].remove(this);if((0,K.m)(q)){J&&(this._unsubscribe=void 0);try{q.call(this)}catch(Ce){de=Ce instanceof Ee?ge(Ce.errors):[Ce]}}if((0,l.k)(me)){let Ce=-1,De=me.length;for(;++Ce<De;){const Oe=me[Ce];if((0,pe.K)(Oe))try{Oe.unsubscribe()}catch(xe){de=de||[],xe instanceof Ee?de=de.concat(ge(xe.errors)):de.push(xe)}}}if(de)throw new Ee(de)}add(de){let U=de;if(!de)return ce.EMPTY;switch(typeof de){case"function":U=new ce(de);case"object":if(U===this||U.closed||"function"!=typeof U.unsubscribe)return U;if(this.closed)return U.unsubscribe(),U;if(!(U instanceof ce)){const me=U;U=new ce,U._subscriptions=[me]}break;default:throw new Error("unrecognized teardown "+de+" added to Subscription.")}let{_parentOrParents:J}=U;if(null===J)U._parentOrParents=this;else if(J instanceof ce){if(J===this)return U;U._parentOrParents=[J,this]}else{if(-1!==J.indexOf(this))return U;J.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[U]:q.push(U),U}remove(de){const U=this._subscriptions;if(U){const J=U.indexOf(de);-1!==J&&U.splice(J,1)}}}var _e;function ge(_e){return _e.reduce((de,U)=>de.concat(U instanceof Ee?U.errors:U),[])}ce.EMPTY=((_e=new ce).closed=!0,_e)},2830:(pt,Fe,B)=>{"use strict";B.d(Fe,{v:()=>pe});let l=!1;const pe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(K){if(K){const O=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+O.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=K},get useDeprecatedSynchronousErrorHandling(){return l}}},1177:(pt,Fe,B)=>{"use strict";B.d(Fe,{Ds:()=>ce,IY:()=>O,ft:()=>_e});var l=B(3489),pe=B(2916),K=B(9249);class O extends l.L{constructor(U){super(),this.parent=U}_next(U){this.parent.notifyNext(U)}_error(U){this.parent.notifyError(U),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends l.L{notifyNext(U){this.destination.next(U)}notifyError(U){this.destination.error(U)}notifyComplete(){this.destination.complete()}}function _e(de,U){if(U.closed)return;if(de instanceof pe.y)return de.subscribe(U);let J;try{J=(0,K.s)(de)(U)}catch(q){U.error(q)}return J}},1762:(pt,Fe,B)=>{"use strict";B.d(Fe,{N:()=>ce,c:()=>Ee});var l=B(8929),pe=B(2916),K=B(2654),O=B(4327);class Ee extends pe.y{constructor(J,q){super(),this.source=J,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let J=this._connection;return J||(this._isComplete=!1,J=this._connection=new K.w,J.add(this.source.subscribe(new ge(this.getSubject(),this))),J.closed&&(this._connection=null,J=K.w.EMPTY)),J}refCount(){return(0,O.x)()(this)}}const ce=(()=>{const U=Ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:U._subscribe},_isComplete:{value:U._isComplete,writable:!0},getSubject:{value:U.getSubject},connect:{value:U.connect},refCount:{value:U.refCount}}})();class ge extends l.Yc{constructor(J,q){super(J),this.connectable=q}_error(J){this._unsubscribe(),super._error(J)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const J=this.connectable;if(J){this.connectable=null;const q=J._connection;J._refCount=0,J._subject=null,J._connection=null,q&&q.unsubscribe()}}}},8896:(pt,Fe,B)=>{"use strict";B.d(Fe,{E:()=>pe,c:()=>K});var l=B(2916);const pe=new l.y(Ee=>Ee.complete());function K(Ee){return Ee?function O(Ee){return new l.y(ce=>Ee.schedule(()=>ce.complete()))}(Ee):pe}},5254:(pt,Fe,B)=>{"use strict";B.d(Fe,{D:()=>De});var l=B(2916),pe=B(9249),K=B(2654),O=B(3821),ge=B(6454),_e=B(5430),J=B(8955),q=B(8515);function De(Oe,xe){return xe?function Ce(Oe,xe){if(null!=Oe){if(function U(Oe){return Oe&&"function"==typeof Oe[O.L]}(Oe))return function Ee(Oe,xe){return new l.y(ke=>{const rt=new K.w;return rt.add(xe.schedule(()=>{const dt=Oe[O.L]();rt.add(dt.subscribe({next(E){rt.add(xe.schedule(()=>ke.next(E)))},error(E){rt.add(xe.schedule(()=>ke.error(E)))},complete(){rt.add(xe.schedule(()=>ke.complete()))}}))})),rt})}(Oe,xe);if((0,J.t)(Oe))return function ce(Oe,xe){return new l.y(ke=>{const rt=new K.w;return rt.add(xe.schedule(()=>Oe.then(dt=>{rt.add(xe.schedule(()=>{ke.next(dt),rt.add(xe.schedule(()=>ke.complete()))}))},dt=>{rt.add(xe.schedule(()=>ke.error(dt)))}))),rt})}(Oe,xe);if((0,q.z)(Oe))return(0,ge.r)(Oe,xe);if(function me(Oe){return Oe&&"function"==typeof Oe[_e.hZ]}(Oe)||"string"==typeof Oe)return function de(Oe,xe){if(!Oe)throw new Error("Iterable cannot be null");return new l.y(ke=>{const rt=new K.w;let dt;return rt.add(()=>{dt&&"function"==typeof dt.return&&dt.return()}),rt.add(xe.schedule(()=>{dt=Oe[_e.hZ](),rt.add(xe.schedule(function(){if(ke.closed)return;let E,x;try{const T=dt.next();E=T.value,x=T.done}catch(T){return void ke.error(T)}x?ke.complete():(ke.next(E),this.schedule())}))})),rt})}(Oe,xe)}throw new TypeError((null!==Oe&&typeof Oe||Oe)+" is not observable")}(Oe,xe):Oe instanceof l.y?Oe:new l.y((0,pe.s)(Oe))}},3009:(pt,Fe,B)=>{"use strict";B.d(Fe,{n:()=>O});var l=B(2916),pe=B(3650),K=B(6454);function O(Ee,ce){return ce?(0,K.r)(Ee,ce):new l.y((0,pe.V)(Ee))}},6787:(pt,Fe,B)=>{"use strict";B.d(Fe,{T:()=>Ee});var l=B(2916),pe=B(2866),K=B(9146),O=B(3009);function Ee(...ce){let ge=Number.POSITIVE_INFINITY,_e=null,de=ce[ce.length-1];return(0,pe.K)(de)?(_e=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(ge=ce.pop())):"number"==typeof de&&(ge=ce.pop()),null===_e&&1===ce.length&&ce[0]instanceof l.y?ce[0]:(0,K.J)(ge)((0,O.n)(ce,_e))}},1086:(pt,Fe,B)=>{"use strict";B.d(Fe,{of:()=>O});var l=B(2866),pe=B(3009),K=B(6454);function O(...Ee){let ce=Ee[Ee.length-1];return(0,l.K)(ce)?(Ee.pop(),(0,K.r)(Ee,ce)):(0,pe.n)(Ee)}},1737:(pt,Fe,B)=>{"use strict";B.d(Fe,{_:()=>pe});var l=B(2916);function pe(O,Ee){return new l.y(Ee?ce=>Ee.schedule(K,0,{error:O,subscriber:ce}):ce=>ce.error(O))}function K({error:O,subscriber:Ee}){Ee.error(O)}},4850:(pt,Fe,B)=>{"use strict";B.d(Fe,{U:()=>pe});var l=B(3489);function pe(Ee,ce){return function(_e){if("function"!=typeof Ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return _e.lift(new K(Ee,ce))}}class K{constructor(ce,ge){this.project=ce,this.thisArg=ge}call(ce,ge){return ge.subscribe(new O(ce,this.project,this.thisArg))}}class O extends l.L{constructor(ce,ge,_e){super(ce),this.project=ge,this.count=0,this.thisArg=_e||this}_next(ce){let ge;try{ge=this.project.call(this.thisArg,ce,this.count++)}catch(_e){return void this.destination.error(_e)}this.destination.next(ge)}}},9146:(pt,Fe,B)=>{"use strict";B.d(Fe,{J:()=>K});var l=B(1709),pe=B(5379);function K(O=Number.POSITIVE_INFINITY){return(0,l.zg)(pe.y,O)}},1709:(pt,Fe,B)=>{"use strict";B.d(Fe,{zg:()=>O});var l=B(4850),pe=B(5254),K=B(1177);function O(_e,de,U=Number.POSITIVE_INFINITY){return"function"==typeof de?J=>J.pipe(O((q,me)=>(0,pe.D)(_e(q,me)).pipe((0,l.U)((Ce,De)=>de(q,Ce,me,De))),U)):("number"==typeof de&&(U=de),J=>J.lift(new Ee(_e,U)))}class Ee{constructor(de,U=Number.POSITIVE_INFINITY){this.project=de,this.concurrent=U}call(de,U){return U.subscribe(new ce(de,this.project,this.concurrent))}}class ce extends K.Ds{constructor(de,U,J=Number.POSITIVE_INFINITY){super(de),this.project=U,this.concurrent=J,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(de){this.active<this.concurrent?this._tryNext(de):this.buffer.push(de)}_tryNext(de){let U;const J=this.index++;try{U=this.project(de,J)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(U)}_innerSub(de){const U=new K.IY(this),J=this.destination;J.add(U);const q=(0,K.ft)(de,U);q!==U&&J.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(de){this.destination.next(de)}notifyComplete(){const de=this.buffer;this.active--,de.length>0?this._next(de.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(pt,Fe,B)=>{"use strict";B.d(Fe,{ht:()=>de,QV:()=>ge});var l=B(3489),pe=B(8896),K=B(1086),O=B(1737);class ce{constructor(q,me,Ce){this.kind=q,this.value=me,this.error=Ce,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,me,Ce){switch(this.kind){case"N":return q&&q(this.value);case"E":return me&&me(this.error);case"C":return Ce&&Ce()}}accept(q,me,Ce){return q&&"function"==typeof q.next?this.observe(q):this.do(q,me,Ce)}toObservable(){switch(this.kind){case"N":return(0,K.of)(this.value);case"E":return(0,O._)(this.error);case"C":return(0,pe.c)()}throw new Error("unexpected notification kind value")}static createNext(q){return typeof q<"u"?new ce("N",q):ce.undefinedValueNotification}static createError(q){return new ce("E",void 0,q)}static createComplete(){return ce.completeNotification}}function ge(J,q=0){return function(Ce){return Ce.lift(new _e(J,q))}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0);class _e{constructor(q,me=0){this.scheduler=q,this.delay=me}call(q,me){return me.subscribe(new de(q,this.scheduler,this.delay))}}class de extends l.L{constructor(q,me,Ce=0){super(q),this.scheduler=me,this.delay=Ce}static dispatch(q){const{notification:me,destination:Ce}=q;me.observe(Ce),this.unsubscribe()}scheduleMessage(q){this.destination.add(this.scheduler.schedule(de.dispatch,this.delay,new U(q,this.destination)))}_next(q){this.scheduleMessage(ce.createNext(q))}_error(q){this.scheduleMessage(ce.createError(q)),this.unsubscribe()}_complete(){this.scheduleMessage(ce.createComplete()),this.unsubscribe()}}class U{constructor(q,me){this.notification=q,this.destination=me}}},4327:(pt,Fe,B)=>{"use strict";B.d(Fe,{x:()=>pe});var l=B(3489);function pe(){return function(ce){return ce.lift(new K(ce))}}class K{constructor(ce){this.connectable=ce}call(ce,ge){const{connectable:_e}=this;_e._refCount++;const de=new O(ce,_e),U=ge.subscribe(de);return de.closed||(de.connection=_e.connect()),U}}class O extends l.L{constructor(ce,ge){super(ce),this.connectable=ge}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const ge=ce._refCount;if(ge<=0)return void(this.connection=null);if(ce._refCount=ge-1,ge>1)return void(this.connection=null);const{connection:_e}=this,de=ce._connection;this.connection=null,de&&(!_e||de===_e)&&de.unsubscribe()}}},2474:(pt,Fe,B)=>{"use strict";B.d(Fe,{B:()=>ge});var l=B(1762);class K{constructor(de,U){this.subjectFactory=de,this.selector=U}call(de,U){const{selector:J}=this,q=this.subjectFactory(),me=J(q).subscribe(de);return me.add(U.subscribe(q)),me}}var O=B(4327),Ee=B(8929);function ce(){return new Ee.xQ}function ge(){return _e=>(0,O.x)()(function pe(_e,de){return function(J){let q;if(q="function"==typeof _e?_e:function(){return _e},"function"==typeof de)return J.lift(new K(q,de));const me=Object.create(J,l.N);return me.source=J,me.subjectFactory=q,me}}(ce)(_e))}},3334:(pt,Fe,B)=>{"use strict";B.d(Fe,{R:()=>Ee});var l=B(2916),pe=B(8139),K=B(4241);class O extends l.y{constructor(_e,de=0,U=pe.e){super(),this.source=_e,this.delayTime=de,this.scheduler=U,(!(0,K.k)(de)||de<0)&&(this.delayTime=0),(!U||"function"!=typeof U.schedule)&&(this.scheduler=pe.e)}static create(_e,de=0,U=pe.e){return new O(_e,de,U)}static dispatch(_e){const{source:de,subscriber:U}=_e;return this.add(de.subscribe(U))}_subscribe(_e){return this.scheduler.schedule(O.dispatch,this.delayTime,{source:this.source,subscriber:_e})}}function Ee(ge,_e=0){return function(U){return U.lift(new ce(ge,_e))}}class ce{constructor(_e,de){this.scheduler=_e,this.delay=de}call(_e,de){return new O(de,this.delay,this.scheduler).subscribe(_e)}}},2868:(pt,Fe,B)=>{"use strict";B.d(Fe,{b:()=>O});var l=B(3489);function pe(){}var K=B(7043);function O(ge,_e,de){return function(J){return J.lift(new Ee(ge,_e,de))}}class Ee{constructor(_e,de,U){this.nextOrObserver=_e,this.error=de,this.complete=U}call(_e,de){return de.subscribe(new ce(_e,this.nextOrObserver,this.error,this.complete))}}class ce extends l.L{constructor(_e,de,U,J){super(_e),this._tapNext=pe,this._tapError=pe,this._tapComplete=pe,this._tapError=U||pe,this._tapComplete=J||pe,(0,K.m)(de)?(this._context=this,this._tapNext=de):de&&(this._context=de,this._tapNext=de.next||pe,this._tapError=de.error||pe,this._tapComplete=de.complete||pe)}_next(_e){try{this._tapNext.call(this._context,_e)}catch(de){return void this.destination.error(de)}this.destination.next(_e)}_error(_e){try{this._tapError.call(this._context,_e)}catch(de){return void this.destination.error(de)}this.destination.error(_e)}_complete(){try{this._tapComplete.call(this._context)}catch(_e){return void this.destination.error(_e)}return this.destination.complete()}}},6454:(pt,Fe,B)=>{"use strict";B.d(Fe,{r:()=>K});var l=B(2916),pe=B(2654);function K(O,Ee){return new l.y(ce=>{const ge=new pe.w;let _e=0;return ge.add(Ee.schedule(function(){_e!==O.length?(ce.next(O[_e++]),ce.closed||ge.add(this.schedule())):ce.complete()})),ge})}},6686:(pt,Fe,B)=>{"use strict";B.d(Fe,{o:()=>K});var l=B(2654);class pe extends l.w{constructor(Ee,ce){super()}schedule(Ee,ce=0){return this}}class K extends pe{constructor(Ee,ce){super(Ee,ce),this.scheduler=Ee,this.work=ce,this.pending=!1}schedule(Ee,ce=0){if(this.closed)return this;this.state=Ee;const ge=this.id,_e=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(_e,ge,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(_e,this.id,ce),this}requestAsyncId(Ee,ce,ge=0){return setInterval(Ee.flush.bind(Ee,this),ge)}recycleAsyncId(Ee,ce,ge=0){if(null!==ge&&this.delay===ge&&!1===this.pending)return ce;clearInterval(ce)}execute(Ee,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(Ee,ce);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ce){let _e,ge=!1;try{this.work(Ee)}catch(de){ge=!0,_e=!!de&&de||new Error(de)}if(ge)return this.unsubscribe(),_e}_unsubscribe(){const Ee=this.id,ce=this.scheduler,ge=ce.actions,_e=ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==_e&&ge.splice(_e,1),null!=Ee&&(this.id=this.recycleAsyncId(ce,Ee,null)),this.delay=null}}},2268:(pt,Fe,B)=>{"use strict";B.d(Fe,{v:()=>pe});let l=(()=>{class K{constructor(Ee,ce=K.now){this.SchedulerAction=Ee,this.now=ce}schedule(Ee,ce=0,ge){return new this.SchedulerAction(this,Ee).schedule(ge,ce)}}return K.now=()=>Date.now(),K})();class pe extends l{constructor(O,Ee=l.now){super(O,()=>pe.delegate&&pe.delegate!==this?pe.delegate.now():Ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(O,Ee=0,ce){return pe.delegate&&pe.delegate!==this?pe.delegate.schedule(O,Ee,ce):super.schedule(O,Ee,ce)}flush(O){const{actions:Ee}=this;if(this.active)return void Ee.push(O);let ce;this.active=!0;do{if(ce=O.execute(O.state,O.delay))break}while(O=Ee.shift());if(this.active=!1,ce){for(;O=Ee.shift();)O.unsubscribe();throw ce}}}},8139:(pt,Fe,B)=>{"use strict";B.d(Fe,{e:()=>q,E:()=>J});let l=1;const pe=Promise.resolve(),K={};function O(me){return me in K&&(delete K[me],!0)}const Ee={setImmediate(me){const Ce=l++;return K[Ce]=!0,pe.then(()=>O(Ce)&&me()),Ce},clearImmediate(me){O(me)}};var ge=B(6686),de=B(2268);const J=new class U extends de.v{flush(Ce){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let Oe,xe=-1,ke=De.length;Ce=Ce||De.shift();do{if(Oe=Ce.execute(Ce.state,Ce.delay))break}while(++xe<ke&&(Ce=De.shift()));if(this.active=!1,Oe){for(;++xe<ke&&(Ce=De.shift());)Ce.unsubscribe();throw Oe}}}(class _e extends ge.o{constructor(Ce,De){super(Ce,De),this.scheduler=Ce,this.work=De}requestAsyncId(Ce,De,Oe=0){return null!==Oe&&Oe>0?super.requestAsyncId(Ce,De,Oe):(Ce.actions.push(this),Ce.scheduled||(Ce.scheduled=Ee.setImmediate(Ce.flush.bind(Ce,null))))}recycleAsyncId(Ce,De,Oe=0){if(null!==Oe&&Oe>0||null===Oe&&this.delay>0)return super.recycleAsyncId(Ce,De,Oe);0===Ce.actions.length&&(Ee.clearImmediate(De),Ce.scheduled=void 0)}}),q=J},353:(pt,Fe,B)=>{"use strict";B.d(Fe,{P:()=>O,z:()=>K});var l=B(6686);const K=new(B(2268).v)(l.o),O=K},341:(pt,Fe,B)=>{"use strict";B.d(Fe,{c:()=>ce,N:()=>Ee});var l=B(6686),K=B(2268);const Ee=new class O extends K.v{}(class pe extends l.o{constructor(_e,de){super(_e,de),this.scheduler=_e,this.work=de}schedule(_e,de=0){return de>0?super.schedule(_e,de):(this.delay=de,this.state=_e,this.scheduler.flush(this),this)}execute(_e,de){return de>0||this.closed?super.execute(_e,de):this._execute(_e,de)}requestAsyncId(_e,de,U=0){return null!==U&&U>0||null===U&&this.delay>0?super.requestAsyncId(_e,de,U):_e.flush(this)}}),ce=Ee},5430:(pt,Fe,B)=>{"use strict";B.d(Fe,{hZ:()=>pe});const pe=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(pt,Fe,B)=>{"use strict";B.d(Fe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(pt,Fe,B)=>{"use strict";B.d(Fe,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(pt,Fe,B)=>{"use strict";B.d(Fe,{N:()=>pe});const pe=(()=>{function K(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return K.prototype=Object.create(Error.prototype),K})()},2782:(pt,Fe,B)=>{"use strict";function l(pe){setTimeout(()=>{throw pe},0)}B.d(Fe,{z:()=>l})},5379:(pt,Fe,B)=>{"use strict";function l(pe){return pe}B.d(Fe,{y:()=>l})},6688:(pt,Fe,B)=>{"use strict";B.d(Fe,{k:()=>l});const l=Array.isArray||(pe=>pe&&"number"==typeof pe.length)},8515:(pt,Fe,B)=>{"use strict";B.d(Fe,{z:()=>l});const l=pe=>pe&&"number"==typeof pe.length&&"function"!=typeof pe},7043:(pt,Fe,B)=>{"use strict";function l(pe){return"function"==typeof pe}B.d(Fe,{m:()=>l})},4241:(pt,Fe,B)=>{"use strict";B.d(Fe,{k:()=>pe});var l=B(6688);function pe(K){return!(0,l.k)(K)&&K-parseFloat(K)+1>=0}},7830:(pt,Fe,B)=>{"use strict";function l(pe){return null!==pe&&"object"==typeof pe}B.d(Fe,{K:()=>l})},8955:(pt,Fe,B)=>{"use strict";function l(pe){return!!pe&&"function"!=typeof pe.subscribe&&"function"==typeof pe.then}B.d(Fe,{t:()=>l})},2866:(pt,Fe,B)=>{"use strict";function l(pe){return pe&&"function"==typeof pe.schedule}B.d(Fe,{K:()=>l})},9249:(pt,Fe,B)=>{"use strict";B.d(Fe,{s:()=>J});var l=B(3650),pe=B(2782),O=B(5430),ce=B(3821),_e=B(8515),de=B(8955),U=B(7830);const J=q=>{if(q&&"function"==typeof q[ce.L])return(q=>me=>{const Ce=q[ce.L]();if("function"!=typeof Ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ce.subscribe(me)})(q);if((0,_e.z)(q))return(0,l.V)(q);if((0,de.t)(q))return(q=>me=>(q.then(Ce=>{me.closed||(me.next(Ce),me.complete())},Ce=>me.error(Ce)).then(null,pe.z),me))(q);if(q&&"function"==typeof q[O.hZ])return(q=>me=>{const Ce=q[O.hZ]();for(;;){let De;try{De=Ce.next()}catch(Oe){return me.error(Oe),me}if(De.done){me.complete();break}if(me.next(De.value),me.closed)break}return"function"==typeof Ce.return&&me.add(()=>{Ce.return&&Ce.return()}),me})(q);{const Ce=`You provided ${(0,U.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ce)}}},3650:(pt,Fe,B)=>{"use strict";B.d(Fe,{V:()=>l});const l=pe=>K=>{for(let O=0,Ee=pe.length;O<Ee&&!K.closed;O++)K.next(pe[O]);K.complete()}},4767:function(pt,Fe,B){var l;(function(){function pe(E){"use strict";var x={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `\xab\xab\xab` and `\xbb\xbb\xbb` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===E)return JSON.parse(JSON.stringify(x));var T={};for(var W in x)x.hasOwnProperty(W)&&(T[W]=x[W].defaultValue);return T}var O={},Ee={},ce={},ge=pe(!0),_e="vanilla",de={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:pe(!0),allOn:function K(){"use strict";var E=pe(!0),x={};for(var T in E)E.hasOwnProperty(T)&&(x[T]=!0);return x}()};function U(E,x){"use strict";var T=x?"Error in "+x+" extension->":"Error in unnamed extension",W={valid:!0,error:""};O.helper.isArray(E)||(E=[E]);for(var Y=0;Y<E.length;++Y){var P=T+" sub-extension "+Y+": ",L=E[Y];if("object"!=typeof L)return W.valid=!1,W.error=P+"must be an object, but "+typeof L+" given",W;if(!O.helper.isString(L.type))return W.valid=!1,W.error=P+'property "type" must be a string, but '+typeof L.type+" given",W;var N=L.type=L.type.toLowerCase();if("language"===N&&(N=L.type="lang"),"html"===N&&(N=L.type="output"),"lang"!==N&&"output"!==N&&"listener"!==N)return W.valid=!1,W.error=P+"type "+N+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',W;if("listener"===N){if(O.helper.isUndefined(L.listeners))return W.valid=!1,W.error=P+'. Extensions of type "listener" must have a property called "listeners"',W}else if(O.helper.isUndefined(L.filter)&&O.helper.isUndefined(L.regex))return W.valid=!1,W.error=P+N+' extensions must define either a "regex" property or a "filter" method',W;if(L.listeners){if("object"!=typeof L.listeners)return W.valid=!1,W.error=P+'"listeners" property must be an object but '+typeof L.listeners+" given",W;for(var ne in L.listeners)if(L.listeners.hasOwnProperty(ne)&&"function"!=typeof L.listeners[ne])return W.valid=!1,W.error=P+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+ne+" must be a function but "+typeof L.listeners[ne]+" given",W}if(L.filter){if("function"!=typeof L.filter)return W.valid=!1,W.error=P+'"filter" must be a function, but '+typeof L.filter+" given",W}else if(L.regex){if(O.helper.isString(L.regex)&&(L.regex=new RegExp(L.regex,"g")),!(L.regex instanceof RegExp))return W.valid=!1,W.error=P+'"regex" property must either be a string or a RegExp object, but '+typeof L.regex+" given",W;if(O.helper.isUndefined(L.replace))return W.valid=!1,W.error=P+'"regex" extensions must implement a replace string or function',W}}return W}function J(E,x){"use strict";return"\xa8E"+x.charCodeAt(0)+"E"}O.helper={},O.extensions={},O.setOption=function(E,x){"use strict";return ge[E]=x,this},O.getOption=function(E){"use strict";return ge[E]},O.getOptions=function(){"use strict";return ge},O.resetOptions=function(){"use strict";ge=pe(!0)},O.setFlavor=function(E){"use strict";if(!de.hasOwnProperty(E))throw Error(E+" flavor was not found");O.resetOptions();var x=de[E];for(var T in _e=E,x)x.hasOwnProperty(T)&&(ge[T]=x[T])},O.getFlavor=function(){"use strict";return _e},O.getFlavorOptions=function(E){"use strict";if(de.hasOwnProperty(E))return de[E]},O.getDefaultOptions=function(E){"use strict";return pe(E)},O.subParser=function(E,x){"use strict";if(O.helper.isString(E)){if(!(typeof x<"u")){if(Ee.hasOwnProperty(E))return Ee[E];throw Error("SubParser named "+E+" not registered!")}Ee[E]=x}},O.extension=function(E,x){"use strict";if(!O.helper.isString(E))throw Error("Extension 'name' must be a string");if(E=O.helper.stdExtName(E),O.helper.isUndefined(x)){if(!ce.hasOwnProperty(E))throw Error("Extension named "+E+" is not registered!");return ce[E]}"function"==typeof x&&(x=x()),O.helper.isArray(x)||(x=[x]);var T=U(x,E);if(!T.valid)throw Error(T.error);ce[E]=x},O.getAllExtensions=function(){"use strict";return ce},O.removeExtension=function(E){"use strict";delete ce[E]},O.resetExtensions=function(){"use strict";ce={}},O.validateExtension=function(E){"use strict";var x=U(E,null);return!!x.valid||(console.warn(x.error),!1)},O.hasOwnProperty("helper")||(O.helper={}),O.helper.isString=function(E){"use strict";return"string"==typeof E||E instanceof String},O.helper.isFunction=function(E){"use strict";return E&&"[object Function]"==={}.toString.call(E)},O.helper.isArray=function(E){"use strict";return Array.isArray(E)},O.helper.isUndefined=function(E){"use strict";return typeof E>"u"},O.helper.forEach=function(E,x){"use strict";if(O.helper.isUndefined(E))throw new Error("obj param is required");if(O.helper.isUndefined(x))throw new Error("callback param is required");if(!O.helper.isFunction(x))throw new Error("callback param must be a function/closure");if("function"==typeof E.forEach)E.forEach(x);else if(O.helper.isArray(E))for(var T=0;T<E.length;T++)x(E[T],T,E);else{if("object"!=typeof E)throw new Error("obj does not seem to be an array or an iterable object");for(var W in E)E.hasOwnProperty(W)&&x(E[W],W,E)}},O.helper.stdExtName=function(E){"use strict";return E.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},O.helper.escapeCharactersCallback=J,O.helper.escapeCharacters=function(E,x,T){"use strict";var W="(["+x.replace(/([\[\]\\])/g,"\\$1")+"])";T&&(W="\\\\"+W);var Y=new RegExp(W,"g");return E.replace(Y,J)},O.helper.unescapeHTMLEntities=function(E){"use strict";return E.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var q=function(E,x,T,W){"use strict";var Q,re,ee,V,be,Y=W||"",P=Y.indexOf("g")>-1,L=new RegExp(x+"|"+T,"g"+Y.replace(/g/g,"")),N=new RegExp(x,Y.replace(/g/g,"")),ne=[];do{for(Q=0;ee=L.exec(E);)if(N.test(ee[0]))Q++||(V=(re=L.lastIndex)-ee[0].length);else if(Q&&!--Q&&(ne.push({left:{start:V,end:re},match:{start:re,end:ee.index},right:{start:ee.index,end:be=ee.index+ee[0].length},wholeMatch:{start:V,end:be}}),!P))return ne}while(Q&&(L.lastIndex=re));return ne};O.helper.matchRecursiveRegExp=function(E,x,T,W){"use strict";for(var Y=q(E,x,T,W),P=[],L=0;L<Y.length;++L)P.push([E.slice(Y[L].wholeMatch.start,Y[L].wholeMatch.end),E.slice(Y[L].match.start,Y[L].match.end),E.slice(Y[L].left.start,Y[L].left.end),E.slice(Y[L].right.start,Y[L].right.end)]);return P},O.helper.replaceRecursiveRegExp=function(E,x,T,W,Y){"use strict";if(!O.helper.isFunction(x)){var P=x;x=function(){return P}}var L=q(E,T,W,Y),N=E,ne=L.length;if(ne>0){var Q=[];0!==L[0].wholeMatch.start&&Q.push(E.slice(0,L[0].wholeMatch.start));for(var re=0;re<ne;++re)Q.push(x(E.slice(L[re].wholeMatch.start,L[re].wholeMatch.end),E.slice(L[re].match.start,L[re].match.end),E.slice(L[re].left.start,L[re].left.end),E.slice(L[re].right.start,L[re].right.end))),re<ne-1&&Q.push(E.slice(L[re].wholeMatch.end,L[re+1].wholeMatch.start));L[ne-1].wholeMatch.end<E.length&&Q.push(E.slice(L[ne-1].wholeMatch.end)),N=Q.join("")}return N},O.helper.regexIndexOf=function(E,x,T){"use strict";if(!O.helper.isString(E))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(x instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var W=E.substring(T||0).search(x);return W>=0?W+(T||0):W},O.helper.splitAtIndex=function(E,x){"use strict";if(!O.helper.isString(E))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[E.substring(0,x),E.substring(x)]},O.helper.encodeEmailAddress=function(E){"use strict";var x=[function(T){return"&#"+T.charCodeAt(0)+";"},function(T){return"&#x"+T.charCodeAt(0).toString(16)+";"},function(T){return T}];return E.replace(/./g,function(T){if("@"===T)T=x[Math.floor(2*Math.random())](T);else{var W=Math.random();T=W>.9?x[2](T):W>.45?x[1](T):x[0](T)}return T})},O.helper.padEnd=function(x,T,W){"use strict";return T>>=0,W=String(W||" "),x.length>T?String(x):((T-=x.length)>W.length&&(W+=W.repeat(T/W.length)),String(x)+W.slice(0,T))},typeof console>"u"&&(console={warn:function(E){"use strict";alert(E)},log:function(E){"use strict";alert(E)},error:function(E){"use strict";throw E}}),O.helper.regexes={asteriskDashAndColon:/([*_:~])/g},O.helper.emojis={"+1":"\u{1f44d}","-1":"\u{1f44e}",100:"\u{1f4af}",1234:"\u{1f522}","1st_place_medal":"\u{1f947}","2nd_place_medal":"\u{1f948}","3rd_place_medal":"\u{1f949}","8ball":"\u{1f3b1}",a:"\u{1f170}\ufe0f",ab:"\u{1f18e}",abc:"\u{1f524}",abcd:"\u{1f521}",accept:"\u{1f251}",aerial_tramway:"\u{1f6a1}",airplane:"\u2708\ufe0f",alarm_clock:"\u23f0",alembic:"\u2697\ufe0f",alien:"\u{1f47d}",ambulance:"\u{1f691}",amphora:"\u{1f3fa}",anchor:"\u2693\ufe0f",angel:"\u{1f47c}",anger:"\u{1f4a2}",angry:"\u{1f620}",anguished:"\u{1f627}",ant:"\u{1f41c}",apple:"\u{1f34e}",aquarius:"\u2652\ufe0f",aries:"\u2648\ufe0f",arrow_backward:"\u25c0\ufe0f",arrow_double_down:"\u23ec",arrow_double_up:"\u23eb",arrow_down:"\u2b07\ufe0f",arrow_down_small:"\u{1f53d}",arrow_forward:"\u25b6\ufe0f",arrow_heading_down:"\u2935\ufe0f",arrow_heading_up:"\u2934\ufe0f",arrow_left:"\u2b05\ufe0f",arrow_lower_left:"\u2199\ufe0f",arrow_lower_right:"\u2198\ufe0f",arrow_right:"\u27a1\ufe0f",arrow_right_hook:"\u21aa\ufe0f",arrow_up:"\u2b06\ufe0f",arrow_up_down:"\u2195\ufe0f",arrow_up_small:"\u{1f53c}",arrow_upper_left:"\u2196\ufe0f",arrow_upper_right:"\u2197\ufe0f",arrows_clockwise:"\u{1f503}",arrows_counterclockwise:"\u{1f504}",art:"\u{1f3a8}",articulated_lorry:"\u{1f69b}",artificial_satellite:"\u{1f6f0}",astonished:"\u{1f632}",athletic_shoe:"\u{1f45f}",atm:"\u{1f3e7}",atom_symbol:"\u269b\ufe0f",avocado:"\u{1f951}",b:"\u{1f171}\ufe0f",baby:"\u{1f476}",baby_bottle:"\u{1f37c}",baby_chick:"\u{1f424}",baby_symbol:"\u{1f6bc}",back:"\u{1f519}",bacon:"\u{1f953}",badminton:"\u{1f3f8}",baggage_claim:"\u{1f6c4}",baguette_bread:"\u{1f956}",balance_scale:"\u2696\ufe0f",balloon:"\u{1f388}",ballot_box:"\u{1f5f3}",ballot_box_with_check:"\u2611\ufe0f",bamboo:"\u{1f38d}",banana:"\u{1f34c}",bangbang:"\u203c\ufe0f",bank:"\u{1f3e6}",bar_chart:"\u{1f4ca}",barber:"\u{1f488}",baseball:"\u26be\ufe0f",basketball:"\u{1f3c0}",basketball_man:"\u26f9\ufe0f",basketball_woman:"\u26f9\ufe0f&zwj;\u2640\ufe0f",bat:"\u{1f987}",bath:"\u{1f6c0}",bathtub:"\u{1f6c1}",battery:"\u{1f50b}",beach_umbrella:"\u{1f3d6}",bear:"\u{1f43b}",bed:"\u{1f6cf}",bee:"\u{1f41d}",beer:"\u{1f37a}",beers:"\u{1f37b}",beetle:"\u{1f41e}",beginner:"\u{1f530}",bell:"\u{1f514}",bellhop_bell:"\u{1f6ce}",bento:"\u{1f371}",biking_man:"\u{1f6b4}",bike:"\u{1f6b2}",biking_woman:"\u{1f6b4}&zwj;\u2640\ufe0f",bikini:"\u{1f459}",biohazard:"\u2623\ufe0f",bird:"\u{1f426}",birthday:"\u{1f382}",black_circle:"\u26ab\ufe0f",black_flag:"\u{1f3f4}",black_heart:"\u{1f5a4}",black_joker:"\u{1f0cf}",black_large_square:"\u2b1b\ufe0f",black_medium_small_square:"\u25fe\ufe0f",black_medium_square:"\u25fc\ufe0f",black_nib:"\u2712\ufe0f",black_small_square:"\u25aa\ufe0f",black_square_button:"\u{1f532}",blonde_man:"\u{1f471}",blonde_woman:"\u{1f471}&zwj;\u2640\ufe0f",blossom:"\u{1f33c}",blowfish:"\u{1f421}",blue_book:"\u{1f4d8}",blue_car:"\u{1f699}",blue_heart:"\u{1f499}",blush:"\u{1f60a}",boar:"\u{1f417}",boat:"\u26f5\ufe0f",bomb:"\u{1f4a3}",book:"\u{1f4d6}",bookmark:"\u{1f516}",bookmark_tabs:"\u{1f4d1}",books:"\u{1f4da}",boom:"\u{1f4a5}",boot:"\u{1f462}",bouquet:"\u{1f490}",bowing_man:"\u{1f647}",bow_and_arrow:"\u{1f3f9}",bowing_woman:"\u{1f647}&zwj;\u2640\ufe0f",bowling:"\u{1f3b3}",boxing_glove:"\u{1f94a}",boy:"\u{1f466}",bread:"\u{1f35e}",bride_with_veil:"\u{1f470}",bridge_at_night:"\u{1f309}",briefcase:"\u{1f4bc}",broken_heart:"\u{1f494}",bug:"\u{1f41b}",building_construction:"\u{1f3d7}",bulb:"\u{1f4a1}",bullettrain_front:"\u{1f685}",bullettrain_side:"\u{1f684}",burrito:"\u{1f32f}",bus:"\u{1f68c}",business_suit_levitating:"\u{1f574}",busstop:"\u{1f68f}",bust_in_silhouette:"\u{1f464}",busts_in_silhouette:"\u{1f465}",butterfly:"\u{1f98b}",cactus:"\u{1f335}",cake:"\u{1f370}",calendar:"\u{1f4c6}",call_me_hand:"\u{1f919}",calling:"\u{1f4f2}",camel:"\u{1f42b}",camera:"\u{1f4f7}",camera_flash:"\u{1f4f8}",camping:"\u{1f3d5}",cancer:"\u264b\ufe0f",candle:"\u{1f56f}",candy:"\u{1f36c}",canoe:"\u{1f6f6}",capital_abcd:"\u{1f520}",capricorn:"\u2651\ufe0f",car:"\u{1f697}",card_file_box:"\u{1f5c3}",card_index:"\u{1f4c7}",card_index_dividers:"\u{1f5c2}",carousel_horse:"\u{1f3a0}",carrot:"\u{1f955}",cat:"\u{1f431}",cat2:"\u{1f408}",cd:"\u{1f4bf}",chains:"\u26d3",champagne:"\u{1f37e}",chart:"\u{1f4b9}",chart_with_downwards_trend:"\u{1f4c9}",chart_with_upwards_trend:"\u{1f4c8}",checkered_flag:"\u{1f3c1}",cheese:"\u{1f9c0}",cherries:"\u{1f352}",cherry_blossom:"\u{1f338}",chestnut:"\u{1f330}",chicken:"\u{1f414}",children_crossing:"\u{1f6b8}",chipmunk:"\u{1f43f}",chocolate_bar:"\u{1f36b}",christmas_tree:"\u{1f384}",church:"\u26ea\ufe0f",cinema:"\u{1f3a6}",circus_tent:"\u{1f3aa}",city_sunrise:"\u{1f307}",city_sunset:"\u{1f306}",cityscape:"\u{1f3d9}",cl:"\u{1f191}",clamp:"\u{1f5dc}",clap:"\u{1f44f}",clapper:"\u{1f3ac}",classical_building:"\u{1f3db}",clinking_glasses:"\u{1f942}",clipboard:"\u{1f4cb}",clock1:"\u{1f550}",clock10:"\u{1f559}",clock1030:"\u{1f565}",clock11:"\u{1f55a}",clock1130:"\u{1f566}",clock12:"\u{1f55b}",clock1230:"\u{1f567}",clock130:"\u{1f55c}",clock2:"\u{1f551}",clock230:"\u{1f55d}",clock3:"\u{1f552}",clock330:"\u{1f55e}",clock4:"\u{1f553}",clock430:"\u{1f55f}",clock5:"\u{1f554}",clock530:"\u{1f560}",clock6:"\u{1f555}",clock630:"\u{1f561}",clock7:"\u{1f556}",clock730:"\u{1f562}",clock8:"\u{1f557}",clock830:"\u{1f563}",clock9:"\u{1f558}",clock930:"\u{1f564}",closed_book:"\u{1f4d5}",closed_lock_with_key:"\u{1f510}",closed_umbrella:"\u{1f302}",cloud:"\u2601\ufe0f",cloud_with_lightning:"\u{1f329}",cloud_with_lightning_and_rain:"\u26c8",cloud_with_rain:"\u{1f327}",cloud_with_snow:"\u{1f328}",clown_face:"\u{1f921}",clubs:"\u2663\ufe0f",cocktail:"\u{1f378}",coffee:"\u2615\ufe0f",coffin:"\u26b0\ufe0f",cold_sweat:"\u{1f630}",comet:"\u2604\ufe0f",computer:"\u{1f4bb}",computer_mouse:"\u{1f5b1}",confetti_ball:"\u{1f38a}",confounded:"\u{1f616}",confused:"\u{1f615}",congratulations:"\u3297\ufe0f",construction:"\u{1f6a7}",construction_worker_man:"\u{1f477}",construction_worker_woman:"\u{1f477}&zwj;\u2640\ufe0f",control_knobs:"\u{1f39b}",convenience_store:"\u{1f3ea}",cookie:"\u{1f36a}",cool:"\u{1f192}",policeman:"\u{1f46e}",copyright:"\xa9\ufe0f",corn:"\u{1f33d}",couch_and_lamp:"\u{1f6cb}",couple:"\u{1f46b}",couple_with_heart_woman_man:"\u{1f491}",couple_with_heart_man_man:"\u{1f468}&zwj;\u2764\ufe0f&zwj;\u{1f468}",couple_with_heart_woman_woman:"\u{1f469}&zwj;\u2764\ufe0f&zwj;\u{1f469}",couplekiss_man_man:"\u{1f468}&zwj;\u2764\ufe0f&zwj;\u{1f48b}&zwj;\u{1f468}",couplekiss_man_woman:"\u{1f48f}",couplekiss_woman_woman:"\u{1f469}&zwj;\u2764\ufe0f&zwj;\u{1f48b}&zwj;\u{1f469}",cow:"\u{1f42e}",cow2:"\u{1f404}",cowboy_hat_face:"\u{1f920}",crab:"\u{1f980}",crayon:"\u{1f58d}",credit_card:"\u{1f4b3}",crescent_moon:"\u{1f319}",cricket:"\u{1f3cf}",crocodile:"\u{1f40a}",croissant:"\u{1f950}",crossed_fingers:"\u{1f91e}",crossed_flags:"\u{1f38c}",crossed_swords:"\u2694\ufe0f",crown:"\u{1f451}",cry:"\u{1f622}",crying_cat_face:"\u{1f63f}",crystal_ball:"\u{1f52e}",cucumber:"\u{1f952}",cupid:"\u{1f498}",curly_loop:"\u27b0",currency_exchange:"\u{1f4b1}",curry:"\u{1f35b}",custard:"\u{1f36e}",customs:"\u{1f6c3}",cyclone:"\u{1f300}",dagger:"\u{1f5e1}",dancer:"\u{1f483}",dancing_women:"\u{1f46f}",dancing_men:"\u{1f46f}&zwj;\u2642\ufe0f",dango:"\u{1f361}",dark_sunglasses:"\u{1f576}",dart:"\u{1f3af}",dash:"\u{1f4a8}",date:"\u{1f4c5}",deciduous_tree:"\u{1f333}",deer:"\u{1f98c}",department_store:"\u{1f3ec}",derelict_house:"\u{1f3da}",desert:"\u{1f3dc}",desert_island:"\u{1f3dd}",desktop_computer:"\u{1f5a5}",male_detective:"\u{1f575}\ufe0f",diamond_shape_with_a_dot_inside:"\u{1f4a0}",diamonds:"\u2666\ufe0f",disappointed:"\u{1f61e}",disappointed_relieved:"\u{1f625}",dizzy:"\u{1f4ab}",dizzy_face:"\u{1f635}",do_not_litter:"\u{1f6af}",dog:"\u{1f436}",dog2:"\u{1f415}",dollar:"\u{1f4b5}",dolls:"\u{1f38e}",dolphin:"\u{1f42c}",door:"\u{1f6aa}",doughnut:"\u{1f369}",dove:"\u{1f54a}",dragon:"\u{1f409}",dragon_face:"\u{1f432}",dress:"\u{1f457}",dromedary_camel:"\u{1f42a}",drooling_face:"\u{1f924}",droplet:"\u{1f4a7}",drum:"\u{1f941}",duck:"\u{1f986}",dvd:"\u{1f4c0}","e-mail":"\u{1f4e7}",eagle:"\u{1f985}",ear:"\u{1f442}",ear_of_rice:"\u{1f33e}",earth_africa:"\u{1f30d}",earth_americas:"\u{1f30e}",earth_asia:"\u{1f30f}",egg:"\u{1f95a}",eggplant:"\u{1f346}",eight_pointed_black_star:"\u2734\ufe0f",eight_spoked_asterisk:"\u2733\ufe0f",electric_plug:"\u{1f50c}",elephant:"\u{1f418}",email:"\u2709\ufe0f",end:"\u{1f51a}",envelope_with_arrow:"\u{1f4e9}",euro:"\u{1f4b6}",european_castle:"\u{1f3f0}",european_post_office:"\u{1f3e4}",evergreen_tree:"\u{1f332}",exclamation:"\u2757\ufe0f",expressionless:"\u{1f611}",eye:"\u{1f441}",eye_speech_bubble:"\u{1f441}&zwj;\u{1f5e8}",eyeglasses:"\u{1f453}",eyes:"\u{1f440}",face_with_head_bandage:"\u{1f915}",face_with_thermometer:"\u{1f912}",fist_oncoming:"\u{1f44a}",factory:"\u{1f3ed}",fallen_leaf:"\u{1f342}",family_man_woman_boy:"\u{1f46a}",family_man_boy:"\u{1f468}&zwj;\u{1f466}",family_man_boy_boy:"\u{1f468}&zwj;\u{1f466}&zwj;\u{1f466}",family_man_girl:"\u{1f468}&zwj;\u{1f467}",family_man_girl_boy:"\u{1f468}&zwj;\u{1f467}&zwj;\u{1f466}",family_man_girl_girl:"\u{1f468}&zwj;\u{1f467}&zwj;\u{1f467}",family_man_man_boy:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f466}",family_man_man_boy_boy:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f466}&zwj;\u{1f466}",family_man_man_girl:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f467}",family_man_man_girl_boy:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f467}&zwj;\u{1f466}",family_man_man_girl_girl:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f467}&zwj;\u{1f467}",family_man_woman_boy_boy:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f466}&zwj;\u{1f466}",family_man_woman_girl:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f467}",family_man_woman_girl_boy:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f466}",family_man_woman_girl_girl:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f467}",family_woman_boy:"\u{1f469}&zwj;\u{1f466}",family_woman_boy_boy:"\u{1f469}&zwj;\u{1f466}&zwj;\u{1f466}",family_woman_girl:"\u{1f469}&zwj;\u{1f467}",family_woman_girl_boy:"\u{1f469}&zwj;\u{1f467}&zwj;\u{1f466}",family_woman_girl_girl:"\u{1f469}&zwj;\u{1f467}&zwj;\u{1f467}",family_woman_woman_boy:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f466}",family_woman_woman_boy_boy:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f466}&zwj;\u{1f466}",family_woman_woman_girl:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f467}",family_woman_woman_girl_boy:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f466}",family_woman_woman_girl_girl:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f467}",fast_forward:"\u23e9",fax:"\u{1f4e0}",fearful:"\u{1f628}",feet:"\u{1f43e}",female_detective:"\u{1f575}\ufe0f&zwj;\u2640\ufe0f",ferris_wheel:"\u{1f3a1}",ferry:"\u26f4",field_hockey:"\u{1f3d1}",file_cabinet:"\u{1f5c4}",file_folder:"\u{1f4c1}",film_projector:"\u{1f4fd}",film_strip:"\u{1f39e}",fire:"\u{1f525}",fire_engine:"\u{1f692}",fireworks:"\u{1f386}",first_quarter_moon:"\u{1f313}",first_quarter_moon_with_face:"\u{1f31b}",fish:"\u{1f41f}",fish_cake:"\u{1f365}",fishing_pole_and_fish:"\u{1f3a3}",fist_raised:"\u270a",fist_left:"\u{1f91b}",fist_right:"\u{1f91c}",flags:"\u{1f38f}",flashlight:"\u{1f526}",fleur_de_lis:"\u269c\ufe0f",flight_arrival:"\u{1f6ec}",flight_departure:"\u{1f6eb}",floppy_disk:"\u{1f4be}",flower_playing_cards:"\u{1f3b4}",flushed:"\u{1f633}",fog:"\u{1f32b}",foggy:"\u{1f301}",football:"\u{1f3c8}",footprints:"\u{1f463}",fork_and_knife:"\u{1f374}",fountain:"\u26f2\ufe0f",fountain_pen:"\u{1f58b}",four_leaf_clover:"\u{1f340}",fox_face:"\u{1f98a}",framed_picture:"\u{1f5bc}",free:"\u{1f193}",fried_egg:"\u{1f373}",fried_shrimp:"\u{1f364}",fries:"\u{1f35f}",frog:"\u{1f438}",frowning:"\u{1f626}",frowning_face:"\u2639\ufe0f",frowning_man:"\u{1f64d}&zwj;\u2642\ufe0f",frowning_woman:"\u{1f64d}",middle_finger:"\u{1f595}",fuelpump:"\u26fd\ufe0f",full_moon:"\u{1f315}",full_moon_with_face:"\u{1f31d}",funeral_urn:"\u26b1\ufe0f",game_die:"\u{1f3b2}",gear:"\u2699\ufe0f",gem:"\u{1f48e}",gemini:"\u264a\ufe0f",ghost:"\u{1f47b}",gift:"\u{1f381}",gift_heart:"\u{1f49d}",girl:"\u{1f467}",globe_with_meridians:"\u{1f310}",goal_net:"\u{1f945}",goat:"\u{1f410}",golf:"\u26f3\ufe0f",golfing_man:"\u{1f3cc}\ufe0f",golfing_woman:"\u{1f3cc}\ufe0f&zwj;\u2640\ufe0f",gorilla:"\u{1f98d}",grapes:"\u{1f347}",green_apple:"\u{1f34f}",green_book:"\u{1f4d7}",green_heart:"\u{1f49a}",green_salad:"\u{1f957}",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\u{1f62c}",grin:"\u{1f601}",grinning:"\u{1f600}",guardsman:"\u{1f482}",guardswoman:"\u{1f482}&zwj;\u2640\ufe0f",guitar:"\u{1f3b8}",gun:"\u{1f52b}",haircut_woman:"\u{1f487}",haircut_man:"\u{1f487}&zwj;\u2642\ufe0f",hamburger:"\u{1f354}",hammer:"\u{1f528}",hammer_and_pick:"\u2692",hammer_and_wrench:"\u{1f6e0}",hamster:"\u{1f439}",hand:"\u270b",handbag:"\u{1f45c}",handshake:"\u{1f91d}",hankey:"\u{1f4a9}",hatched_chick:"\u{1f425}",hatching_chick:"\u{1f423}",headphones:"\u{1f3a7}",hear_no_evil:"\u{1f649}",heart:"\u2764\ufe0f",heart_decoration:"\u{1f49f}",heart_eyes:"\u{1f60d}",heart_eyes_cat:"\u{1f63b}",heartbeat:"\u{1f493}",heartpulse:"\u{1f497}",hearts:"\u2665\ufe0f",heavy_check_mark:"\u2714\ufe0f",heavy_division_sign:"\u2797",heavy_dollar_sign:"\u{1f4b2}",heavy_heart_exclamation:"\u2763\ufe0f",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716\ufe0f",heavy_plus_sign:"\u2795",helicopter:"\u{1f681}",herb:"\u{1f33f}",hibiscus:"\u{1f33a}",high_brightness:"\u{1f506}",high_heel:"\u{1f460}",hocho:"\u{1f52a}",hole:"\u{1f573}",honey_pot:"\u{1f36f}",horse:"\u{1f434}",horse_racing:"\u{1f3c7}",hospital:"\u{1f3e5}",hot_pepper:"\u{1f336}",hotdog:"\u{1f32d}",hotel:"\u{1f3e8}",hotsprings:"\u2668\ufe0f",hourglass:"\u231b\ufe0f",hourglass_flowing_sand:"\u23f3",house:"\u{1f3e0}",house_with_garden:"\u{1f3e1}",houses:"\u{1f3d8}",hugs:"\u{1f917}",hushed:"\u{1f62f}",ice_cream:"\u{1f368}",ice_hockey:"\u{1f3d2}",ice_skate:"\u26f8",icecream:"\u{1f366}",id:"\u{1f194}",ideograph_advantage:"\u{1f250}",imp:"\u{1f47f}",inbox_tray:"\u{1f4e5}",incoming_envelope:"\u{1f4e8}",tipping_hand_woman:"\u{1f481}",information_source:"\u2139\ufe0f",innocent:"\u{1f607}",interrobang:"\u2049\ufe0f",iphone:"\u{1f4f1}",izakaya_lantern:"\u{1f3ee}",jack_o_lantern:"\u{1f383}",japan:"\u{1f5fe}",japanese_castle:"\u{1f3ef}",japanese_goblin:"\u{1f47a}",japanese_ogre:"\u{1f479}",jeans:"\u{1f456}",joy:"\u{1f602}",joy_cat:"\u{1f639}",joystick:"\u{1f579}",kaaba:"\u{1f54b}",key:"\u{1f511}",keyboard:"\u2328\ufe0f",keycap_ten:"\u{1f51f}",kick_scooter:"\u{1f6f4}",kimono:"\u{1f458}",kiss:"\u{1f48b}",kissing:"\u{1f617}",kissing_cat:"\u{1f63d}",kissing_closed_eyes:"\u{1f61a}",kissing_heart:"\u{1f618}",kissing_smiling_eyes:"\u{1f619}",kiwi_fruit:"\u{1f95d}",koala:"\u{1f428}",koko:"\u{1f201}",label:"\u{1f3f7}",large_blue_circle:"\u{1f535}",large_blue_diamond:"\u{1f537}",large_orange_diamond:"\u{1f536}",last_quarter_moon:"\u{1f317}",last_quarter_moon_with_face:"\u{1f31c}",latin_cross:"\u271d\ufe0f",laughing:"\u{1f606}",leaves:"\u{1f343}",ledger:"\u{1f4d2}",left_luggage:"\u{1f6c5}",left_right_arrow:"\u2194\ufe0f",leftwards_arrow_with_hook:"\u21a9\ufe0f",lemon:"\u{1f34b}",leo:"\u264c\ufe0f",leopard:"\u{1f406}",level_slider:"\u{1f39a}",libra:"\u264e\ufe0f",light_rail:"\u{1f688}",link:"\u{1f517}",lion:"\u{1f981}",lips:"\u{1f444}",lipstick:"\u{1f484}",lizard:"\u{1f98e}",lock:"\u{1f512}",lock_with_ink_pen:"\u{1f50f}",lollipop:"\u{1f36d}",loop:"\u27bf",loud_sound:"\u{1f50a}",loudspeaker:"\u{1f4e2}",love_hotel:"\u{1f3e9}",love_letter:"\u{1f48c}",low_brightness:"\u{1f505}",lying_face:"\u{1f925}",m:"\u24c2\ufe0f",mag:"\u{1f50d}",mag_right:"\u{1f50e}",mahjong:"\u{1f004}\ufe0f",mailbox:"\u{1f4eb}",mailbox_closed:"\u{1f4ea}",mailbox_with_mail:"\u{1f4ec}",mailbox_with_no_mail:"\u{1f4ed}",man:"\u{1f468}",man_artist:"\u{1f468}&zwj;\u{1f3a8}",man_astronaut:"\u{1f468}&zwj;\u{1f680}",man_cartwheeling:"\u{1f938}&zwj;\u2642\ufe0f",man_cook:"\u{1f468}&zwj;\u{1f373}",man_dancing:"\u{1f57a}",man_facepalming:"\u{1f926}&zwj;\u2642\ufe0f",man_factory_worker:"\u{1f468}&zwj;\u{1f3ed}",man_farmer:"\u{1f468}&zwj;\u{1f33e}",man_firefighter:"\u{1f468}&zwj;\u{1f692}",man_health_worker:"\u{1f468}&zwj;\u2695\ufe0f",man_in_tuxedo:"\u{1f935}",man_judge:"\u{1f468}&zwj;\u2696\ufe0f",man_juggling:"\u{1f939}&zwj;\u2642\ufe0f",man_mechanic:"\u{1f468}&zwj;\u{1f527}",man_office_worker:"\u{1f468}&zwj;\u{1f4bc}",man_pilot:"\u{1f468}&zwj;\u2708\ufe0f",man_playing_handball:"\u{1f93e}&zwj;\u2642\ufe0f",man_playing_water_polo:"\u{1f93d}&zwj;\u2642\ufe0f",man_scientist:"\u{1f468}&zwj;\u{1f52c}",man_shrugging:"\u{1f937}&zwj;\u2642\ufe0f",man_singer:"\u{1f468}&zwj;\u{1f3a4}",man_student:"\u{1f468}&zwj;\u{1f393}",man_teacher:"\u{1f468}&zwj;\u{1f3eb}",man_technologist:"\u{1f468}&zwj;\u{1f4bb}",man_with_gua_pi_mao:"\u{1f472}",man_with_turban:"\u{1f473}",tangerine:"\u{1f34a}",mans_shoe:"\u{1f45e}",mantelpiece_clock:"\u{1f570}",maple_leaf:"\u{1f341}",martial_arts_uniform:"\u{1f94b}",mask:"\u{1f637}",massage_woman:"\u{1f486}",massage_man:"\u{1f486}&zwj;\u2642\ufe0f",meat_on_bone:"\u{1f356}",medal_military:"\u{1f396}",medal_sports:"\u{1f3c5}",mega:"\u{1f4e3}",melon:"\u{1f348}",memo:"\u{1f4dd}",men_wrestling:"\u{1f93c}&zwj;\u2642\ufe0f",menorah:"\u{1f54e}",mens:"\u{1f6b9}",metal:"\u{1f918}",metro:"\u{1f687}",microphone:"\u{1f3a4}",microscope:"\u{1f52c}",milk_glass:"\u{1f95b}",milky_way:"\u{1f30c}",minibus:"\u{1f690}",minidisc:"\u{1f4bd}",mobile_phone_off:"\u{1f4f4}",money_mouth_face:"\u{1f911}",money_with_wings:"\u{1f4b8}",moneybag:"\u{1f4b0}",monkey:"\u{1f412}",monkey_face:"\u{1f435}",monorail:"\u{1f69d}",moon:"\u{1f314}",mortar_board:"\u{1f393}",mosque:"\u{1f54c}",motor_boat:"\u{1f6e5}",motor_scooter:"\u{1f6f5}",motorcycle:"\u{1f3cd}",motorway:"\u{1f6e3}",mount_fuji:"\u{1f5fb}",mountain:"\u26f0",mountain_biking_man:"\u{1f6b5}",mountain_biking_woman:"\u{1f6b5}&zwj;\u2640\ufe0f",mountain_cableway:"\u{1f6a0}",mountain_railway:"\u{1f69e}",mountain_snow:"\u{1f3d4}",mouse:"\u{1f42d}",mouse2:"\u{1f401}",movie_camera:"\u{1f3a5}",moyai:"\u{1f5ff}",mrs_claus:"\u{1f936}",muscle:"\u{1f4aa}",mushroom:"\u{1f344}",musical_keyboard:"\u{1f3b9}",musical_note:"\u{1f3b5}",musical_score:"\u{1f3bc}",mute:"\u{1f507}",nail_care:"\u{1f485}",name_badge:"\u{1f4db}",national_park:"\u{1f3de}",nauseated_face:"\u{1f922}",necktie:"\u{1f454}",negative_squared_cross_mark:"\u274e",nerd_face:"\u{1f913}",neutral_face:"\u{1f610}",new:"\u{1f195}",new_moon:"\u{1f311}",new_moon_with_face:"\u{1f31a}",newspaper:"\u{1f4f0}",newspaper_roll:"\u{1f5de}",next_track_button:"\u23ed",ng:"\u{1f196}",no_good_man:"\u{1f645}&zwj;\u2642\ufe0f",no_good_woman:"\u{1f645}",night_with_stars:"\u{1f303}",no_bell:"\u{1f515}",no_bicycles:"\u{1f6b3}",no_entry:"\u26d4\ufe0f",no_entry_sign:"\u{1f6ab}",no_mobile_phones:"\u{1f4f5}",no_mouth:"\u{1f636}",no_pedestrians:"\u{1f6b7}",no_smoking:"\u{1f6ad}","non-potable_water":"\u{1f6b1}",nose:"\u{1f443}",notebook:"\u{1f4d3}",notebook_with_decorative_cover:"\u{1f4d4}",notes:"\u{1f3b6}",nut_and_bolt:"\u{1f529}",o:"\u2b55\ufe0f",o2:"\u{1f17e}\ufe0f",ocean:"\u{1f30a}",octopus:"\u{1f419}",oden:"\u{1f362}",office:"\u{1f3e2}",oil_drum:"\u{1f6e2}",ok:"\u{1f197}",ok_hand:"\u{1f44c}",ok_man:"\u{1f646}&zwj;\u2642\ufe0f",ok_woman:"\u{1f646}",old_key:"\u{1f5dd}",older_man:"\u{1f474}",older_woman:"\u{1f475}",om:"\u{1f549}",on:"\u{1f51b}",oncoming_automobile:"\u{1f698}",oncoming_bus:"\u{1f68d}",oncoming_police_car:"\u{1f694}",oncoming_taxi:"\u{1f696}",open_file_folder:"\u{1f4c2}",open_hands:"\u{1f450}",open_mouth:"\u{1f62e}",open_umbrella:"\u2602\ufe0f",ophiuchus:"\u26ce",orange_book:"\u{1f4d9}",orthodox_cross:"\u2626\ufe0f",outbox_tray:"\u{1f4e4}",owl:"\u{1f989}",ox:"\u{1f402}",package:"\u{1f4e6}",page_facing_up:"\u{1f4c4}",page_with_curl:"\u{1f4c3}",pager:"\u{1f4df}",paintbrush:"\u{1f58c}",palm_tree:"\u{1f334}",pancakes:"\u{1f95e}",panda_face:"\u{1f43c}",paperclip:"\u{1f4ce}",paperclips:"\u{1f587}",parasol_on_ground:"\u26f1",parking:"\u{1f17f}\ufe0f",part_alternation_mark:"\u303d\ufe0f",partly_sunny:"\u26c5\ufe0f",passenger_ship:"\u{1f6f3}",passport_control:"\u{1f6c2}",pause_button:"\u23f8",peace_symbol:"\u262e\ufe0f",peach:"\u{1f351}",peanuts:"\u{1f95c}",pear:"\u{1f350}",pen:"\u{1f58a}",pencil2:"\u270f\ufe0f",penguin:"\u{1f427}",pensive:"\u{1f614}",performing_arts:"\u{1f3ad}",persevere:"\u{1f623}",person_fencing:"\u{1f93a}",pouting_woman:"\u{1f64e}",phone:"\u260e\ufe0f",pick:"\u26cf",pig:"\u{1f437}",pig2:"\u{1f416}",pig_nose:"\u{1f43d}",pill:"\u{1f48a}",pineapple:"\u{1f34d}",ping_pong:"\u{1f3d3}",pisces:"\u2653\ufe0f",pizza:"\u{1f355}",place_of_worship:"\u{1f6d0}",plate_with_cutlery:"\u{1f37d}",play_or_pause_button:"\u23ef",point_down:"\u{1f447}",point_left:"\u{1f448}",point_right:"\u{1f449}",point_up:"\u261d\ufe0f",point_up_2:"\u{1f446}",police_car:"\u{1f693}",policewoman:"\u{1f46e}&zwj;\u2640\ufe0f",poodle:"\u{1f429}",popcorn:"\u{1f37f}",post_office:"\u{1f3e3}",postal_horn:"\u{1f4ef}",postbox:"\u{1f4ee}",potable_water:"\u{1f6b0}",potato:"\u{1f954}",pouch:"\u{1f45d}",poultry_leg:"\u{1f357}",pound:"\u{1f4b7}",rage:"\u{1f621}",pouting_cat:"\u{1f63e}",pouting_man:"\u{1f64e}&zwj;\u2642\ufe0f",pray:"\u{1f64f}",prayer_beads:"\u{1f4ff}",pregnant_woman:"\u{1f930}",previous_track_button:"\u23ee",prince:"\u{1f934}",princess:"\u{1f478}",printer:"\u{1f5a8}",purple_heart:"\u{1f49c}",purse:"\u{1f45b}",pushpin:"\u{1f4cc}",put_litter_in_its_place:"\u{1f6ae}",question:"\u2753",rabbit:"\u{1f430}",rabbit2:"\u{1f407}",racehorse:"\u{1f40e}",racing_car:"\u{1f3ce}",radio:"\u{1f4fb}",radio_button:"\u{1f518}",radioactive:"\u2622\ufe0f",railway_car:"\u{1f683}",railway_track:"\u{1f6e4}",rainbow:"\u{1f308}",rainbow_flag:"\u{1f3f3}\ufe0f&zwj;\u{1f308}",raised_back_of_hand:"\u{1f91a}",raised_hand_with_fingers_splayed:"\u{1f590}",raised_hands:"\u{1f64c}",raising_hand_woman:"\u{1f64b}",raising_hand_man:"\u{1f64b}&zwj;\u2642\ufe0f",ram:"\u{1f40f}",ramen:"\u{1f35c}",rat:"\u{1f400}",record_button:"\u23fa",recycle:"\u267b\ufe0f",red_circle:"\u{1f534}",registered:"\xae\ufe0f",relaxed:"\u263a\ufe0f",relieved:"\u{1f60c}",reminder_ribbon:"\u{1f397}",repeat:"\u{1f501}",repeat_one:"\u{1f502}",rescue_worker_helmet:"\u26d1",restroom:"\u{1f6bb}",revolving_hearts:"\u{1f49e}",rewind:"\u23ea",rhinoceros:"\u{1f98f}",ribbon:"\u{1f380}",rice:"\u{1f35a}",rice_ball:"\u{1f359}",rice_cracker:"\u{1f358}",rice_scene:"\u{1f391}",right_anger_bubble:"\u{1f5ef}",ring:"\u{1f48d}",robot:"\u{1f916}",rocket:"\u{1f680}",rofl:"\u{1f923}",roll_eyes:"\u{1f644}",roller_coaster:"\u{1f3a2}",rooster:"\u{1f413}",rose:"\u{1f339}",rosette:"\u{1f3f5}",rotating_light:"\u{1f6a8}",round_pushpin:"\u{1f4cd}",rowing_man:"\u{1f6a3}",rowing_woman:"\u{1f6a3}&zwj;\u2640\ufe0f",rugby_football:"\u{1f3c9}",running_man:"\u{1f3c3}",running_shirt_with_sash:"\u{1f3bd}",running_woman:"\u{1f3c3}&zwj;\u2640\ufe0f",sa:"\u{1f202}\ufe0f",sagittarius:"\u2650\ufe0f",sake:"\u{1f376}",sandal:"\u{1f461}",santa:"\u{1f385}",satellite:"\u{1f4e1}",saxophone:"\u{1f3b7}",school:"\u{1f3eb}",school_satchel:"\u{1f392}",scissors:"\u2702\ufe0f",scorpion:"\u{1f982}",scorpius:"\u264f\ufe0f",scream:"\u{1f631}",scream_cat:"\u{1f640}",scroll:"\u{1f4dc}",seat:"\u{1f4ba}",secret:"\u3299\ufe0f",see_no_evil:"\u{1f648}",seedling:"\u{1f331}",selfie:"\u{1f933}",shallow_pan_of_food:"\u{1f958}",shamrock:"\u2618\ufe0f",shark:"\u{1f988}",shaved_ice:"\u{1f367}",sheep:"\u{1f411}",shell:"\u{1f41a}",shield:"\u{1f6e1}",shinto_shrine:"\u26e9",ship:"\u{1f6a2}",shirt:"\u{1f455}",shopping:"\u{1f6cd}",shopping_cart:"\u{1f6d2}",shower:"\u{1f6bf}",shrimp:"\u{1f990}",signal_strength:"\u{1f4f6}",six_pointed_star:"\u{1f52f}",ski:"\u{1f3bf}",skier:"\u26f7",skull:"\u{1f480}",skull_and_crossbones:"\u2620\ufe0f",sleeping:"\u{1f634}",sleeping_bed:"\u{1f6cc}",sleepy:"\u{1f62a}",slightly_frowning_face:"\u{1f641}",slightly_smiling_face:"\u{1f642}",slot_machine:"\u{1f3b0}",small_airplane:"\u{1f6e9}",small_blue_diamond:"\u{1f539}",small_orange_diamond:"\u{1f538}",small_red_triangle:"\u{1f53a}",small_red_triangle_down:"\u{1f53b}",smile:"\u{1f604}",smile_cat:"\u{1f638}",smiley:"\u{1f603}",smiley_cat:"\u{1f63a}",smiling_imp:"\u{1f608}",smirk:"\u{1f60f}",smirk_cat:"\u{1f63c}",smoking:"\u{1f6ac}",snail:"\u{1f40c}",snake:"\u{1f40d}",sneezing_face:"\u{1f927}",snowboarder:"\u{1f3c2}",snowflake:"\u2744\ufe0f",snowman:"\u26c4\ufe0f",snowman_with_snow:"\u2603\ufe0f",sob:"\u{1f62d}",soccer:"\u26bd\ufe0f",soon:"\u{1f51c}",sos:"\u{1f198}",sound:"\u{1f509}",space_invader:"\u{1f47e}",spades:"\u2660\ufe0f",spaghetti:"\u{1f35d}",sparkle:"\u2747\ufe0f",sparkler:"\u{1f387}",sparkles:"\u2728",sparkling_heart:"\u{1f496}",speak_no_evil:"\u{1f64a}",speaker:"\u{1f508}",speaking_head:"\u{1f5e3}",speech_balloon:"\u{1f4ac}",speedboat:"\u{1f6a4}",spider:"\u{1f577}",spider_web:"\u{1f578}",spiral_calendar:"\u{1f5d3}",spiral_notepad:"\u{1f5d2}",spoon:"\u{1f944}",squid:"\u{1f991}",stadium:"\u{1f3df}",star:"\u2b50\ufe0f",star2:"\u{1f31f}",star_and_crescent:"\u262a\ufe0f",star_of_david:"\u2721\ufe0f",stars:"\u{1f320}",station:"\u{1f689}",statue_of_liberty:"\u{1f5fd}",steam_locomotive:"\u{1f682}",stew:"\u{1f372}",stop_button:"\u23f9",stop_sign:"\u{1f6d1}",stopwatch:"\u23f1",straight_ruler:"\u{1f4cf}",strawberry:"\u{1f353}",stuck_out_tongue:"\u{1f61b}",stuck_out_tongue_closed_eyes:"\u{1f61d}",stuck_out_tongue_winking_eye:"\u{1f61c}",studio_microphone:"\u{1f399}",stuffed_flatbread:"\u{1f959}",sun_behind_large_cloud:"\u{1f325}",sun_behind_rain_cloud:"\u{1f326}",sun_behind_small_cloud:"\u{1f324}",sun_with_face:"\u{1f31e}",sunflower:"\u{1f33b}",sunglasses:"\u{1f60e}",sunny:"\u2600\ufe0f",sunrise:"\u{1f305}",sunrise_over_mountains:"\u{1f304}",surfing_man:"\u{1f3c4}",surfing_woman:"\u{1f3c4}&zwj;\u2640\ufe0f",sushi:"\u{1f363}",suspension_railway:"\u{1f69f}",sweat:"\u{1f613}",sweat_drops:"\u{1f4a6}",sweat_smile:"\u{1f605}",sweet_potato:"\u{1f360}",swimming_man:"\u{1f3ca}",swimming_woman:"\u{1f3ca}&zwj;\u2640\ufe0f",symbols:"\u{1f523}",synagogue:"\u{1f54d}",syringe:"\u{1f489}",taco:"\u{1f32e}",tada:"\u{1f389}",tanabata_tree:"\u{1f38b}",taurus:"\u2649\ufe0f",taxi:"\u{1f695}",tea:"\u{1f375}",telephone_receiver:"\u{1f4de}",telescope:"\u{1f52d}",tennis:"\u{1f3be}",tent:"\u26fa\ufe0f",thermometer:"\u{1f321}",thinking:"\u{1f914}",thought_balloon:"\u{1f4ad}",ticket:"\u{1f3ab}",tickets:"\u{1f39f}",tiger:"\u{1f42f}",tiger2:"\u{1f405}",timer_clock:"\u23f2",tipping_hand_man:"\u{1f481}&zwj;\u2642\ufe0f",tired_face:"\u{1f62b}",tm:"\u2122\ufe0f",toilet:"\u{1f6bd}",tokyo_tower:"\u{1f5fc}",tomato:"\u{1f345}",tongue:"\u{1f445}",top:"\u{1f51d}",tophat:"\u{1f3a9}",tornado:"\u{1f32a}",trackball:"\u{1f5b2}",tractor:"\u{1f69c}",traffic_light:"\u{1f6a5}",train:"\u{1f68b}",train2:"\u{1f686}",tram:"\u{1f68a}",triangular_flag_on_post:"\u{1f6a9}",triangular_ruler:"\u{1f4d0}",trident:"\u{1f531}",triumph:"\u{1f624}",trolleybus:"\u{1f68e}",trophy:"\u{1f3c6}",tropical_drink:"\u{1f379}",tropical_fish:"\u{1f420}",truck:"\u{1f69a}",trumpet:"\u{1f3ba}",tulip:"\u{1f337}",tumbler_glass:"\u{1f943}",turkey:"\u{1f983}",turtle:"\u{1f422}",tv:"\u{1f4fa}",twisted_rightwards_arrows:"\u{1f500}",two_hearts:"\u{1f495}",two_men_holding_hands:"\u{1f46c}",two_women_holding_hands:"\u{1f46d}",u5272:"\u{1f239}",u5408:"\u{1f234}",u55b6:"\u{1f23a}",u6307:"\u{1f22f}\ufe0f",u6708:"\u{1f237}\ufe0f",u6709:"\u{1f236}",u6e80:"\u{1f235}",u7121:"\u{1f21a}\ufe0f",u7533:"\u{1f238}",u7981:"\u{1f232}",u7a7a:"\u{1f233}",umbrella:"\u2614\ufe0f",unamused:"\u{1f612}",underage:"\u{1f51e}",unicorn:"\u{1f984}",unlock:"\u{1f513}",up:"\u{1f199}",upside_down_face:"\u{1f643}",v:"\u270c\ufe0f",vertical_traffic_light:"\u{1f6a6}",vhs:"\u{1f4fc}",vibration_mode:"\u{1f4f3}",video_camera:"\u{1f4f9}",video_game:"\u{1f3ae}",violin:"\u{1f3bb}",virgo:"\u264d\ufe0f",volcano:"\u{1f30b}",volleyball:"\u{1f3d0}",vs:"\u{1f19a}",vulcan_salute:"\u{1f596}",walking_man:"\u{1f6b6}",walking_woman:"\u{1f6b6}&zwj;\u2640\ufe0f",waning_crescent_moon:"\u{1f318}",waning_gibbous_moon:"\u{1f316}",warning:"\u26a0\ufe0f",wastebasket:"\u{1f5d1}",watch:"\u231a\ufe0f",water_buffalo:"\u{1f403}",watermelon:"\u{1f349}",wave:"\u{1f44b}",wavy_dash:"\u3030\ufe0f",waxing_crescent_moon:"\u{1f312}",wc:"\u{1f6be}",weary:"\u{1f629}",wedding:"\u{1f492}",weight_lifting_man:"\u{1f3cb}\ufe0f",weight_lifting_woman:"\u{1f3cb}\ufe0f&zwj;\u2640\ufe0f",whale:"\u{1f433}",whale2:"\u{1f40b}",wheel_of_dharma:"\u2638\ufe0f",wheelchair:"\u267f\ufe0f",white_check_mark:"\u2705",white_circle:"\u26aa\ufe0f",white_flag:"\u{1f3f3}\ufe0f",white_flower:"\u{1f4ae}",white_large_square:"\u2b1c\ufe0f",white_medium_small_square:"\u25fd\ufe0f",white_medium_square:"\u25fb\ufe0f",white_small_square:"\u25ab\ufe0f",white_square_button:"\u{1f533}",wilted_flower:"\u{1f940}",wind_chime:"\u{1f390}",wind_face:"\u{1f32c}",wine_glass:"\u{1f377}",wink:"\u{1f609}",wolf:"\u{1f43a}",woman:"\u{1f469}",woman_artist:"\u{1f469}&zwj;\u{1f3a8}",woman_astronaut:"\u{1f469}&zwj;\u{1f680}",woman_cartwheeling:"\u{1f938}&zwj;\u2640\ufe0f",woman_cook:"\u{1f469}&zwj;\u{1f373}",woman_facepalming:"\u{1f926}&zwj;\u2640\ufe0f",woman_factory_worker:"\u{1f469}&zwj;\u{1f3ed}",woman_farmer:"\u{1f469}&zwj;\u{1f33e}",woman_firefighter:"\u{1f469}&zwj;\u{1f692}",woman_health_worker:"\u{1f469}&zwj;\u2695\ufe0f",woman_judge:"\u{1f469}&zwj;\u2696\ufe0f",woman_juggling:"\u{1f939}&zwj;\u2640\ufe0f",woman_mechanic:"\u{1f469}&zwj;\u{1f527}",woman_office_worker:"\u{1f469}&zwj;\u{1f4bc}",woman_pilot:"\u{1f469}&zwj;\u2708\ufe0f",woman_playing_handball:"\u{1f93e}&zwj;\u2640\ufe0f",woman_playing_water_polo:"\u{1f93d}&zwj;\u2640\ufe0f",woman_scientist:"\u{1f469}&zwj;\u{1f52c}",woman_shrugging:"\u{1f937}&zwj;\u2640\ufe0f",woman_singer:"\u{1f469}&zwj;\u{1f3a4}",woman_student:"\u{1f469}&zwj;\u{1f393}",woman_teacher:"\u{1f469}&zwj;\u{1f3eb}",woman_technologist:"\u{1f469}&zwj;\u{1f4bb}",woman_with_turban:"\u{1f473}&zwj;\u2640\ufe0f",womans_clothes:"\u{1f45a}",womans_hat:"\u{1f452}",women_wrestling:"\u{1f93c}&zwj;\u2640\ufe0f",womens:"\u{1f6ba}",world_map:"\u{1f5fa}",worried:"\u{1f61f}",wrench:"\u{1f527}",writing_hand:"\u270d\ufe0f",x:"\u274c",yellow_heart:"\u{1f49b}",yen:"\u{1f4b4}",yin_yang:"\u262f\ufe0f",yum:"\u{1f60b}",zap:"\u26a1\ufe0f",zipper_mouth_face:"\u{1f910}",zzz:"\u{1f4a4}",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},O.Converter=function(E){"use strict";var x={},T=[],W=[],Y={},P=_e,L={parsed:{},raw:"",format:""};function ne(V,be){if(be=be||null,O.helper.isString(V)){if(be=V=O.helper.stdExtName(V),O.extensions[V])return console.warn("DEPRECATION WARNING: "+V+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function Q(V,be){"function"==typeof V&&(V=V(new O.Converter)),O.helper.isArray(V)||(V=[V]);var $e=U(V,be);if(!$e.valid)throw Error($e.error);for(var qe=0;qe<V.length;++qe)switch(V[qe].type){case"lang":T.push(V[qe]);break;case"output":W.push(V[qe]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(O.extensions[V],V);if(O.helper.isUndefined(ce[V]))throw Error('Extension "'+V+'" could not be loaded. It was either not found or is not a valid extension.');V=ce[V]}"function"==typeof V&&(V=V()),O.helper.isArray(V)||(V=[V]);var $e=U(V,be);if(!$e.valid)throw Error($e.error);for(var qe=0;qe<V.length;++qe){switch(V[qe].type){case"lang":T.push(V[qe]);break;case"output":W.push(V[qe])}if(V[qe].hasOwnProperty("listeners"))for(var Ue in V[qe].listeners)V[qe].listeners.hasOwnProperty(Ue)&&re(Ue,V[qe].listeners[Ue])}}function re(V,be){if(!O.helper.isString(V))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof V+" given");if("function"!=typeof be)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof be+" given");Y.hasOwnProperty(V)||(Y[V]=[]),Y[V].push(be)}!function N(){for(var V in E=E||{},ge)ge.hasOwnProperty(V)&&(x[V]=ge[V]);if("object"!=typeof E)throw Error("Converter expects the passed parameter to be an object, but "+typeof E+" was passed instead.");for(var be in E)E.hasOwnProperty(be)&&(x[be]=E[be]);x.extensions&&O.helper.forEach(x.extensions,ne)}(),this._dispatch=function(be,$e,qe,Ue){if(Y.hasOwnProperty(be))for(var Xe=0;Xe<Y[be].length;++Xe){var on=Y[be][Xe](be,$e,this,qe,Ue);on&&typeof on<"u"&&($e=on)}return $e},this.listen=function(V,be){return re(V,be),this},this.makeHtml=function(V){if(!V)return V;var be={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:T,outputModifiers:W,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return V=(V=(V=(V=(V=V.replace(/\xa8/g,"\xa8T")).replace(/\$/g,"\xa8D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),x.smartIndentationFix&&(V=function ee(V){var be=V.match(/^\s*/)[0].length,$e=new RegExp("^\\s{0,"+be+"}","gm");return V.replace($e,"")}(V)),V="\n\n"+V+"\n\n",V=(V=O.subParser("detab")(V,x,be)).replace(/^[ \t]+$/gm,""),O.helper.forEach(T,function($e){V=O.subParser("runExtension")($e,V,x,be)}),V=O.subParser("metadata")(V,x,be),V=O.subParser("hashPreCodeTags")(V,x,be),V=O.subParser("githubCodeBlocks")(V,x,be),V=O.subParser("hashHTMLBlocks")(V,x,be),V=O.subParser("hashCodeTags")(V,x,be),V=O.subParser("stripLinkDefinitions")(V,x,be),V=O.subParser("blockGamut")(V,x,be),V=O.subParser("unhashHTMLSpans")(V,x,be),V=(V=(V=O.subParser("unescapeSpecialChars")(V,x,be)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,"\xa8"),V=O.subParser("completeHTMLDocument")(V,x,be),O.helper.forEach(W,function($e){V=O.subParser("runExtension")($e,V,x,be)}),L=be.metadata,V},this.makeMarkdown=this.makeMd=function(V,be){if(V=(V=(V=V.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">\xa8NBSP;<"),!be){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");be=window.document}var $e=be.createElement("div");$e.innerHTML=V;var qe={preList:function Ht(nn){for(var Dt=nn.querySelectorAll("pre"),_t=[],Dn=0;Dn<Dt.length;++Dn)if(1===Dt[Dn].childElementCount&&"code"===Dt[Dn].firstChild.tagName.toLowerCase()){var Lr=Dt[Dn].firstChild.innerHTML.trim(),Gn=Dt[Dn].firstChild.getAttribute("data-language")||"";if(""===Gn)for(var Mn=Dt[Dn].firstChild.className.split(" "),tr=0;tr<Mn.length;++tr){var cr=Mn[tr].match(/^language-(.+)$/);if(null!==cr){Gn=cr[1];break}}Lr=O.helper.unescapeHTMLEntities(Lr),_t.push(Lr),Dt[Dn].outerHTML='<precode language="'+Gn+'" precodenum="'+Dn.toString()+'"></precode>'}else _t.push(Dt[Dn].innerHTML),Dt[Dn].innerHTML="",Dt[Dn].setAttribute("prenum",Dn.toString());return _t}($e)};!function Kt(nn){for(var Dt=0;Dt<nn.childNodes.length;++Dt){var _t=nn.childNodes[Dt];3===_t.nodeType?/\S/.test(_t.nodeValue)||/^[ ]+$/.test(_t.nodeValue)?(_t.nodeValue=_t.nodeValue.split("\n").join(" "),_t.nodeValue=_t.nodeValue.replace(/(\s)+/g,"$1")):(nn.removeChild(_t),--Dt):1===_t.nodeType&&Kt(_t)}}($e);for(var Ue=$e.childNodes,Xe="",on=0;on<Ue.length;on++)Xe+=O.subParser("makeMarkdown.node")(Ue[on],qe);return Xe},this.setOption=function(V,be){x[V]=be},this.getOption=function(V){return x[V]},this.getOptions=function(){return x},this.addExtension=function(V,be){ne(V,be=be||null)},this.useExtension=function(V){ne(V)},this.setFlavor=function(V){if(!de.hasOwnProperty(V))throw Error(V+" flavor was not found");var be=de[V];for(var $e in P=V,be)be.hasOwnProperty($e)&&(x[$e]=be[$e])},this.getFlavor=function(){return P},this.removeExtension=function(V){O.helper.isArray(V)||(V=[V]);for(var be=0;be<V.length;++be){for(var $e=V[be],qe=0;qe<T.length;++qe)T[qe]===$e&&T.splice(qe,1);for(var Ue=0;Ue<W.length;++Ue)W[Ue]===$e&&W.splice(Ue,1)}},this.getAllExtensions=function(){return{language:T,output:W}},this.getMetadata=function(V){return V?L.raw:L.parsed},this.getMetadataFormat=function(){return L.format},this._setMetadataPair=function(V,be){L.parsed[V]=be},this._setMetadataFormat=function(V){L.format=V},this._setMetadataRaw=function(V){L.raw=V}},O.subParser("anchors",function(E,x,T){"use strict";var W=function(Y,P,L,N,ne,Q,re){if(O.helper.isUndefined(re)&&(re=""),L=L.toLowerCase(),Y.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)N="";else if(!N){if(L||(L=P.toLowerCase().replace(/ ?\n/g," ")),N="#"+L,O.helper.isUndefined(T.gUrls[L]))return Y;N=T.gUrls[L],O.helper.isUndefined(T.gTitles[L])||(re=T.gTitles[L])}var ee='<a href="'+(N=N.replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback))+'"';return""!==re&&null!==re&&(ee+=' title="'+(re=(re=re.replace(/"/g,"&quot;")).replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback))+'"'),x.openLinksInNewWindow&&!/^#/.test(N)&&(ee+=' rel="noopener noreferrer" target="\xa8E95Eblank"'),ee+">"+P+"</a>"};return E=(E=(E=(E=(E=T.converter._dispatch("anchors.before",E,x,T)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,W)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,W)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,W)).replace(/\[([^\[\]]+)]()()()()()/g,W),x.ghMentions&&(E=E.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(Y,P,L,N,ne){if("\\"===L)return P+N;if(!O.helper.isString(x.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var Q=x.ghMentionsLink.replace(/\{u}/g,ne),re="";return x.openLinksInNewWindow&&(re=' rel="noopener noreferrer" target="\xa8E95Eblank"'),P+'<a href="'+Q+'"'+re+">"+N+"</a>"})),T.converter._dispatch("anchors.after",E,x,T)});var me=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,Ce=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,De=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,Oe=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,xe=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,ke=function(E){"use strict";return function(x,T,W,Y,P,L,N){var ne=W=W.replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback),Q="",re="",ee=T||"",V=N||"";return/^www\./i.test(W)&&(W=W.replace(/^www\./i,"http://www.")),E.excludeTrailingPunctuationFromURLs&&L&&(Q=L),E.openLinksInNewWindow&&(re=' rel="noopener noreferrer" target="\xa8E95Eblank"'),ee+'<a href="'+W+'"'+re+">"+ne+"</a>"+Q+V}},rt=function(E,x){"use strict";return function(T,W,Y){var P="mailto:";return W=W||"",Y=O.subParser("unescapeSpecialChars")(Y,E,x),E.encodeEmails?(P=O.helper.encodeEmailAddress(P+Y),Y=O.helper.encodeEmailAddress(Y)):P+=Y,W+'<a href="'+P+'">'+Y+"</a>"}};O.subParser("autoLinks",function(E,x,T){"use strict";return E=(E=(E=T.converter._dispatch("autoLinks.before",E,x,T)).replace(De,ke(x))).replace(xe,rt(x,T)),T.converter._dispatch("autoLinks.after",E,x,T)}),O.subParser("simplifiedAutoLinks",function(E,x,T){"use strict";return x.simplifiedAutoLink&&(E=(E=(E=T.converter._dispatch("simplifiedAutoLinks.before",E,x,T)).replace(x.excludeTrailingPunctuationFromURLs?Ce:me,ke(x))).replace(Oe,rt(x,T)),E=T.converter._dispatch("simplifiedAutoLinks.after",E,x,T)),E}),O.subParser("blockGamut",function(E,x,T){"use strict";return E=T.converter._dispatch("blockGamut.before",E,x,T),E=O.subParser("blockQuotes")(E,x,T),E=O.subParser("headers")(E,x,T),E=O.subParser("horizontalRule")(E,x,T),E=O.subParser("lists")(E,x,T),E=O.subParser("codeBlocks")(E,x,T),E=O.subParser("tables")(E,x,T),E=O.subParser("hashHTMLBlocks")(E,x,T),E=O.subParser("paragraphs")(E,x,T),T.converter._dispatch("blockGamut.after",E,x,T)}),O.subParser("blockQuotes",function(E,x,T){"use strict";E=T.converter._dispatch("blockQuotes.before",E,x,T);var W=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return x.splitAdjacentBlockquotes&&(W=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),E=(E+="\n\n").replace(W,function(Y){return Y=(Y=(Y=Y.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),Y=O.subParser("githubCodeBlocks")(Y,x,T),Y=(Y=(Y=O.subParser("blockGamut")(Y,x,T)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(P,L){var N=L;return(N=N.replace(/^  /gm,"\xa80")).replace(/\xa80/g,"")}),O.subParser("hashBlock")("<blockquote>\n"+Y+"\n</blockquote>",x,T)}),T.converter._dispatch("blockQuotes.after",E,x,T)}),O.subParser("codeBlocks",function(E,x,T){"use strict";return E=T.converter._dispatch("codeBlocks.before",E,x,T),E=(E=(E+="\xa80").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(Y,P,L){var N=P,ne=L,Q="\n";return N=O.subParser("outdent")(N,x,T),N=O.subParser("encodeCode")(N,x,T),N=(N=(N=O.subParser("detab")(N,x,T)).replace(/^\n+/g,"")).replace(/\n+$/g,""),x.omitExtraWLInCodeBlocks&&(Q=""),N="<pre><code>"+N+Q+"</code></pre>",O.subParser("hashBlock")(N,x,T)+ne})).replace(/\xa80/,""),T.converter._dispatch("codeBlocks.after",E,x,T)}),O.subParser("codeSpans",function(E,x,T){"use strict";return typeof(E=T.converter._dispatch("codeSpans.before",E,x,T))>"u"&&(E=""),E=E.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(W,Y,P,L){var N=L;return N=(N=N.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),N=Y+"<code>"+(N=O.subParser("encodeCode")(N,x,T))+"</code>",O.subParser("hashHTMLSpans")(N,x,T)}),T.converter._dispatch("codeSpans.after",E,x,T)}),O.subParser("completeHTMLDocument",function(E,x,T){"use strict";if(!x.completeHTMLDocument)return E;E=T.converter._dispatch("completeHTMLDocument.before",E,x,T);var W="html",Y="<!DOCTYPE HTML>\n",P="",L='<meta charset="utf-8">\n',N="",ne="";for(var Q in typeof T.metadata.parsed.doctype<"u"&&(Y="<!DOCTYPE "+T.metadata.parsed.doctype+">\n",("html"===(W=T.metadata.parsed.doctype.toString().toLowerCase())||"html5"===W)&&(L='<meta charset="utf-8">')),T.metadata.parsed)if(T.metadata.parsed.hasOwnProperty(Q))switch(Q.toLowerCase()){case"doctype":break;case"title":P="<title>"+T.metadata.parsed.title+"</title>\n";break;case"charset":L="html"===W||"html5"===W?'<meta charset="'+T.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+T.metadata.parsed.charset+'">\n';break;case"language":case"lang":N=' lang="'+T.metadata.parsed[Q]+'"',ne+='<meta name="'+Q+'" content="'+T.metadata.parsed[Q]+'">\n';break;default:ne+='<meta name="'+Q+'" content="'+T.metadata.parsed[Q]+'">\n'}return E=Y+"<html"+N+">\n<head>\n"+P+L+ne+"</head>\n<body>\n"+E.trim()+"\n</body>\n</html>",T.converter._dispatch("completeHTMLDocument.after",E,x,T)}),O.subParser("detab",function(E,x,T){"use strict";return E=(E=(E=(E=(E=(E=T.converter._dispatch("detab.before",E,x,T)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"\xa8A\xa8B")).replace(/\xa8B(.+?)\xa8A/g,function(W,Y){for(var P=Y,L=4-P.length%4,N=0;N<L;N++)P+=" ";return P})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),T.converter._dispatch("detab.after",E,x,T)}),O.subParser("ellipsis",function(E,x,T){"use strict";return x.ellipsis&&(E=(E=T.converter._dispatch("ellipsis.before",E,x,T)).replace(/\.\.\./g,"\u2026"),E=T.converter._dispatch("ellipsis.after",E,x,T)),E}),O.subParser("emoji",function(E,x,T){"use strict";return x.emoji?(E=(E=T.converter._dispatch("emoji.before",E,x,T)).replace(/:([\S]+?):/g,function(Y,P){return O.helper.emojis.hasOwnProperty(P)?O.helper.emojis[P]:Y}),T.converter._dispatch("emoji.after",E,x,T)):E}),O.subParser("encodeAmpsAndAngles",function(E,x,T){"use strict";return E=(E=(E=(E=(E=T.converter._dispatch("encodeAmpsAndAngles.before",E,x,T)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),T.converter._dispatch("encodeAmpsAndAngles.after",E,x,T)}),O.subParser("encodeBackslashEscapes",function(E,x,T){"use strict";return E=(E=(E=T.converter._dispatch("encodeBackslashEscapes.before",E,x,T)).replace(/\\(\\)/g,O.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,O.helper.escapeCharactersCallback),T.converter._dispatch("encodeBackslashEscapes.after",E,x,T)}),O.subParser("encodeCode",function(E,x,T){"use strict";return E=(E=T.converter._dispatch("encodeCode.before",E,x,T)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,O.helper.escapeCharactersCallback),T.converter._dispatch("encodeCode.after",E,x,T)}),O.subParser("escapeSpecialCharsWithinTagAttributes",function(E,x,T){"use strict";return E=(E=(E=T.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",E,x,T)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(P){return P.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,O.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(P){return P.replace(/([\\`*_~=|])/g,O.helper.escapeCharactersCallback)}),T.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",E,x,T)}),O.subParser("githubCodeBlocks",function(E,x,T){"use strict";return x.ghCodeBlocks?(E=T.converter._dispatch("githubCodeBlocks.before",E,x,T),E=(E=(E+="\xa80").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(W,Y,P,L){var N=x.omitExtraWLInCodeBlocks?"":"\n";return L=O.subParser("encodeCode")(L,x,T),L="<pre><code"+(P?' class="'+P+" language-"+P+'"':"")+">"+(L=(L=(L=O.subParser("detab")(L,x,T)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+N+"</code></pre>",L=O.subParser("hashBlock")(L,x,T),"\n\n\xa8G"+(T.ghCodeBlocks.push({text:W,codeblock:L})-1)+"G\n\n"})).replace(/\xa80/,""),T.converter._dispatch("githubCodeBlocks.after",E,x,T)):E}),O.subParser("hashBlock",function(E,x,T){"use strict";return E=(E=T.converter._dispatch("hashBlock.before",E,x,T)).replace(/(^\n+|\n+$)/g,""),E="\n\n\xa8K"+(T.gHtmlBlocks.push(E)-1)+"K\n\n",T.converter._dispatch("hashBlock.after",E,x,T)}),O.subParser("hashCodeTags",function(E,x,T){"use strict";return E=T.converter._dispatch("hashCodeTags.before",E,x,T),E=O.helper.replaceRecursiveRegExp(E,function(Y,P,L,N){var ne=L+O.subParser("encodeCode")(P,x,T)+N;return"\xa8C"+(T.gHtmlSpans.push(ne)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),T.converter._dispatch("hashCodeTags.after",E,x,T)}),O.subParser("hashElement",function(E,x,T){"use strict";return function(W,Y){var P=Y;return P=(P=(P=P.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),"\n\n\xa8K"+(T.gHtmlBlocks.push(P)-1)+"K\n\n"}}),O.subParser("hashHTMLBlocks",function(E,x,T){"use strict";E=T.converter._dispatch("hashHTMLBlocks.before",E,x,T);var W=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],Y=function(V,be,$e,qe){var Ue=V;return-1!==$e.search(/\bmarkdown\b/)&&(Ue=$e+T.converter.makeHtml(be)+qe),"\n\n\xa8K"+(T.gHtmlBlocks.push(Ue)-1)+"K\n\n"};x.backslashEscapesHTMLTags&&(E=E.replace(/\\<(\/?[^>]+?)>/g,function(V,be){return"&lt;"+be+"&gt;"}));for(var P=0;P<W.length;++P)for(var L,N=new RegExp("^ {0,3}(<"+W[P]+"\\b[^>]*>)","im"),ne="<"+W[P]+"\\b[^>]*>",Q="</"+W[P]+">";-1!==(L=O.helper.regexIndexOf(E,N));){var re=O.helper.splitAtIndex(E,L),ee=O.helper.replaceRecursiveRegExp(re[1],Y,ne,Q,"im");if(ee===re[1])break;E=re[0].concat(ee)}return E=E.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,O.subParser("hashElement")(E,x,T)),E=(E=O.helper.replaceRecursiveRegExp(E,function(V){return"\n\n\xa8K"+(T.gHtmlBlocks.push(V)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,O.subParser("hashElement")(E,x,T)),T.converter._dispatch("hashHTMLBlocks.after",E,x,T)}),O.subParser("hashHTMLSpans",function(E,x,T){"use strict";function W(Y){return"\xa8C"+(T.gHtmlSpans.push(Y)-1)+"C"}return E=(E=(E=(E=(E=T.converter._dispatch("hashHTMLSpans.before",E,x,T)).replace(/<[^>]+?\/>/gi,function(Y){return W(Y)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(Y){return W(Y)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(Y){return W(Y)})).replace(/<[^>]+?>/gi,function(Y){return W(Y)}),T.converter._dispatch("hashHTMLSpans.after",E,x,T)}),O.subParser("unhashHTMLSpans",function(E,x,T){"use strict";E=T.converter._dispatch("unhashHTMLSpans.before",E,x,T);for(var W=0;W<T.gHtmlSpans.length;++W){for(var Y=T.gHtmlSpans[W],P=0;/\xa8C(\d+)C/.test(Y);){var L=RegExp.$1;if(Y=Y.replace("\xa8C"+L+"C",T.gHtmlSpans[L]),10===P){console.error("maximum nesting of 10 spans reached!!!");break}++P}E=E.replace("\xa8C"+W+"C",Y)}return T.converter._dispatch("unhashHTMLSpans.after",E,x,T)}),O.subParser("hashPreCodeTags",function(E,x,T){"use strict";return E=T.converter._dispatch("hashPreCodeTags.before",E,x,T),E=O.helper.replaceRecursiveRegExp(E,function(Y,P,L,N){var ne=L+O.subParser("encodeCode")(P,x,T)+N;return"\n\n\xa8G"+(T.ghCodeBlocks.push({text:Y,codeblock:ne})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),T.converter._dispatch("hashPreCodeTags.after",E,x,T)}),O.subParser("headers",function(E,x,T){"use strict";E=T.converter._dispatch("headers.before",E,x,T);var W=isNaN(parseInt(x.headerLevelStart))?1:parseInt(x.headerLevelStart),P=x.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;function N(ne){var Q,re;if(x.customizedHeaderId){var ee=ne.match(/\{([^{]+?)}\s*$/);ee&&ee[1]&&(ne=ee[1])}return Q=ne,re=O.helper.isString(x.prefixHeaderId)?x.prefixHeaderId:!0===x.prefixHeaderId?"section-":"",x.rawPrefixHeaderId||(Q=re+Q),Q=x.ghCompatibleHeaderId?Q.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():x.rawHeaderId?Q.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"\xa8").replace(/\xa8D/g,"$").replace(/["']/g,"-").toLowerCase():Q.replace(/[^\w]/g,"").toLowerCase(),x.rawPrefixHeaderId&&(Q=re+Q),T.hashLinkCounts[Q]?Q=Q+"-"+T.hashLinkCounts[Q]++:T.hashLinkCounts[Q]=1,Q}return E=(E=(E=E.replace(x.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(ne,Q){var re=O.subParser("spanGamut")(Q,x,T),ee=x.noHeaderId?"":' id="'+N(Q)+'"',be="<h"+W+ee+">"+re+"</h"+W+">";return O.subParser("hashBlock")(be,x,T)})).replace(P,function(ne,Q){var re=O.subParser("spanGamut")(Q,x,T),ee=x.noHeaderId?"":' id="'+N(Q)+'"',V=W+1,be="<h"+V+ee+">"+re+"</h"+V+">";return O.subParser("hashBlock")(be,x,T)})).replace(x.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(ne,Q,re){var ee=re;x.customizedHeaderId&&(ee=re.replace(/\s?\{([^{]+?)}\s*$/,""));var V=O.subParser("spanGamut")(ee,x,T),be=x.noHeaderId?"":' id="'+N(re)+'"',$e=W-1+Q.length,qe="<h"+$e+be+">"+V+"</h"+$e+">";return O.subParser("hashBlock")(qe,x,T)}),T.converter._dispatch("headers.after",E,x,T)}),O.subParser("horizontalRule",function(E,x,T){"use strict";E=T.converter._dispatch("horizontalRule.before",E,x,T);var W=O.subParser("hashBlock")("<hr />",x,T);return E=(E=(E=E.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,W)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,W)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,W),T.converter._dispatch("horizontalRule.after",E,x,T)}),O.subParser("images",function(E,x,T){"use strict";function Q(re,ee,V,be,$e,qe,Ue,Xe){var on=T.gUrls,Kt=T.gTitles,Ht=T.gDimensions;if(V=V.toLowerCase(),Xe||(Xe=""),re.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)be="";else if(""===be||null===be){if((""===V||null===V)&&(V=ee.toLowerCase().replace(/ ?\n/g," ")),be="#"+V,O.helper.isUndefined(on[V]))return re;be=on[V],O.helper.isUndefined(Kt[V])||(Xe=Kt[V]),O.helper.isUndefined(Ht[V])||($e=Ht[V].width,qe=Ht[V].height)}ee=ee.replace(/"/g,"&quot;").replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback);var nn='<img src="'+(be=be.replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback))+'" alt="'+ee+'"';return Xe&&O.helper.isString(Xe)&&(nn+=' title="'+(Xe=Xe.replace(/"/g,"&quot;").replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback))+'"'),$e&&qe&&(nn+=' width="'+($e="*"===$e?"auto":$e)+'"',nn+=' height="'+(qe="*"===qe?"auto":qe)+'"'),nn+" />"}return E=(E=(E=(E=(E=(E=T.converter._dispatch("images.before",E,x,T)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,Q)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function ne(re,ee,V,be,$e,qe,Ue,Xe){return Q(re,ee,V,be=be.replace(/\s/g,""),$e,qe,0,Xe)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,Q)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,Q)).replace(/!\[([^\[\]]+)]()()()()()/g,Q),T.converter._dispatch("images.after",E,x,T)}),O.subParser("italicsAndBold",function(E,x,T){"use strict";function W(Y,P,L){return P+Y+L}return E=T.converter._dispatch("italicsAndBold.before",E,x,T),E=x.literalMidWordUnderscores?(E=(E=E.replace(/\b___(\S[\s\S]*?)___\b/g,function(Y,P){return W(P,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*?)__\b/g,function(Y,P){return W(P,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(Y,P){return W(P,"<em>","</em>")}):(E=(E=E.replace(/___(\S[\s\S]*?)___/g,function(Y,P){return/\S$/.test(P)?W(P,"<strong><em>","</em></strong>"):Y})).replace(/__(\S[\s\S]*?)__/g,function(Y,P){return/\S$/.test(P)?W(P,"<strong>","</strong>"):Y})).replace(/_([^\s_][\s\S]*?)_/g,function(Y,P){return/\S$/.test(P)?W(P,"<em>","</em>"):Y}),E=x.literalMidWordAsterisks?(E=(E=E.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(Y,P,L){return W(L,P+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(Y,P,L){return W(L,P+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(Y,P,L){return W(L,P+"<em>","</em>")}):(E=(E=E.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(Y,P){return/\S$/.test(P)?W(P,"<strong><em>","</em></strong>"):Y})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(Y,P){return/\S$/.test(P)?W(P,"<strong>","</strong>"):Y})).replace(/\*([^\s*][\s\S]*?)\*/g,function(Y,P){return/\S$/.test(P)?W(P,"<em>","</em>"):Y}),T.converter._dispatch("italicsAndBold.after",E,x,T)}),O.subParser("lists",function(E,x,T){"use strict";function W(L,N){T.gListLevel++,L=L.replace(/\n{2,}$/,"\n");var ne=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,Q=/\n[ \t]*\n(?!\xa80)/.test(L+="\xa80");return x.disableForced4SpacesIndentedSublists&&(ne=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),L=(L=L.replace(ne,function(re,ee,V,be,$e,qe,Ue){Ue=Ue&&""!==Ue.trim();var Xe=O.subParser("outdent")($e,x,T),on="";return qe&&x.tasklists&&(on=' class="task-list-item" style="list-style-type: none;"',Xe=Xe.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Kt='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return Ue&&(Kt+=" checked"),Kt+">"})),Xe=Xe.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Kt){return"\xa8A"+Kt}),ee||Xe.search(/\n{2,}/)>-1?(Xe=O.subParser("githubCodeBlocks")(Xe,x,T),Xe=O.subParser("blockGamut")(Xe,x,T)):(Xe=(Xe=O.subParser("lists")(Xe,x,T)).replace(/\n$/,""),Xe=(Xe=O.subParser("hashHTMLBlocks")(Xe,x,T)).replace(/\n\n+/g,"\n\n"),Xe=Q?O.subParser("paragraphs")(Xe,x,T):O.subParser("spanGamut")(Xe,x,T)),"<li"+on+">"+(Xe=Xe.replace("\xa8A",""))+"</li>\n"})).replace(/\xa80/g,""),T.gListLevel--,N&&(L=L.replace(/\s+$/,"")),L}function Y(L,N){if("ol"===N){var ne=L.match(/^ *(\d+)\./);if(ne&&"1"!==ne[1])return' start="'+ne[1]+'"'}return""}function P(L,N,ne){var Q=x.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,re=x.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,ee="ul"===N?Q:re,V="";if(-1!==L.search(ee))!function $e(qe){var Ue=qe.search(ee),Xe=Y(L,N);-1!==Ue?(V+="\n\n<"+N+Xe+">\n"+W(qe.slice(0,Ue),!!ne)+"</"+N+">\n",ee="ul"==(N="ul"===N?"ol":"ul")?Q:re,$e(qe.slice(Ue))):V+="\n\n<"+N+Xe+">\n"+W(qe,!!ne)+"</"+N+">\n"}(L);else{var be=Y(L,N);V="\n\n<"+N+be+">\n"+W(L,!!ne)+"</"+N+">\n"}return V}return E=T.converter._dispatch("lists.before",E,x,T),E+="\xa80",E=(E=T.gListLevel?E.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(L,N,ne){return P(N,ne.search(/[*+-]/g)>-1?"ul":"ol",!0)}):E.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(L,N,ne,Q){return P(ne,Q.search(/[*+-]/g)>-1?"ul":"ol",!1)})).replace(/\xa80/,""),T.converter._dispatch("lists.after",E,x,T)}),O.subParser("metadata",function(E,x,T){"use strict";if(!x.metadata)return E;function W(Y){T.metadata.raw=Y,(Y=(Y=Y.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(P,L,N){return T.metadata.parsed[L]=N,""})}return E=(E=(E=(E=T.converter._dispatch("metadata.before",E,x,T)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(Y,P,L){return W(L),"\xa8M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(Y,P,L){return P&&(T.metadata.format=P),W(L),"\xa8M"})).replace(/\xa8M/g,""),T.converter._dispatch("metadata.after",E,x,T)}),O.subParser("outdent",function(E,x,T){"use strict";return E=(E=(E=T.converter._dispatch("outdent.before",E,x,T)).replace(/^(\t|[ ]{1,4})/gm,"\xa80")).replace(/\xa80/g,""),T.converter._dispatch("outdent.after",E,x,T)}),O.subParser("paragraphs",function(E,x,T){"use strict";for(var W=(E=(E=(E=T.converter._dispatch("paragraphs.before",E,x,T)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),Y=[],P=W.length,L=0;L<P;L++){var N=W[L];N.search(/\xa8(K|G)(\d+)\1/g)>=0?Y.push(N):N.search(/\S/)>=0&&(N=(N=O.subParser("spanGamut")(N,x,T)).replace(/^([ \t]*)/g,"<p>"),Y.push(N+="</p>"))}for(P=Y.length,L=0;L<P;L++){for(var ne="",Q=Y[L],re=!1;/\xa8(K|G)(\d+)\1/.test(Q);){var ee=RegExp.$1,V=RegExp.$2;ne=(ne="K"===ee?T.gHtmlBlocks[V]:re?O.subParser("encodeCode")(T.ghCodeBlocks[V].text,x,T):T.ghCodeBlocks[V].codeblock).replace(/\$/g,"$$$$"),Q=Q.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,ne),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(Q)&&(re=!0)}Y[L]=Q}return E=(E=(E=Y.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),T.converter._dispatch("paragraphs.after",E,x,T)}),O.subParser("runExtension",function(E,x,T,W){"use strict";if(E.filter)x=E.filter(x,W.converter,T);else if(E.regex){var Y=E.regex;Y instanceof RegExp||(Y=new RegExp(Y,"g")),x=x.replace(Y,E.replace)}return x}),O.subParser("spanGamut",function(E,x,T){"use strict";return E=T.converter._dispatch("spanGamut.before",E,x,T),E=O.subParser("codeSpans")(E,x,T),E=O.subParser("escapeSpecialCharsWithinTagAttributes")(E,x,T),E=O.subParser("encodeBackslashEscapes")(E,x,T),E=O.subParser("images")(E,x,T),E=O.subParser("anchors")(E,x,T),E=O.subParser("autoLinks")(E,x,T),E=O.subParser("simplifiedAutoLinks")(E,x,T),E=O.subParser("emoji")(E,x,T),E=O.subParser("underline")(E,x,T),E=O.subParser("italicsAndBold")(E,x,T),E=O.subParser("strikethrough")(E,x,T),E=O.subParser("ellipsis")(E,x,T),E=O.subParser("hashHTMLSpans")(E,x,T),E=O.subParser("encodeAmpsAndAngles")(E,x,T),x.simpleLineBreaks?/\n\n\xa8K/.test(E)||(E=E.replace(/\n+/g,"<br />\n")):E=E.replace(/  +\n/g,"<br />\n"),T.converter._dispatch("spanGamut.after",E,x,T)}),O.subParser("strikethrough",function(E,x,T){"use strict";return x.strikethrough&&(E=(E=T.converter._dispatch("strikethrough.before",E,x,T)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(Y,P){return function W(Y){return x.simplifiedAutoLink&&(Y=O.subParser("simplifiedAutoLinks")(Y,x,T)),"<del>"+Y+"</del>"}(P)}),E=T.converter._dispatch("strikethrough.after",E,x,T)),E}),O.subParser("stripLinkDefinitions",function(E,x,T){"use strict";var P=function(L,N,ne,Q,re,ee,V){return N=N.toLowerCase(),E.toLowerCase().split(N).length-1<2?L:(T.gUrls[N]=ne.match(/^data:.+?\/.+?;base64,/)?ne.replace(/\s/g,""):O.subParser("encodeAmpsAndAngles")(ne,x,T),ee?ee+V:(V&&(T.gTitles[N]=V.replace(/"|'/g,"&quot;")),x.parseImgDimensions&&Q&&re&&(T.gDimensions[N]={width:Q,height:re}),""))};return E=(E=(E=(E+="\xa80").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,P)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,P)).replace(/\xa80/,"")}),O.subParser("tables",function(E,x,T){"use strict";if(!x.tables)return E;function P(re){return/^:[ \t]*--*$/.test(re)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(re)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(re)?' style="text-align:center;"':""}function L(re,ee){var V="";return re=re.trim(),(x.tablesHeaderId||x.tableHeaderId)&&(V=' id="'+re.replace(/ /g,"_").toLowerCase()+'"'),"<th"+V+ee+">"+(re=O.subParser("spanGamut")(re,x,T))+"</th>\n"}function N(re,ee){return"<td"+ee+">"+O.subParser("spanGamut")(re,x,T)+"</td>\n"}function Q(re){var ee,V=re.split("\n");for(ee=0;ee<V.length;++ee)/^ {0,3}\|/.test(V[ee])&&(V[ee]=V[ee].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(V[ee])&&(V[ee]=V[ee].replace(/\|[ \t]*$/,"")),V[ee]=O.subParser("codeSpans")(V[ee],x,T);var be=V[0].split("|").map(function(nn){return nn.trim()}),$e=V[1].split("|").map(function(nn){return nn.trim()}),qe=[],Ue=[],Xe=[],on=[];for(V.shift(),V.shift(),ee=0;ee<V.length;++ee)""!==V[ee].trim()&&qe.push(V[ee].split("|").map(function(nn){return nn.trim()}));if(be.length<$e.length)return re;for(ee=0;ee<$e.length;++ee)Xe.push(P($e[ee]));for(ee=0;ee<be.length;++ee)O.helper.isUndefined(Xe[ee])&&(Xe[ee]=""),Ue.push(L(be[ee],Xe[ee]));for(ee=0;ee<qe.length;++ee){for(var Kt=[],Ht=0;Ht<Ue.length;++Ht)O.helper.isUndefined(qe[ee][Ht]),Kt.push(N(qe[ee][Ht],Xe[Ht]));on.push(Kt)}return function ne(re,ee){for(var V="<table>\n<thead>\n<tr>\n",be=re.length,$e=0;$e<be;++$e)V+=re[$e];for(V+="</tr>\n</thead>\n<tbody>\n",$e=0;$e<ee.length;++$e){V+="<tr>\n";for(var qe=0;qe<be;++qe)V+=ee[$e][qe];V+="</tr>\n"}return V+"</tbody>\n</table>\n"}(Ue,on)}return E=(E=(E=(E=T.converter._dispatch("tables.before",E,x,T)).replace(/\\(\|)/g,O.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,Q)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,Q),T.converter._dispatch("tables.after",E,x,T)}),O.subParser("underline",function(E,x,T){"use strict";return x.underline&&(E=T.converter._dispatch("underline.before",E,x,T),E=(E=x.literalMidWordUnderscores?(E=E.replace(/\b___(\S[\s\S]*?)___\b/g,function(W,Y){return"<u>"+Y+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(W,Y){return"<u>"+Y+"</u>"}):(E=E.replace(/___(\S[\s\S]*?)___/g,function(W,Y){return/\S$/.test(Y)?"<u>"+Y+"</u>":W})).replace(/__(\S[\s\S]*?)__/g,function(W,Y){return/\S$/.test(Y)?"<u>"+Y+"</u>":W})).replace(/(_)/g,O.helper.escapeCharactersCallback),E=T.converter._dispatch("underline.after",E,x,T)),E}),O.subParser("unescapeSpecialChars",function(E,x,T){"use strict";return E=(E=T.converter._dispatch("unescapeSpecialChars.before",E,x,T)).replace(/\xa8E(\d+)E/g,function(W,Y){var P=parseInt(Y);return String.fromCharCode(P)}),T.converter._dispatch("unescapeSpecialChars.after",E,x,T)}),O.subParser("makeMarkdown.blockquote",function(E,x){"use strict";var T="";if(E.hasChildNodes())for(var W=E.childNodes,Y=W.length,P=0;P<Y;++P){var L=O.subParser("makeMarkdown.node")(W[P],x);""!==L&&(T+=L)}return"> "+(T=T.trim()).split("\n").join("\n> ")}),O.subParser("makeMarkdown.codeBlock",function(E,x){"use strict";var T=E.getAttribute("language"),W=E.getAttribute("precodenum");return"```"+T+"\n"+x.preList[W]+"\n```"}),O.subParser("makeMarkdown.codeSpan",function(E){"use strict";return"`"+E.innerHTML+"`"}),O.subParser("makeMarkdown.emphasis",function(E,x){"use strict";var T="";if(E.hasChildNodes()){T+="*";for(var W=E.childNodes,Y=W.length,P=0;P<Y;++P)T+=O.subParser("makeMarkdown.node")(W[P],x);T+="*"}return T}),O.subParser("makeMarkdown.header",function(E,x,T){"use strict";var W=new Array(T+1).join("#"),Y="";if(E.hasChildNodes()){Y=W+" ";for(var P=E.childNodes,L=P.length,N=0;N<L;++N)Y+=O.subParser("makeMarkdown.node")(P[N],x)}return Y}),O.subParser("makeMarkdown.hr",function(){"use strict";return"---"}),O.subParser("makeMarkdown.image",function(E){"use strict";var x="";return E.hasAttribute("src")&&(x+="!["+E.getAttribute("alt")+"](",x+="<"+E.getAttribute("src")+">",E.hasAttribute("width")&&E.hasAttribute("height")&&(x+=" ="+E.getAttribute("width")+"x"+E.getAttribute("height")),E.hasAttribute("title")&&(x+=' "'+E.getAttribute("title")+'"'),x+=")"),x}),O.subParser("makeMarkdown.links",function(E,x){"use strict";var T="";if(E.hasChildNodes()&&E.hasAttribute("href")){var W=E.childNodes,Y=W.length;T="[";for(var P=0;P<Y;++P)T+=O.subParser("makeMarkdown.node")(W[P],x);T+="](",T+="<"+E.getAttribute("href")+">",E.hasAttribute("title")&&(T+=' "'+E.getAttribute("title")+'"'),T+=")"}return T}),O.subParser("makeMarkdown.list",function(E,x,T){"use strict";var W="";if(!E.hasChildNodes())return"";for(var Y=E.childNodes,P=Y.length,L=E.getAttribute("start")||1,N=0;N<P;++N)typeof Y[N].tagName>"u"||"li"!==Y[N].tagName.toLowerCase()||(W+=("ol"===T?L.toString()+". ":"- ")+O.subParser("makeMarkdown.listItem")(Y[N],x),++L);return(W+="\n\x3c!-- --\x3e\n").trim()}),O.subParser("makeMarkdown.listItem",function(E,x){"use strict";for(var T="",W=E.childNodes,Y=W.length,P=0;P<Y;++P)T+=O.subParser("makeMarkdown.node")(W[P],x);return/\n$/.test(T)?T=T.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):T+="\n",T}),O.subParser("makeMarkdown.node",function(E,x,T){"use strict";T=T||!1;var W="";if(3===E.nodeType)return O.subParser("makeMarkdown.txt")(E,x);if(8===E.nodeType)return"\x3c!--"+E.data+"--\x3e\n\n";if(1!==E.nodeType)return"";switch(E.tagName.toLowerCase()){case"h1":T||(W=O.subParser("makeMarkdown.header")(E,x,1)+"\n\n");break;case"h2":T||(W=O.subParser("makeMarkdown.header")(E,x,2)+"\n\n");break;case"h3":T||(W=O.subParser("makeMarkdown.header")(E,x,3)+"\n\n");break;case"h4":T||(W=O.subParser("makeMarkdown.header")(E,x,4)+"\n\n");break;case"h5":T||(W=O.subParser("makeMarkdown.header")(E,x,5)+"\n\n");break;case"h6":T||(W=O.subParser("makeMarkdown.header")(E,x,6)+"\n\n");break;case"p":T||(W=O.subParser("makeMarkdown.paragraph")(E,x)+"\n\n");break;case"blockquote":T||(W=O.subParser("makeMarkdown.blockquote")(E,x)+"\n\n");break;case"hr":T||(W=O.subParser("makeMarkdown.hr")(E,x)+"\n\n");break;case"ol":T||(W=O.subParser("makeMarkdown.list")(E,x,"ol")+"\n\n");break;case"ul":T||(W=O.subParser("makeMarkdown.list")(E,x,"ul")+"\n\n");break;case"precode":T||(W=O.subParser("makeMarkdown.codeBlock")(E,x)+"\n\n");break;case"pre":T||(W=O.subParser("makeMarkdown.pre")(E,x)+"\n\n");break;case"table":T||(W=O.subParser("makeMarkdown.table")(E,x)+"\n\n");break;case"code":W=O.subParser("makeMarkdown.codeSpan")(E,x);break;case"em":case"i":W=O.subParser("makeMarkdown.emphasis")(E,x);break;case"strong":case"b":W=O.subParser("makeMarkdown.strong")(E,x);break;case"del":W=O.subParser("makeMarkdown.strikethrough")(E,x);break;case"a":W=O.subParser("makeMarkdown.links")(E,x);break;case"img":W=O.subParser("makeMarkdown.image")(E,x);break;default:W=E.outerHTML+"\n\n"}return W}),O.subParser("makeMarkdown.paragraph",function(E,x){"use strict";var T="";if(E.hasChildNodes())for(var W=E.childNodes,Y=W.length,P=0;P<Y;++P)T+=O.subParser("makeMarkdown.node")(W[P],x);return T.trim()}),O.subParser("makeMarkdown.pre",function(E,x){"use strict";var T=E.getAttribute("prenum");return"<pre>"+x.preList[T]+"</pre>"}),O.subParser("makeMarkdown.strikethrough",function(E,x){"use strict";var T="";if(E.hasChildNodes()){T+="~~";for(var W=E.childNodes,Y=W.length,P=0;P<Y;++P)T+=O.subParser("makeMarkdown.node")(W[P],x);T+="~~"}return T}),O.subParser("makeMarkdown.strong",function(E,x){"use strict";var T="";if(E.hasChildNodes()){T+="**";for(var W=E.childNodes,Y=W.length,P=0;P<Y;++P)T+=O.subParser("makeMarkdown.node")(W[P],x);T+="**"}return T}),O.subParser("makeMarkdown.table",function(E,x){"use strict";var L,N,T="",W=[[],[]],Y=E.querySelectorAll("thead>tr>th"),P=E.querySelectorAll("tbody>tr");for(L=0;L<Y.length;++L){var ne=O.subParser("makeMarkdown.tableCell")(Y[L],x),Q="---";if(Y[L].hasAttribute("style"))switch(Y[L].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":Q=":---";break;case"text-align:right;":Q="---:";break;case"text-align:center;":Q=":---:"}W[0][L]=ne.trim(),W[1][L]=Q}for(L=0;L<P.length;++L){var ee=W.push([])-1,V=P[L].getElementsByTagName("td");for(N=0;N<Y.length;++N){var be=" ";typeof V[N]<"u"&&(be=O.subParser("makeMarkdown.tableCell")(V[N],x)),W[ee].push(be)}}var $e=3;for(L=0;L<W.length;++L)for(N=0;N<W[L].length;++N){var qe=W[L][N].length;qe>$e&&($e=qe)}for(L=0;L<W.length;++L){for(N=0;N<W[L].length;++N)W[L][N]=1===L?":"===W[L][N].slice(-1)?O.helper.padEnd(W[L][N].slice(-1),$e-1,"-")+":":O.helper.padEnd(W[L][N],$e,"-"):O.helper.padEnd(W[L][N],$e);T+="| "+W[L].join(" | ")+" |\n"}return T.trim()}),O.subParser("makeMarkdown.tableCell",function(E,x){"use strict";var T="";if(!E.hasChildNodes())return"";for(var W=E.childNodes,Y=W.length,P=0;P<Y;++P)T+=O.subParser("makeMarkdown.node")(W[P],x,!0);return T.trim()}),O.subParser("makeMarkdown.txt",function(E){"use strict";var x=E.nodeValue;return x=(x=x.replace(/ +/g," ")).replace(/\xa8NBSP;/g," "),(x=(x=(x=(x=(x=(x=(x=(x=O.helper.unescapeHTMLEntities(x)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}),void 0!==(l=function(){"use strict";return O}.call(Fe,B,Fe,pt))&&(pt.exports=l)}).call(this)},655:(pt,Fe,B)=>{"use strict";function O(N,ne){var Q={};for(var re in N)Object.prototype.hasOwnProperty.call(N,re)&&ne.indexOf(re)<0&&(Q[re]=N[re]);if(null!=N&&"function"==typeof Object.getOwnPropertySymbols){var ee=0;for(re=Object.getOwnPropertySymbols(N);ee<re.length;ee++)ne.indexOf(re[ee])<0&&Object.prototype.propertyIsEnumerable.call(N,re[ee])&&(Q[re[ee]]=N[re[ee]])}return Q}function _e(N,ne,Q,re){return new(Q||(Q=Promise))(function(V,be){function $e(Xe){try{Ue(re.next(Xe))}catch(on){be(on)}}function qe(Xe){try{Ue(re.throw(Xe))}catch(on){be(on)}}function Ue(Xe){Xe.done?V(Xe.value):function ee(V){return V instanceof Q?V:new Q(function(be){be(V)})}(Xe.value).then($e,qe)}Ue((re=re.apply(N,ne||[])).next())})}B.d(Fe,{_T:()=>O,mG:()=>_e})},4650:(pt,Fe,B)=>{"use strict";B.d(Fe,{$8M:()=>Dh,$Z:()=>D0,AFp:()=>OC,ALo:()=>pb,AaK:()=>_e,BQk:()=>Ef,CHM:()=>Hi,CRH:()=>ka,CZH:()=>Jt,CqO:()=>Cf,D6c:()=>uD,EJc:()=>QT,EiD:()=>Gc,EpF:()=>Dv,F$t:()=>tE,F4k:()=>Sv,FYo:()=>en,FiY:()=>ia,G48:()=>cA,Gf:()=>_C,GfV:()=>Gt,Gpc:()=>J,Hsn:()=>mi,Ikx:()=>Dg,JOm:()=>Ir,JVY:()=>am,Jf7:()=>b,KtG:()=>Ii,L6k:()=>um,LAX:()=>Hc,LFG:()=>ar,LSH:()=>ca,Lbi:()=>RC,MAs:()=>Ev,MMx:()=>Gf,NdJ:()=>Df,O4$:()=>Up,OlP:()=>Tn,Oqu:()=>_g,PXZ:()=>UC,Q6J:()=>bf,QGY:()=>Iv,QP$:()=>Pl,QbO:()=>YT,Qsj:()=>xd,R0b:()=>Es,RDi:()=>fy,Rgc:()=>Bd,SBq:()=>Fg,Sil:()=>si,Suo:()=>yC,TTD:()=>Di,TgZ:()=>wf,Udp:()=>Rv,VKq:()=>kl,W1O:()=>wb,WFA:()=>If,X6Q:()=>JC,XFs:()=>St,Xpm:()=>X,Xts:()=>Am,Y36:()=>rd,YKP:()=>JE,YNc:()=>Ti,Yjl:()=>Ae,Yz7:()=>Ht,ZZ4:()=>__,_Bn:()=>lt,_UZ:()=>Cv,_Vd:()=>$f,_c5:()=>v_,_uU:()=>kf,aQg:()=>$l,c2e:()=>PC,cJS:()=>Dt,cg1:()=>Sg,d8E:()=>Gv,dDg:()=>sA,deG:()=>Ya,dqk:()=>tt,eBb:()=>my,eFA:()=>zC,ekj:()=>Af,eoX:()=>Ul,f3M:()=>Jp,g9A:()=>rp,h0i:()=>Il,hGG:()=>b_,hM9:()=>ub,hij:()=>cu,iGM:()=>gC,ifc:()=>sn,ip1:()=>xC,kL8:()=>Ff,kcU:()=>Z_,lG2:()=>we,lcZ:()=>vu,lqb:()=>td,lri:()=>Vb,mCW:()=>Pi,n5z:()=>Ri,n_E:()=>Kf,oAB:()=>yt,oJD:()=>Wc,oxw:()=>Av,pB0:()=>gy,q3G:()=>mr,q4F:()=>Od,qLn:()=>il,qOj:()=>gv,qZA:()=>yd,qzn:()=>eo,rWj:()=>VC,sBO:()=>Hb,sIi:()=>yf,s_b:()=>$g,soG:()=>r_,tb:()=>Rb,tp0:()=>wo,uIk:()=>fd,vHH:()=>De,vpe:()=>js,wAp:()=>Pt,xi3:()=>ao,xp6:()=>ZI,ynx:()=>Ca,z2F:()=>c_,z3N:()=>qi,zSh:()=>hl,zs3:()=>ma});var l=B(8929),pe=B(2654),K=B(2916),O=B(6787),Ee=B(2474);function ce(s){for(let o in s)if(s[o]===ce)return o;throw Error("Could not find renamed property on target object.")}function ge(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const U=ce({__forward_ref__:ce});function J(s){return s.__forward_ref__=J,s.toString=function(){return _e(this())},s}function q(s){return me(s)?s():s}function me(s){return"function"==typeof s&&s.hasOwnProperty(U)&&s.__forward_ref__===J}class De extends Error{constructor(o,u){super(function Oe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function xe(s){return"string"==typeof s?s:null==s?"":String(s)}function x(s,o){throw new De(-201,!1)}function qe(s,o){null==s&&function Ue(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Ht(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Dt(s){return{providers:s.providers||[],imports:s.imports||[]}}function _t(s){return Dn(s,tr)||Dn(s,Gr)}function Dn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Mn(s){return s&&(s.hasOwnProperty(cr)||s.hasOwnProperty(kr))?s[cr]:null}const tr=ce({\u0275prov:ce}),cr=ce({\u0275inj:ce}),Gr=ce({ngInjectableDef:ce}),kr=ce({ngInjectorDef:ce});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let br;function Bn(s){const o=br;return br=s,o}function Vr(s,o,u){const d=_t(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&St.Optional?null:void 0!==o?o:void x(_e(s))}function vn(s){return{toString:s}.toString()}var zn=(()=>((zn=zn||{})[zn.OnPush=0]="OnPush",zn[zn.Default=1]="Default",zn))(),sn=(()=>{return(s=sn||(sn={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",sn;var s})();const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nr={},Lt=[],xr=ce({\u0275cmp:ce}),Wn=ce({\u0275dir:ce}),Or=ce({\u0275pipe:ce}),cn=ce({\u0275mod:ce}),dr=ce({\u0275fac:ce}),ie=ce({__NG_ELEMENT_ID__:ce});let ae=0;function X(s){return vn(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Lt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||sn.Emulated,id:"c"+ae++,styles:s.styles||Lt,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return h.inputs=an(s.inputs,d),h.outputs=an(s.outputs),v&&v.forEach(C=>C(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(oe).filter(He):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(et).filter(He):null,h})}function oe(s){return Le(s)||Ke(s)}function He(s){return null!==s}const it={};function yt(s){return vn(()=>{const o={type:s.type,bootstrap:s.bootstrap||Lt,declarations:s.declarations||Lt,imports:s.imports||Lt,exports:s.exports||Lt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(it[s.id]=s.type),o})}function an(s,o){if(null==s)return nr;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=d,o&&(o[h]=m)}return u}const we=X;function Ae(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Le(s){return s[xr]||null}function Ke(s){return s[Wn]||null}function et(s){return s[Or]||null}function wt(s,o){const u=s[cn]||null;if(!u&&!0===o)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return u}function Sn(s){return Array.isArray(s)&&"object"==typeof s[1]}function Oi(s){return Array.isArray(s)&&!0===s[1]}function xs(s){return 0!=(8&s.flags)}function zs(s){return 2==(2&s.flags)}function ci(s){return 1==(1&s.flags)}function ei(s){return null!==s.template}function zo(s){return 0!=(256&s[2])}function mo(s,o){return s.hasOwnProperty(dr)?s[dr]:null}class Fu{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Di(){return ns}function ns(s){return s.type.prototype.ngOnChanges&&(s.setInput=Va),Os}function Os(){const s=Ws(this),o=s?.current;if(o){const u=s.previous;if(u===nr)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Va(s,o,u,d){const h=Ws(s)||function Lu(s,o){return s[Gs]=o}(s,{previous:nr,current:null}),m=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[u],D=v[C];m[C]=new Fu(D&&D.currentValue,o,v===nr),s[d]=o}Di.ngInherit=!0;const Gs="__ngSimpleChanges__";function Ws(s){return s[Gs]||null}function hr(s){for(;Array.isArray(s);)s=s[0];return s}function Wo(s,o){return hr(o[s])}function fr(s,o){return hr(o[s.index])}function Ha(s,o){return s.data[o]}function Ps(s,o){return s[o]}function Br(s,o){const u=o[s];return Sn(u)?u:u[0]}function qo(s){return 4==(4&s[2])}function go(s){return 64==(64&s[2])}function H(s,o){return null==o?null:s[o]}function fe(s){s[18]=0}function Me(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const Se={lFrame:_c(null),bindingsEnabled:!0};function Nn(){return Se.bindingsEnabled}function je(){return Se.lFrame.lView}function Yt(){return Se.lFrame.tView}function Hi(s){return Se.lFrame.contextLView=s,s[8]}function Ii(s){return Se.lFrame.contextLView=null,s}function rr(){let s=qs();for(;null!==s&&64===s.type;)s=s.parent;return s}function qs(){return Se.lFrame.currentTNode}function Dr(s,o){const u=Se.lFrame;u.currentTNode=s,u.isParent=o}function Ns(){return Se.lFrame.isParent}function _o(){Se.lFrame.isParent=!1}function Kr(){const s=Se.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ko(){return Se.lFrame.bindingIndex++}function hc(s,o){const u=Se.lFrame;u.bindingIndex=u.bindingRootIndex=s,Vu(o)}function Vu(s){Se.lFrame.currentDirectiveIndex=s}function fc(s){const o=Se.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function pc(){return Se.lFrame.currentQueryIndex}function _h(s){Se.lFrame.currentQueryIndex=s}function yh(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function mc(s,o,u){if(u&St.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||u&St.Host||(h=yh(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=Se.lFrame=W_();return d.currentTNode=o,d.lView=s,!0}function gc(s){const o=W_(),u=s[1];Se.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function W_(){const s=Se.lFrame,o=null===s?null:s.child;return null===o?_c(s):o}function _c(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Bp(){const s=Se.lFrame;return Se.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const yc=Bp;function vc(){const s=Bp();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ur(){return Se.lFrame.selectedIndex}function Zs(s){Se.lFrame.selectedIndex=s}function Fn(){const s=Se.lFrame;return Ha(s.tView,s.selectedIndex)}function Up(){Se.lFrame.currentNamespace="svg"}function Z_(){!function Y_(){Se.lFrame.currentNamespace=null}()}function wh(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const m=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),C&&((s.contentHooks||(s.contentHooks=[])).push(u,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,C)),D&&(s.viewHooks||(s.viewHooks=[])).push(-u,D),S&&((s.viewHooks||(s.viewHooks=[])).push(u,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(u,R)}}function jp(s,o,u){yo(s,o,3,u)}function Hp(s,o,u,d){(3&s[2])===u&&yo(s,o,u,d)}function Eh(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function yo(s,o,u,d){const m=d??-1,v=o.length-1;let C=0;for(let D=void 0!==d?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(C=o[D],null!=d&&C>=d)break}else o[D]<0&&(s[18]+=65536),(C<m||-1==m)&&(Nw(s,u,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Nw(s,o,u,d){const h=u[d]<0,m=u[d+1],C=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class za{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Bu(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const m=u[d++],v=u[d++],C=u[d++];s.setAttribute(o,v,C,m)}else{const m=h,v=u[++d];Uu(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),d++}}return d}function ey(s){return 3===s||4===s||6===s}function Uu(s){return 64===s.charCodeAt(0)}function wc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||ty(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function ty(s,o,u,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===u){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,u),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function ny(s){return-1!==s}function ju(s){return 32767&s}function vo(s,o){let u=function kI(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let Ec=!0;function us(s){const o=Ec;return Ec=s,o}let Et=0;const dn={};function It(s,o){const u=ti(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,qn(d.data,s),qn(o,null),qn(d.blueprint,null));const h=Jn(s,o),m=s.injectorIndex;if(ny(h)){const v=ju(h),C=vo(h,o),D=C[1].data;for(let S=0;S<8;S++)o[m+S]=C[v+S]|D[v+S]}return o[m+8]=h,m}function qn(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ti(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Jn(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=sr(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Cc(s,o,u){!function Wa(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(ie)&&(d=u[ie]),null==d&&(d=u[ie]=Et++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function Ut(s,o,u){if(u&St.Optional)return s;x()}function Hu(s,o,u,d){if(u&St.Optional&&void 0===d&&(d=null),0==(u&(St.Self|St.Host))){const h=s[9],m=Bn(void 0);try{return h?h.get(o,d,u&St.Optional):Vr(o,d,u&St.Optional)}finally{Bn(m)}}return Ut(d,0,u)}function Ys(s,o,u,d=St.Default,h){if(null!==s){if(1024&o[2]){const v=function Ch(s,o,u,d,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Qo(m,v,u,d|St.Self,dn);if(C!==dn)return C;let D=m.parent;if(!D){const S=v[21];if(S){const R=S.get(u,dn,d);if(R!==dn)return R}D=sr(v),v=v[15]}m=D}return h}(s,o,u,d,dn);if(v!==dn)return v}const m=Qo(s,o,u,d,dn);if(m!==dn)return m}return Hu(o,u,d,h)}function Qo(s,o,u,d,h){const m=function Sc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ie)?s[ie]:void 0;return"number"==typeof o?o>=0?255&o:Gp:o}(u);if("function"==typeof m){if(!mc(o,s,d))return d&St.Host?Ut(h,0,d):Hu(o,u,d,h);try{const v=m(d);if(null!=v||d&St.Optional)return v;x()}finally{yc()}}else if("number"==typeof m){let v=null,C=ti(s,o),D=-1,S=d&St.Host?o[16][6]:null;for((-1===C||d&St.SkipSelf)&&(D=-1===C?Jn(s,o):o[C+8],-1!==D&&Un(d,!1)?(v=o[1],C=ju(D),o=vo(D,o)):C=-1);-1!==C;){const R=o[1];if(Tc(m,C,R.data)){const $=Dc(C,o,u,v,d,S);if($!==dn)return $}D=o[C+8],-1!==D&&Un(d,o[1].data[C+8]===S)&&Tc(m,C,o)?(v=R,C=ju(D),o=vo(D,o)):C=-1}}return h}function Dc(s,o,u,d,h,m){const v=o[1],C=v.data[s+8],R=Ic(C,v,u,null==d?zs(C)&&Ec:d!=v&&0!=(3&C.type),h&St.Host&&m===C);return null!==R?Jo(o,v,R,C):dn}function Ic(s,o,u,d,h){const m=s.providerIndexes,v=o.data,C=1048575&m,D=s.directiveStart,R=m>>20,ue=h?C+R:s.directiveEnd;for(let ve=d?C:C+R;ve<ue;ve++){const Be=v[ve];if(ve<D&&u===Be||ve>=D&&Be.type===u)return ve}if(h){const ve=v[D];if(ve&&ei(ve)&&ve.type===u)return D}return null}function Jo(s,o,u,d){let h=s[u];const m=o.data;if(function bc(s){return s instanceof za}(h)){const v=h;v.resolving&&function rt(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new De(-200,`Circular dependency in DI detected for ${s}${u}`)}(function ke(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():xe(s)}(m[u]));const C=us(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Bn(v.injectImpl):null;mc(s,d,St.Default);try{h=s[u]=v.factory(void 0,m,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Q_(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=ns(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m))}(u,m[u],o)}finally{null!==D&&Bn(D),us(C),v.resolving=!1,yc()}}return h}function Tc(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Un(s,o){return!(s&St.Self||s&St.Host&&o)}class ir{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return Ys(this._tNode,this._lView,o,d,u)}}function Gp(){return new ir(rr(),je())}function Ri(s){return vn(()=>{const o=s.prototype.constructor,u=o[dr]||qa(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[dr]||qa(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function qa(s){return me(s)?()=>{const o=qa(q(s));return o&&o()}:mo(s)}function sr(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function Dh(s){return function $p(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const m=u[h];if(ey(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(m===o)return u[h+1];h+=2}}}return null}(rr(),s)}const Za="__parameters__";function bo(s,o,u){return vn(()=>{const d=function Ac(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return C.annotation=v,C;function C(D,S,R){const $=D.hasOwnProperty(Za)?D[Za]:Object.defineProperty(D,Za,{value:[]})[Za];for(;$.length<=R;)$.push(null);return($[R]=$[R]||[]).push(v),D}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Tn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ht({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ya=new Tn("AnalyzeForEntryComponents");function di(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(o===s&&(o=s.slice(0,u)),di(d,o)):o!==s&&o.push(d)}return o}function Qs(s,o){s.forEach(u=>Array.isArray(u)?Qs(u,o):o(u))}function Rn(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function kc(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Xo(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function hi(s,o,u){let d=ea(s,o);return d>=0?s[1|d]=u:(d=~d,function oy(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function Mh(s,o){const u=ea(s,o);if(u>=0)return s[1|u]}function ea(s,o){return function xc(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<u];if(o===v)return m<<u;v>o?h=m:d=m+1}return~(h<<u)}(s,o,1)}const Gu={},ta="__NG_DI_FLAG__",na="ngTempTokenPath",Rh=/\n/gm,zi="__source";let ra;function $i(s){const o=ra;return ra=s,o}function Wu(s,o=St.Default){if(void 0===ra)throw new De(-203,!1);return null===ra?Vr(s,void 0,o):ra.get(s,o&St.Optional?null:void 0,o)}function ar(s,o=St.Default){return(function mn(){return br}()||Wu)(q(s),o)}function Jp(s,o=St.Default){return ar(s,o)}function qu(s){const o=[];for(let u=0;u<s.length;u++){const d=q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new De(900,!1);let h,m=St.Default;for(let v=0;v<d.length;v++){const C=d[v],D=ly(C);"number"==typeof D?-1===D?h=C.token:m|=D:h=C}o.push(ar(h,m))}else o.push(ar(d))}return o}function Ku(s,o){return s[ta]=o,s.prototype[ta]=o,s}function ly(s){return s[ta]}const ia=Ku(bo("Optional"),8),wo=Ku(bo("SkipSelf"),4);let Bc,Qu,Vs;function fy(s){Bc=s}function Wi(s){return function Eo(){if(void 0===Qu&&(Qu=null,tt.trustedTypes))try{Qu=tt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Qu}()?.createHTML(s)||s}function Bh(s){return function Uc(){if(void 0===Vs&&(Vs=null,tt.trustedTypes))try{Vs=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Vs}()?.createHTML(s)||s}class Bs{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class oa extends Bs{getTypeName(){return"HTML"}}class sm extends Bs{getTypeName(){return"Style"}}class eu extends Bs{getTypeName(){return"Script"}}class py extends Bs{getTypeName(){return"URL"}}class jc extends Bs{getTypeName(){return"ResourceURL"}}function qi(s){return s instanceof Bs?s.changingThisBreaksApplicationSecurity:s}function eo(s,o){const u=function om(s){return s instanceof Bs&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function am(s){return new oa(s)}function um(s){return new sm(s)}function my(s){return new eu(s)}function Hc(s){return new py(s)}function gy(s){return new jc(s)}class aa{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Wi(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class yy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Wi(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Wi(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const v=u.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const zc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Pi(s){return(s=String(s)).match(zc)||s.match(Xu)?s:"unsafe:"+s}function Ni(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function tu(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const cm=Ni("area,br,col,hr,img,wbr"),to=Ni("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jh=Ni("rp,rt"),el=tu(cm,tu(to,Ni("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tu(jh,Ni("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tu(jh,to)),tl=Ni("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),la=Ni("srcset"),Co=tu(tl,la,Ni("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ni("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zh=Ni("script,style,template");class wy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!el.hasOwnProperty(u))return this.sanitizedSomething=!0,!zh.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),v=m.name,C=v.toLowerCase();if(!Co.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=m.value;tl[C]&&(D=Pi(D)),la[C]&&(s=D,D=(s=String(s)).split(",").map(o=>Pi(o.trim())).join(", ")),this.buf.push(" ",v,'="',nl(D),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();el.hasOwnProperty(u)&&!cm.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(nl(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const $h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$c=/([^\#-~ |!])/g;function nl(s){return s.replace(/&/g,"&amp;").replace($h,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace($c,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Do;function Gc(s,o){let u=null;try{Do=Do||function _y(s){const o=new yy(s);return function vy(){try{return!!(new window.DOMParser).parseFromString(Wi(""),"text/html")}catch{return!1}}()?new aa(o):o}(s);let d=o?String(o):"";u=Do.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=u.innerHTML,u=Do.getInertBodyElement(d)}while(d!==m);return Wi((new wy).sanitizeChildren(rl(u)||u))}finally{if(u){const d=rl(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function rl(s){return"content"in s&&function hm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var mr=(()=>((mr=mr||{})[mr.NONE=0]="NONE",mr[mr.HTML=1]="HTML",mr[mr.STYLE=2]="STYLE",mr[mr.SCRIPT=3]="SCRIPT",mr[mr.URL=4]="URL",mr[mr.RESOURCE_URL=5]="RESOURCE_URL",mr))();function Wc(s){const o=da();return o?Bh(o.sanitize(mr.HTML,s)||""):eo(s,"HTML")?Bh(qi(s)):Gc(function Vh(){return void 0!==Bc?Bc:typeof document<"u"?document:void 0}(),xe(s))}function ca(s){const o=da();return o?o.sanitize(mr.URL,s)||"":eo(s,"URL")?qi(s):Pi(xe(s))}function da(){const s=je();return s&&s[12]}function nu(s){return s.ngOriginalError}class il{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&nu(o);for(;u&&nu(u);)u=nu(u);return u||null}}const Zh=new Map;let So=0;const Jh="__ngContext__";function An(s,o){Sn(o)?(s[Jh]=o[20],function Yh(s){Zh.set(s[20],s)}(o)):s[Jh]=o}function no(s){const o=s[Jh];return"number"==typeof o?function Li(s){return Zh.get(s)||null}(o):o||null}function Yc(s){const o=no(s);return o?Sn(o)?o:o.lView:null}const g=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(tt))();function b(s){return s.ownerDocument.defaultView}function Ie(s){return s instanceof Function?s():s}var Ir=(()=>((Ir=Ir||{})[Ir.Important=1]="Important",Ir[Ir.DashCase=2]="DashCase",Ir))();function Jc(s,o){return undefined(s,o)}function Ao(s){const o=s[3];return Oi(o)?o[3]:o}function ll(s){return su(s[13])}function pa(s){return su(s[4])}function su(s){for(;null!==s&&!Oi(s);)s=s[4];return s}function ou(s,o,u,d,h){if(null!=d){let m,v=!1;Oi(d)?m=d:Sn(d)&&(v=!0,d=d[0]);const C=hr(d);0===s&&null!==u?null==h?xy(o,u,C):Xc(o,u,C,h||null,!0):1===s&&null!==u?Xc(o,u,C,h||null,!0):2===s?function e0(s,o,u){const d=nf(s,o);d&&function Yw(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}(o,C,v):3===s&&o.destroyNode(C),null!=m&&function zI(s,o,u,d,h){const m=u[7];m!==hr(u)&&ou(o,s,d,m,h);for(let C=10;C<u.length;C++){const D=u[C];ed(D[1],D,s,o,d,m)}}(o,s,m,u,h)}}function Ty(s,o,u){return s.createElement(o,u)}function qw(s,o){const u=s[9],d=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Me(h,-1)),u.splice(d,1)}function Em(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&qw(h,d),o>0&&(s[u-1][4]=d[4]);const m=kc(s,10+o);!function PI(s,o){ed(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Kw(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&ed(s,o,u,3,null,null),function LI(s){let o=s[13];if(!o)return My(s[1],s);for(;o;){let u=null;if(Sn(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)Sn(o)&&My(o[1],o),o=o[3];null===o&&(o=s),Sn(o)&&My(o[1],o),u=o&&o[4]}o=u}}(o)}}function My(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function UI(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof za)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=h[m[v]],D=m[v+1];try{D.call(C)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function BI(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],C="function"==typeof v?v(o):hr(o[v]),D=d[h=u[m+2]],S=u[m+3];"boolean"==typeof S?C.removeEventListener(u[m],D,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),m+=2}else{const v=d[h=u[m+1]];u[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&Oi(o[3])){u!==o[3]&&qw(u,o);const d=o[19];null!==d&&d.detachView(s)}!function ym(s){Zh.delete(s[20])}(o)}}function Zw(s,o,u){return function ky(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===sn.None||h===sn.Emulated)return null}return fr(d,u)}(s,o.parent,u)}function Xc(s,o,u,d,h){s.insertBefore(o,u,d,h)}function xy(s,o,u){s.appendChild(o,u)}function Oy(s,o,u,d,h){null!==d?Xc(s,o,u,d,h):xy(s,o,u)}function nf(s,o){return s.parentNode(o)}function Cm(s,o,u){return Jw(s,o,u)}let Jw=function Qw(s,o,u){return 40&s.type?fr(s,u):null};function Dm(s,o,u,d){const h=Zw(s,d,o),m=o[11],C=Cm(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let D=0;D<u.length;D++)Oy(m,h,u[D],C,!1);else Oy(m,h,u,C,!1)}function rf(s,o){if(null!==o){const u=o.type;if(3&u)return fr(o,s);if(4&u)return Py(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return rf(s,d);{const h=s[o.index];return Oi(h)?Py(-1,h):hr(h)}}if(32&u)return Jc(o,s)()||hr(s[o.index]);{const d=Im(s,o);return null!==d?Array.isArray(d)?d[0]:rf(Ao(s[16]),d):rf(s,o.next)}}return null}function Im(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Py(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return rf(d,h)}return o[7]}function Ny(s,o,u,d,h,m,v){for(;null!=u;){const C=d[u.index],D=u.type;if(v&&0===o&&(C&&An(hr(C),d),u.flags|=4),64!=(64&u.flags))if(8&D)Ny(s,o,u.child,d,h,m,!1),ou(o,s,h,C,m);else if(32&D){const S=Jc(u,d);let R;for(;R=S();)ou(o,s,h,R,m);ou(o,s,h,C,m)}else 16&D?Sm(s,o,d,u,h,m):ou(o,s,h,C,m);u=v?u.projectionNext:u.next}}function ed(s,o,u,d,h,m){Ny(u,d,s.firstChild,o,h,m,!1)}function Sm(s,o,u,d,h,m){const v=u[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)ou(o,s,h,D[S],m);else Ny(s,o,D,v[3],h,m,!0)}function Ly(s,o,u){s.setAttribute(o,"style",u)}function Vy(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function t0(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}u=h+1}}const n0="ng-template";function fi(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==t0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function r0(s){return 4===s.type&&s.value!==n0}function s0(s,o,u){return o===(4!==s.type||u?s.value:n0)}function By(s,o,u){let d=4;const h=s.attrs||[],m=function WI(s){for(let o=0;o<s.length;o++)if(ey(s[o]))return o;return s.length}(h);let v=!1;for(let C=0;C<o.length;C++){const D=o[C];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!s0(s,D,u)||""===D&&1===o.length){if(ds(d))return!1;v=!0}}else{const S=8&d?D:o[++C];if(8&d&&null!==s.attrs){if(!fi(s.attrs,S,u)){if(ds(d))return!1;v=!0}continue}const $=GI(8&d?"class":D,h,r0(s),u);if(-1===$){if(ds(d))return!1;v=!0;continue}if(""!==S){let ue;ue=$>m?"":h[$+1].toLowerCase();const ve=8&d?ue:null;if(ve&&-1!==t0(ve,S,0)||2&d&&S!==ue){if(ds(d))return!1;v=!0}}}}else{if(!v&&!ds(d)&&!ds(D))return!1;if(v&&ds(D))continue;v=!1,d=D|1&d}}return ds(d)||v}function ds(s){return 0==(1&s)}function GI(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function u0(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function o0(s,o,u=!1){for(let d=0;d<o.length;d++)if(By(s,o[d],u))return!0;return!1}function yx(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function qI(s,o){return s?":not("+o.trim()+")":o}function l0(s){let o=s[0],u=1,d=2,h="",m=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&d){const C=s[++u];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!ds(v)&&(o+=qI(m,h),h=""),d=v,m=m||!ds(d);u++}return""!==h&&(o+=qI(m,h)),o}const Bt={};function ZI(s){Tm(Yt(),je(),Ur()+s,!1)}function Tm(s,o,u,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&jp(o,m,u)}else{const m=s.preOrderHooks;null!==m&&Hp(o,m,0,u)}Zs(u)}const Am=new Tn("ENVIRONMENT_INITIALIZER"),m0=new Tn("INJECTOR_DEF_TYPES");function XI(...s){return{\u0275providers:g0(0,s)}}function g0(s,...o){const u=[],d=new Set;let h;return Qs(o,m=>{const v=m;Mm(v,u,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&_0(h,u),u}function _0(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];Qs(h,m=>{o.push(m)})}}function Mm(s,o,u,d){if(!(s=q(s)))return!1;let h=null,m=Mn(s);const v=!m&&Le(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const D=s.ngModule;if(m=Mn(D),!m)return!1;h=D}const C=d.has(h);if(v){if(C)return!1;if(d.add(h),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of D)Mm(S,o,u,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let S;d.add(h);try{Qs(m.imports,R=>{Mm(R,o,u,d)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&_0(S,o)}if(!C){const S=mo(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:Lt},{provide:m0,useValue:h,multi:!0},{provide:Am,useValue:()=>ar(h),multi:!0})}const D=m.providers;null==D||C||Qs(D,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}const eS=ce({provide:String,useValue:ce});function km(s){return null!==s&&"object"==typeof s&&eS in s}function dl(s){return"function"==typeof s}const jy=new Tn("INJECTOR",-1);class nS{get(o,u=Gu){if(u===Gu){const d=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw d.name="NullInjectorError",d}return u}}const hl=new Tn("Set Injector scope."),sf={},Hy={};let Om;function fl(){return void 0===Om&&(Om=new nS),Om}class td{}class rS extends td{constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,v0(o,v=>this.processProvider(v)),this.records.set(jy,nd(void 0,this)),h.has("environment")&&this.records.set(td,nd(void 0,this));const m=this.records.get(hl);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(m0.multi,Lt,St.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}get(o,u=Gu,d=St.Default){this.assertNotDestroyed();const h=$i(this),m=Bn(void 0);try{if(!(d&St.SkipSelf)){let C=this.records.get(o);if(void 0===C){const D=function Cx(s){return"function"==typeof s||"object"==typeof s&&s instanceof Tn}(o)&&_t(o);C=D&&this.injectableDefInScope(D)?nd(zy(o),sf):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&St.Self?fl():this.parent).get(o,u=d&St.Optional&&u===Gu?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[na]=v[na]||[]).unshift(_e(o)),h)throw v;return function Ph(s,o,u,d){const h=s[na];throw o[zi]&&h.unshift(o[zi]),s.message=function cy(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=_e(o);if(Array.isArray(o))h=o.map(_e).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):_e(C)))}h=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Rh,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[na]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Bn(m),$i(h)}}resolveInjectorInitializers(){const o=$i(this),u=Bn(void 0);try{const d=this.get(Am.multi,Lt,St.Self);for(const h of d)h()}finally{$i(o),Bn(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(_e(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let u=dl(o=q(o))?o:q(o&&o.provide);const d=function wx(s){return km(s)?nd(void 0,s.useValue):nd(iS(s),sf)}(o);if(dl(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=nd(void 0,sf,!0),h.factory=()=>qu(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===sf&&(u.value=Hy,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Ex(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=q(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function zy(s){const o=_t(s),u=null!==o?o.factory:mo(s);if(null!==u)return u;if(s instanceof Tn)throw new De(204,!1);if(s instanceof Function)return function $y(s){const o=s.length;if(o>0)throw Xo(o,"?"),new De(204,!1);const u=function Lr(s){const o=s&&(s[tr]||s[Gr]);if(o){const u=function Gn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new De(204,!1)}function iS(s,o,u){let d;if(dl(s)){const h=q(s);return mo(h)||zy(h)}if(km(s))d=()=>q(s.useValue);else if(function xm(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...qu(s.deps||[]));else if(function y0(s){return!(!s||!s.useExisting)}(s))d=()=>ar(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function sS(s){return!!s.deps}(s))return mo(h)||zy(h);d=()=>new h(...qu(s.deps))}return d}function nd(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Dx(s){return!!s.\u0275providers}function v0(s,o){for(const u of s)Array.isArray(u)?v0(u,o):Dx(u)?v0(u.\u0275providers,o):o(u)}function oS(s,o=null,u=null,d){const h=aS(s,o,u,d);return h.resolveInjectorInitializers(),h}function aS(s,o=null,u=null,d,h=new Set){const m=[u||Lt,XI(s)];return d=d||("object"==typeof s?void 0:_e(s)),new rS(m,o||fl(),d||null,h)}let ma=(()=>{class s{static create(u,d){if(Array.isArray(u))return oS({name:""},d,u,"");{const h=u.name??"";return oS({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Gu,s.NULL=new nS,s.\u0275prov=Ht({token:s,providedIn:"any",factory:()=>ar(jy)}),s.__NG_ELEMENT_ID__=-1,s})();function rd(s,o=St.Default){const u=je();return null===u?ar(s,o):Ys(rr(),u,q(s),o)}function D0(){throw new Error("invalid")}function Bm(s,o){return s<<17|o<<2}function hs(s){return s>>17&32767}function df(s){return 2|s}function ya(s){return(131068&s)>>2}function Qy(s,o){return-131069&s|o<<2}function od(s){return 1|s}function N0(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],m=u[d+1];if(-1!==m){const v=s.data[m];_h(h),v.contentQueries(2,o[m],m)}}}function $m(s,o,u,d,h,m,v,C,D,S,R){const $=o.blueprint.slice();return $[0]=h,$[2]=76|d,(null!==R||s&&1024&s[2])&&($[2]|=1024),fe($),$[3]=$[15]=s,$[8]=u,$[10]=v||s&&s[10],$[11]=C||s&&s[11],$[12]=D||s&&s[12]||null,$[9]=S||s&&s[9]||null,$[6]=m,$[20]=function _m(){return So++}(),$[21]=R,$[16]=2==o.type?s[16]:$,$}function gf(s,o,u,d,h){let m=s.data[o];if(null===m)m=function F0(s,o,u,d,h){const m=qs(),v=Ns(),D=s.data[o]=function B0(s,o,u,d,h,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(s,o,u,d,h),function $_(){return Se.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=h;const v=function ss(){const s=Se.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Dr(m,!0),m}function ud(s,o,u,d){if(0===u)return-1;const h=o.length;for(let m=0;m<u;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function iv(s,o,u){gc(o);try{const d=s.viewQuery;null!==d&&mv(1,d,u);const h=s.template;null!==h&&OS(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&N0(s,o),s.staticViewQueries&&mv(2,s.viewQuery,u);const m=s.components;null!==m&&function xS(s,o){for(let u=0;u<o.length;u++)KS(s,o[u])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,vc()}}function Gm(s,o,u,d){const h=o[2];if(128!=(128&h)){gc(o);try{fe(o),function gh(s){return Se.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&OS(s,o,u,2,d);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&jp(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Hp(o,S,0,null),Eh(o,0)}if(function WS(s){for(let o=ll(s);null!==o;o=pa(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d],m=h[3];0==(512&h[2])&&Me(m,1),h[2]|=512}}}(o),function Wx(s){for(let o=ll(s);null!==o;o=pa(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];go(d)&&Gm(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&N0(s,o),v){const S=s.contentCheckHooks;null!==S&&jp(o,S)}else{const S=s.contentHooks;null!==S&&Hp(o,S,1),Eh(o,1)}!function Vx(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Zs(~h);else{const m=h,v=u[++d],C=u[++d];hc(v,m),C(2,o[m])}}}finally{Zs(-1)}}(s,o);const C=s.components;null!==C&&function Bx(s,o){for(let u=0;u<o.length;u++)qS(s,o[u])}(o,C);const D=s.viewQuery;if(null!==D&&mv(2,D,d),v){const S=s.viewCheckHooks;null!==S&&jp(o,S)}else{const S=s.viewHooks;null!==S&&Hp(o,S,2),Eh(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Me(o[3],-1))}finally{vc()}}}function Ux(s,o,u,d){const h=o[10],v=qo(o);try{!v&&h.begin&&h.begin(),v&&iv(s,o,d),Gm(s,o,u,d)}finally{!v&&h.end&&h.end()}}function OS(s,o,u,d,h){const m=Ur(),v=2&d;try{Zs(-1),v&&o.length>22&&Tm(s,o,22,!1),u(d,h)}finally{Zs(m)}}function RS(s,o,u){if(xs(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function ld(s,o,u){!Nn()||(function Km(s,o,u,d){const h=u.directiveStart,m=u.directiveEnd;s.firstCreatePass||It(u,o),An(d,o);const v=u.initialInputs;for(let C=h;C<m;C++){const D=s.data[C],S=ei(D);S&&zx(o,u,D);const R=Jo(o,s,C,u);An(R,o),null!==v&&$x(0,C-h,R,D,0,v),S&&(Br(u.index,o)[8]=R)}}(s,o,u,fr(u,o)),128==(128&u.flags)&&function jS(s,o,u){const d=u.directiveStart,h=u.directiveEnd,m=u.index,v=function G_(){return Se.lFrame.currentDirectiveIndex}();try{Zs(m);for(let C=d;C<h;C++){const D=s.data[C],S=o[C];Vu(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&j0(D,S)}}finally{Zs(-1),Vu(v)}}(s,o,u))}function sv(s,o,u=fr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?u(o,s):s[v];s[h++]=C}}}function ov(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Wm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Wm(s,o,u,d,h,m,v,C,D,S){const R=22+d,$=R+h,ue=function L0(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:Bt);return u}(R,$),ve="function"==typeof S?S():S;return ue[1]={type:s,blueprint:ue,template:u,queries:null,viewQuery:C,declTNode:o,data:ue.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:ve,incompleteFirstPass:!1}}function av(s,o,u,d){const h=Zm(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&z0(s).push(d,h.length-1))}function qm(s,o,u){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(o,h):u[d]=[o,h]}return u}function fs(s,o,u,d,h,m,v,C){const D=fr(o,u);let R,S=o.inputs;!C&&null!=S&&(R=S[d])?(Ym(s,u,R,d,h),zs(o)&&function FS(s,o){const u=Br(o,s);16&u[2]||(u[2]|=32)}(u,o.index)):3&o.type&&(d=function NS(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,m.setProperty(D,d,h))}function au(s,o,u,d){let h=!1;if(Nn()){const m=function uv(s,o,u){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];o0(u,v.selectors,!1)&&(h||(h=[]),Cc(It(u,o),s,v.type),ei(v)?(lv(s,u),h.unshift(v)):h.push(v))}return h}(s,o,u),v=null===d?null:{"":-1};if(null!==m){h=!0,zS(u,s.data.length,m.length);for(let R=0;R<m.length;R++){const $=m[R];$.providersResolver&&$.providersResolver($)}let C=!1,D=!1,S=ud(s,o,m.length,null);for(let R=0;R<m.length;R++){const $=m[R];u.mergedAttrs=wc(u.mergedAttrs,$.hostAttrs),$S(s,u,o,S,$),Hx(S,$,v),null!==$.contentQueries&&(u.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(u.flags|=128);const ue=$.type.prototype;!C&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),C=!0),!D&&(ue.ngOnChanges||ue.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),D=!0),S++}!function jx(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let C=null,D=null;for(let S=o.directiveStart;S<d;S++){const R=h[S],$=R.inputs,ue=null===m||r0(o)?null:Gx($,m);v.push(ue),C=qm($,S,C),D=qm(R.outputs,S,D)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=D}(s,u)}v&&function HS(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=u[o[h+1]];if(null==m)throw new De(-301,!1);d.push(o[h],m)}}}(u,d,v)}return u.mergedAttrs=wc(u.mergedAttrs,u.attrs),h}function U0(s,o,u,d,h,m){const v=m.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const D=~o.index;(function US(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(C)!=D&&C.push(D),C.push(d,h,v)}}function j0(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function lv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Hx(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;ei(o)&&(u[""]=s)}}function zS(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function $S(s,o,u,d,h){s.data[d]=h;const m=h.factory||(h.factory=mo(h.type)),v=new za(m,ei(h),rd);s.blueprint[d]=v,u[d]=v,U0(s,o,0,d,ud(s,u,h.hostVars,Bt),h)}function zx(s,o,u){const d=fr(o,s),h=ov(u),m=s[10],v=_f(s,$m(s,h,null,u.onPush?32:16,d,o,m,m.createRenderer(d,u),null,null,null));s[o.index]=v}function va(s,o,u,d,h,m){const v=fr(s,o);!function H0(s,o,u,d,h,m,v){if(null==m)s.removeAttribute(o,h,u);else{const C=null==v?xe(m):v(m,d||"",h);s.setAttribute(o,h,C,u)}}(o[11],v,m,s.value,u,d,h)}function $x(s,o,u,d,h,m){const v=m[o];if(null!==v){const C=d.setInput;for(let D=0;D<v.length;){const S=v[D++],R=v[D++],$=v[D++];null!==C?d.setInput(u,$,S,R):u[R]=$}}}function Gx(s,o){let u=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return u}function GS(s,o,u,d){return new Array(s,!0,!1,o,null,0,d,u,null,null)}function qS(s,o){const u=Br(o,s);if(go(u)){const d=u[1];48&u[2]?Gm(d,u,d.template,u[8]):u[5]>0&&cv(u)}}function cv(s){for(let d=ll(s);null!==d;d=pa(d))for(let h=10;h<d.length;h++){const m=d[h];if(512&m[2]){const v=m[1];Gm(v,m,v.template,m[8])}else m[5]>0&&cv(m)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Br(u[d],s);go(h)&&h[5]>0&&cv(h)}}function KS(s,o){const u=Br(o,s),d=u[1];(function ZS(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),iv(d,u,u[8])}function _f(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function dv(s){for(;s;){s[2]|=32;const o=Ao(s);if(zo(s)&&!o)return s;s=o}return null}function cd(s){!function fv(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],d=Yc(u);if(null!==d){const h=d[1];Ux(h,d,h.template,u)}}}(s[8])}function mv(s,o,u){_h(0),o(s,u)}const QS=(()=>Promise.resolve(null))();function Zm(s){return s[7]||(s[7]=[])}function z0(s){return s.cleanup||(s.cleanup=[])}function $0(s,o,u){return(null===s||ei(s))&&(u=function lc(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}function JS(s,o){const u=s[9],d=u?u.get(il,null):null;d&&d.handleError(o)}function Ym(s,o,u,d,h){for(let m=0;m<u.length;){const v=u[m++],C=u[m++],D=o[v],S=s.data[v];null!==S.setInput?S.setInput(D,h,d,C):D[C]=h}}function Qm(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?m=C:1==m?h=de(h,C):2==m&&(d=de(d,C+": "+o[++v]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function eT(){const s=rr();wh(je()[1],s)}function gv(s){let o=function G0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(ei(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const v=s;v.inputs=_v(s.inputs),v.declaredInputs=_v(s.declaredInputs),v.outputs=_v(s.outputs);const C=h.hostBindings;C&&iT(s,C);const D=h.viewQuery,S=h.contentQueries;if(D&&nT(s,D),S&&rT(s,S),ge(s.inputs,h.inputs),ge(s.declaredInputs,h.declaredInputs),ge(s.outputs,h.outputs),ei(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(s),C===gv&&(u=!1)}}o=Object.getPrototypeOf(o)}!function tT(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=wc(h.hostAttrs,u=wc(u,h.hostAttrs))}}(d)}function _v(s){return s===nr?{}:s===Lt?[]:s}function nT(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function rT(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,m)=>{o(d,h,m),u(d,h,m)}:o}function iT(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let Xm=null;function io(){if(!Xm){const s=tt.Symbol;if(s&&s.iterator)Xm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Xm=d)}}}return Xm}function yf(s){return!!dd(s)&&(Array.isArray(s)||!(s instanceof Map)&&io()in s)}function dd(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ko(s,o,u){return s[o]=u}function ur(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function fd(s,o,u,d){const h=je();return ur(h,Ko(),o)&&(Yt(),va(Fn(),h,s,o,u,d)),fd}function Ti(s,o,u,d,h,m,v,C){const D=je(),S=Yt(),R=s+22,$=S.firstCreatePass?function wv(s,o,u,d,h,m,v,C,D){const S=o.consts,R=gf(o,s,4,v||null,H(S,C));au(o,u,R,H(S,D)),wh(o,R);const $=R.tViews=Wm(2,R,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),$.queries=o.queries.embeddedTView(R)),R}(R,S,D,o,u,d,h,m,v):S.data[R];Dr($,!1);const ue=D[11].createComment("");Dm(S,D,ue,$),An(ue,D),_f(D,D[R]=GS(ue,D,ue,$)),ci($)&&ld(S,D,$),null!=v&&sv(D,$,C)}function Ev(s){return Ps(function dc(){return Se.lFrame.contextLView}(),22+s)}function bf(s,o,u){const d=je();return ur(d,Ko(),o)&&fs(Yt(),Fn(),d,s,o,d[11],u,!1),bf}function ng(s,o,u,d,h){const v=h?"class":"style";Ym(s,u,o.inputs[v],v,d)}function wf(s,o,u,d){const h=je(),m=Yt(),v=22+s,C=h[11],D=h[v]=Ty(C,o,function bh(){return Se.lFrame.currentNamespace}()),S=m.firstCreatePass?function J0(s,o,u,d,h,m,v){const C=o.consts,S=gf(o,s,2,h,H(C,m));return au(o,u,S,H(C,v)),null!==S.attrs&&Qm(S,S.attrs,!1),null!==S.mergedAttrs&&Qm(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,m,h,0,o,u,d):m.data[v];Dr(S,!0);const R=S.mergedAttrs;null!==R&&Bu(C,D,R);const $=S.classes;null!==$&&Vy(C,D,$);const ue=S.styles;return null!==ue&&Ly(C,D,ue),64!=(64&S.flags)&&Dm(m,h,D,S),0===function rn(){return Se.lFrame.elementDepthCount}()&&An(D,h),function pr(){Se.lFrame.elementDepthCount++}(),ci(S)&&(ld(m,h,S),RS(m,S,h)),null!==d&&sv(h,S),wf}function yd(){let s=rr();Ns()?_o():(s=s.parent,Dr(s,!1));const o=s;!function Cr(){Se.lFrame.elementDepthCount--}();const u=Yt();return u.firstCreatePass&&(wh(u,s),xs(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function J_(s){return 0!=(16&s.flags)}(o)&&ng(u,o,je(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Fw(s){return 0!=(32&s.flags)}(o)&&ng(u,o,je(),o.stylesWithoutHost,!1),yd}function Cv(s,o,u,d){return wf(s,o,u,d),yd(),Cv}function Ca(s,o,u){const d=je(),h=Yt(),m=s+22,v=h.firstCreatePass?function lT(s,o,u,d,h){const m=o.consts,v=H(m,d),C=gf(o,s,8,"ng-container",v);return null!==v&&Qm(C,v,!0),au(o,u,C,H(m,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,h,d,o,u):h.data[m];Dr(v,!0);const C=d[m]=d[11].createComment("");return Dm(h,d,C,v),An(C,d),ci(v)&&(ld(h,d,v),RS(h,v,d)),null!=u&&sv(d,v),Ca}function Ef(){let s=rr();const o=Yt();return Ns()?_o():(s=s.parent,Dr(s,!1)),o.firstCreatePass&&(wh(o,s),xs(s)&&o.queries.elementEnd(s)),Ef}function Dv(){return je()}function Iv(s){return!!s&&"function"==typeof s.then}function Sv(s){return!!s&&"function"==typeof s.subscribe}const Cf=Sv;function Df(s,o,u,d){const h=je(),m=Yt(),v=rr();return X0(m,h,h[11],v,s,o,0,d),Df}function If(s,o){const u=rr(),d=je(),h=Yt();return X0(h,d,$0(fc(h.data),u,d),u,s,o),If}function X0(s,o,u,d,h,m,v,C){const D=ci(d),R=s.firstCreatePass&&z0(s),$=o[8],ue=Zm(o);let ve=!0;if(3&d.type||C){const at=fr(d,o),mt=C?C(at):at,gt=ue.length,We=C?yn=>C(hr(yn[d.index])):d.index;let Ft=null;if(!C&&D&&(Ft=function Tv(s,o,u,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===u&&h[m+1]===d){const C=o[7],D=h[m+2];return C.length>D?C[D]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=m,Ft.__ngLastListenerFn__=m,ve=!1;else{m=ig(d,o,$,m,!1);const yn=u.listen(mt,h,m);ue.push(m,yn),R&&R.push(h,We,gt,gt+1)}}else m=ig(d,o,$,m,!1);const Be=d.outputs;let Qe;if(ve&&null!==Be&&(Qe=Be[h])){const at=Qe.length;if(at)for(let mt=0;mt<at;mt+=2){const er=o[Qe[mt]][Qe[mt+1]].subscribe(m),Tu=ue.length;ue.push(m,er),R&&R.push(h,d.index,Tu,-(Tu+1))}}}function eE(s,o,u,d){try{return!1!==u(d)}catch(h){return JS(s,h),!1}}function ig(s,o,u,d,h){return function m(v){if(v===Function)return d;dv(2&s.flags?Br(s.index,o):o);let D=eE(o,0,d,v),S=m.__ngNextListenerFn__;for(;S;)D=eE(o,0,S,v)&&D,S=S.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Av(s=1){return function q_(s){return(Se.lFrame.contextLView=function vh(s,o){for(;s>0;)o=o[15],s--;return o}(s,Se.lFrame.contextLView))[8]}(s)}function cT(s,o){let u=null;const d=function a0(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?o0(s,m,!0):yx(d,m))return h}else u=h}return u}function tE(s){const o=je()[16][6];if(!o.projection){const d=o.projection=Xo(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?cT(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function mi(s,o=0,u){const d=je(),h=Yt(),m=gf(h,22+s,16,null,u||null);null===m.projection&&(m.projection=o),_o(),64!=(64&m.flags)&&function Fy(s,o,u){Sm(o[11],0,o,u,Zw(s,u,o),Cm(u.parent||o[6],u,o))}(h,d,m)}function aE(s,o,u,d,h){const m=s[u+1],v=null===o;let C=d?hs(m):ya(m),D=!1;for(;0!==C&&(!1===D||v);){const R=s[C+1];uE(s[C],o)&&(D=!0,s[C+1]=d?od(R):df(R)),C=d?hs(R):ya(R)}D&&(s[u+1]=d?df(m):od(m))}function uE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ea(s,o)>=0}function Rv(s,o,u){return oo(s,o,u,!1),Rv}function Af(s,o){return oo(s,o,null,!0),Af}function oo(s,o,u,d){const h=je(),m=Yt(),v=function as(s){const o=Se.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);m.firstUpdatePass&&function fg(s,o,u,d){const h=s.data;if(null===h[u+1]){const m=h[Ur()],v=function hg(s,o){return o>=s.expandoStartIndex}(s,u);(function Nv(s,o){return 0!=(s.flags&(o?16:32))})(m,d)&&null===o&&!v&&(o=!1),o=function dE(s,o,u,d){const h=fc(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=wd(u=pg(null,s,o,u,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(u=pg(h,s,o,u,d),null===m){let D=function pT(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==ya(d))return s[hs(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=pg(null,s,o,D[1],d),D=wd(D,o.attrs,d),function Mf(s,o,u,d){s[hs(u?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else m=function hE(s,o,u){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=wd(d,s[m].hostAttrs,u);return wd(d,o.attrs,u)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),u}(h,m,o,d),function sE(s,o,u,d,h,m){let v=m?o.classBindings:o.styleBindings,C=hs(v),D=ya(v);s[d]=u;let R,S=!1;if(Array.isArray(u)){const $=u;R=$[1],(null===R||ea($,R)>0)&&(S=!0)}else R=u;if(h)if(0!==D){const ue=hs(s[C+1]);s[d+1]=Bm(ue,C),0!==ue&&(s[ue+1]=Qy(s[ue+1],d)),s[C+1]=function T0(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=Bm(C,0),0!==C&&(s[C+1]=Qy(s[C+1],d)),C=d;else s[d+1]=Bm(D,0),0===C?C=d:s[D+1]=Qy(s[D+1],d),D=d;S&&(s[d+1]=df(s[d+1])),aE(s,R,d,!0),aE(s,R,d,!1),function oE(s,o,u,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&ea(m,o)>=0&&(u[d+1]=od(u[d+1]))}(o,R,s,d,m),v=Bm(C,D),m?o.classBindings=v:o.styleBindings=v}(h,m,o,u,v,d)}}(m,s,v,d),o!==Bt&&ur(h,v,o)&&function gl(s,o,u,d,h,m,v,C){if(!(3&o.type))return;const D=s.data,S=D[C+1];gg(function A0(s){return 1==(1&s)}(S)?pE(D,o,u,h,ya(S),v):void 0)||(gg(m)||function Yy(s){return 2==(2&s)}(S)&&(m=pE(D,null,u,h,C,v)),function $I(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let m=-1===d.indexOf("-")?void 0:Ir.DashCase;null==h?s.removeStyle(u,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Ir.Important),s.setStyle(u,d,h,m))}}(d,v,Wo(Ur(),u),h,m))}(m,m.data[Ur()],h,h[11],s,h[v+1]=function _l(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=_e(qi(s)))),s}(o,u),d,v)}function pg(s,o,u,d,h){let m=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(m=o[C],d=wd(d,m.hostAttrs,h),m!==s);)C++;return null!==s&&(u.directiveStylingLast=C),d}function wd(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),hi(s,v,!!u||o[++m]))}return void 0===s?null:s}function pE(s,o,u,d,h,m){const v=null===o;let C;for(;h>0;){const D=s[h],S=Array.isArray(D),R=S?D[1]:D,$=null===R;let ue=u[h+1];ue===Bt&&(ue=$?Lt:void 0);let ve=$?Mh(ue,d):R===d?ue:void 0;if(S&&!gg(ve)&&(ve=Mh(D,d)),gg(ve)&&(C=ve,v))return C;const Be=s[h+1];h=v?hs(Be):ya(Be)}if(null!==o){let D=m?o.residualClasses:o.residualStyles;null!=D&&(C=Mh(D,d))}return C}function gg(s){return void 0!==s}function kf(s,o=""){const u=je(),d=Yt(),h=s+22,m=d.firstCreatePass?gf(d,h,1,o,null):d.data[h],v=u[h]=function cl(s,o){return s.createText(o)}(u[11],o);Dm(d,u,v,m),Dr(m,!1)}function _g(s){return cu("",s,""),_g}function cu(s,o,u){const d=je(),h=function xo(s,o,u,d){return ur(s,Ko(),u)?o+xe(u)+d:Bt}(d,s,o,u);return h!==Bt&&function ba(s,o,u){const d=Wo(o,s);!function Ww(s,o,u){s.setValue(o,u)}(s[11],d,u)}(d,Ur(),h),cu}function Dg(s,o,u){const d=je();return ur(d,Ko(),o)&&fs(Yt(),Fn(),d,s,o,d[11],u,!0),Dg}function Gv(s,o,u){const d=je();if(ur(d,Ko(),o)){const m=Yt(),v=Fn();fs(m,v,d,s,o,$0(fc(m.data),v,d),u,!0)}return Gv}const ps=void 0;var Ig=["en",[["a","p"],["AM","PM"],ps],[["AM","PM"],ps,ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ps,"{1} 'at' {0}",ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Da(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Ia={};function Sg(s){const o=function Lf(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=EE(o);if(u)return u;const d=o.split("-")[0];if(u=EE(d),u)return u;if("en"===d)return Ig;throw new De(701,!1)}function Ff(s){return Sg(s)[Pt.PluralCase]}function EE(s){return s in Ia||(Ia[s]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[s]),Ia[s]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Dd="en-US";let qv=Dd;function ob(s,o,u,d,h){if(s=q(s),Array.isArray(s))for(let m=0;m<s.length;m++)ob(s[m],o,u,d,h);else{const m=Yt(),v=je();let C=dl(s)?s:q(s.provide),D=iS(s);const S=rr(),R=1048575&S.providerIndexes,$=S.directiveStart,ue=S.providerIndexes>>20;if(dl(s)||!s.multi){const ve=new za(D,h,rd),Be=Dl(C,o,h?R:R+ue,$);-1===Be?(Cc(It(S,v),m,C),Ye(m,s,o.length),o.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(ve),v.push(ve)):(u[Be]=ve,v[Be]=ve)}else{const ve=Dl(C,o,R+ue,$),Be=Dl(C,o,R,R+ue),Qe=ve>=0&&u[ve],at=Be>=0&&u[Be];if(h&&!at||!h&&!Qe){Cc(It(S,v),m,C);const mt=function OT(s,o,u,d,h){const m=new za(s,u,rd);return m.multi=[],m.index=o,m.componentProviders=0,Pr(m,h,d&&!u),m}(h?Ct:ab,u.length,h,d,D);!h&&at&&(u[Be].providerFactory=mt),Ye(m,s,o.length,0),o.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(mt),v.push(mt)}else Ye(m,s,ve>-1?ve:Be,Pr(u[h?Be:ve],D,!h&&d));!h&&d&&at&&u[Be].componentProviders++}}}function Ye(s,o,u,d){const h=dl(o),m=function tS(s){return!!s.useClass}(o);if(h||m){const D=(m?q(o.useClass):o).prototype.ngOnDestroy;if(D){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(u);-1===R?S.push(u,[d,D]):S[R+1].push(d,D)}else S.push(u,D)}}}function Pr(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Dl(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function ab(s,o,u,d){return $t(this.multi,[])}function Ct(s,o,u,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Jo(u,u[1],this.providerFactory.index,d);m=C.slice(0,v),$t(h,m);for(let D=v;D<C.length;D++)m.push(C[D])}else m=[],$t(h,m);return m}function $t(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function lt(s,o=[]){return u=>{u.providersResolver=(d,h)=>function sb(s,o,u){const d=Yt();if(d.firstCreatePass){const h=ei(s);ob(u,d.data,d.blueprint,h,!0),ob(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class QE{resolveComponentFactory(o){throw function Re(s){const o=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let $f=(()=>{class s{}return s.NULL=new QE,s})();class Il{}class JE{}class XE{}function eC(){return kd(rr(),je())}function kd(s,o){return new Fg(fr(s,o))}let Fg=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=eC,s})();function PT(s){return s instanceof Fg?s.nativeElement:s}class en{}let xd=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function tC(){const s=je(),u=Br(rr().index,s);return(Sn(u)?u:s)[11]}(),s})(),lr=(()=>{class s{}return s.\u0275prov=Ht({token:s,providedIn:"root",factory:()=>null}),s})();class Gt{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Od=new Gt("14.0.5"),_n={};function Lg(s,o,u,d,h=!1){for(;null!==u;){const m=o[u.index];if(null!==m&&d.push(hr(m)),Oi(m))for(let C=10;C<m.length;C++){const D=m[C],S=D[1].firstChild;null!==S&&Lg(D[1],D,S,d)}const v=u.type;if(8&v)Lg(s,o,u.child,d);else if(32&v){const C=Jc(u,o);let D;for(;D=C();)d.push(D)}else if(16&v){const C=Im(o,u);if(Array.isArray(C))d.push(...C);else{const D=Ao(o[16]);Lg(D[1],D,C,d,!0)}}u=h?u.projectionNext:u.next}return d}class Xn{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Lg(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Oi(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(Em(o,d),kc(u,d))}this._attachedToViewContainer=!1}Kw(this._lView[1],this._lView)}onDestroy(o){av(this._lView[1],this._lView,null,o)}markForCheck(){dv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function pv(s,o,u){const d=o[10];d.begin&&d.begin();try{Gm(s,o,s.template,u)}catch(h){throw JS(o,h),h}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function FI(s,o){ed(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o}}class ot extends Xn{constructor(o){super(o),this._view=o}detectChanges(){cd(this._view)}checkNoChanges(){}get context(){return null}}class Rd extends $f{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Le(o);return new Tl(u,this.ngModule)}}function Vg(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Bg{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){const h=this.injector.get(o,_n,d);return h!==_n||u===_n?h:this.parentInjector.get(o,u,d)}}class Tl extends XE{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function c0(s){return s.map(l0).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Vg(this.componentDef.inputs)}get outputs(){return Vg(this.componentDef.outputs)}create(o,u,d,h){let m=(h=h||this.ngModule)instanceof td?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new Bg(o,m):o,C=v.get(en,null);if(null===C)throw new De(407,!1);const D=v.get(lr,null),S=C.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",$=d?function V0(s,o,u){return s.selectRootElement(o,u===sn.ShadowDom)}(S,d,this.componentDef.encapsulation):Ty(C.createRenderer(null,this.componentDef),R,function Sl(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),ue=this.componentDef.onPush?288:272,ve=function Zx(s,o){return{components:[],scheduler:s||g,clean:QS,playerHandler:o||null,flags:0}}(),Be=Wm(0,null,null,1,0,null,null,null,null,null),Qe=$m(null,Be,ve,ue,null,null,C,S,D,v,null);let at,mt;gc(Qe);try{const gt=function Kx(s,o,u,d,h,m){const v=u[1];u[22]=s;const D=gf(v,22,2,"#host",null),S=D.mergedAttrs=o.hostAttrs;null!==S&&(Qm(D,S,!0),null!==s&&(Bu(h,s,S),null!==D.classes&&Vy(h,s,D.classes),null!==D.styles&&Ly(h,s,D.styles)));const R=d.createRenderer(s,o),$=$m(u,ov(o),null,o.onPush?32:16,u[22],D,d,R,m||null,null,null);return v.firstCreatePass&&(Cc(It(D,u),v,o.type),lv(v,D),zS(D,u.length,1)),_f(u,$),u[22]=$}($,this.componentDef,Qe,C,S);if($)if(d)Bu(S,$,["ng-version",Od.full]);else{const{attrs:We,classes:Ft}=function KI(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&u.push(m);else{if(!ds(h))break;h=m}d++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);We&&Bu(S,$,We),Ft&&Ft.length>0&&Vy(S,$,Ft.join(" "))}if(mt=Ha(Be,22),void 0!==u){const We=mt.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const yn=u[Ft];We.push(null!=yn?Array.from(yn):null)}}at=function XS(s,o,u,d,h){const m=u[1],v=function BS(s,o,u){const d=rr();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),$S(s,d,o,ud(s,o,1,null),u));const h=Jo(o,s,d.directiveStart,d);An(h,o);const m=fr(d,o);return m&&An(m,o),h}(m,u,o);if(d.components.push(v),s[8]=v,null!==h)for(const D of h)D(v,o);if(o.contentQueries){const D=rr();o.contentQueries(1,v,D.directiveStart)}const C=rr();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Zs(C.index),U0(u[1],C,0,C.directiveStart,C.directiveEnd,o),j0(o,v)),v}(gt,this.componentDef,Qe,ve,[eT]),iv(Be,Qe,null)}finally{vc()}return new gs(this.componentType,at,kd(mt,Qe),Qe,mt)}}class gs extends class RT{}{constructor(o,u,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new ot(h),this.componentType=o}get injector(){return new ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function ub(s,o){return new lb(s,o??null)}class lb extends Il{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Rd(this);const d=wt(o);this._bootstrapComponents=Ie(d.bootstrap),this._r3Injector=aS(o,u,[{provide:Il,useValue:this},{provide:$f,useValue:this.componentFactoryResolver}],_e(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(o)}get(o,u=ma.THROW_IF_NOT_FOUND,d=St.Default){return o===ma||o===Il||o===jy?this:this._r3Injector.get(o,u,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ug extends JE{constructor(o){super(),this.moduleType=o}create(o){return new lb(this.moduleType,o)}}class gu extends Il{constructor(o,u,d){super(),this.componentFactoryResolver=new Rd(this),this.instance=null;const h=new rS([...o,{provide:Il,useValue:this},{provide:$f,useValue:this.componentFactoryResolver}],u||fl(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Gf(s,o=null,u=null){return new gu(s,o,u).injector}function kl(s,o,u,d){return Fd(je(),Kr(),s,o,u,d)}function Nd(s,o){const u=s[o];return u===Bt?void 0:u}function Fd(s,o,u,d,h,m){const v=o+u;return ur(s,v,h)?ko(s,v+1,m?d.call(m,h):d(h)):Nd(s,v+1)}function lC(s,o,u,d,h,m,v){const C=o+u;return function ht(s,o,u,d){const h=ur(s,o,u);return ur(s,o+1,d)||h}(s,C,h,m)?ko(s,C+2,v?d.call(v,h,m):d(h,m)):Nd(s,C+2)}function pb(s,o){const u=Yt();let d;const h=s+22;u.firstCreatePass?(d=function yu(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const m=d.factory||(d.factory=mo(d.type)),v=Bn(rd);try{const C=us(!1),D=m();return us(C),function Q0(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,je(),h,D),D}finally{Bn(v)}}function vu(s,o,u){const d=s+22,h=je(),m=Ps(h,d);return Ro(h,d)?Fd(h,Kr(),o,m.transform,u,m):m.transform(u)}function ao(s,o,u,d){const h=s+22,m=je(),v=Ps(m,h);return Ro(m,h)?lC(m,Kr(),o,v.transform,u,d,v):v.transform(u,d)}function Ro(s,o){return s[1].data[o].pure}function Ma(s){return o=>{setTimeout(s,void 0,o)}}const js=class gb extends l.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,m=u||(()=>null),v=d;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),m=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(m=Ma(m),h&&(h=Ma(h)),v&&(v=Ma(v)));const C=super.subscribe({next:h,error:m,complete:v});return o instanceof pe.w&&o.add(C),C}};function qf(){return this._results[io()]()}class Kf{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=io(),d=Kf.prototype;d[u]||(d[u]=qf)}get changes(){return this._changes||(this._changes=new js)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=di(o);(this._changesDetected=!function $u(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bd=(()=>{class s{}return s.__NG_ELEMENT_ID__=dC,s})();const Hg=Bd,Zf=class extends Hg{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tViews,h=$m(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),iv(d,h,o),new Xn(h)}};function dC(){return zg(rr(),je())}function zg(s,o){return 4&s.type?new Zf(o,s,kd(s,o)):null}let $g=(()=>{class s{}return s.__NG_ELEMENT_ID__=hC,s})();function hC(){return pC(rr(),je())}const fC=$g,ii=class extends fC{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return kd(this._hostTNode,this._hostLView)}get injector(){return new ir(this._hostTNode,this._hostLView)}get parentInjector(){const o=Jn(this._hostTNode,this._hostLView);if(ny(o)){const u=vo(o,this._hostLView),d=ju(o);return new ir(u[1].data[d+8],u)}return new ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=_b(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const v=o.createEmbeddedView(u||{},m);return this.insert(v,h),v}createComponent(o,u,d,h,m){const v=o&&!function zu(s){return"function"==typeof s}(o);let C;if(v)C=u;else{const $=u||{};C=$.index,d=$.injector,h=$.projectableNodes,m=$.environmentInjector||$.ngModuleRef}const D=v?o:new Tl(Le(o)),S=d||this.parentInjector;if(!m&&null==D.ngModule){const ue=(v?S:this.parentInjector).get(td,null);ue&&(m=ue)}const R=D.create(S,h,void 0,m);return this.insert(R.hostView,C),R}insert(o,u){const d=o._lView,h=d[1];if(function j(s){return Oi(s[3])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const $=d[3],ue=new ii($,$[6],$[3]);ue.detach(ue.indexOf(o))}}const m=this._adjustIndex(u),v=this._lContainer;!function VI(s,o,u,d){const h=10+d,m=u.length;d>0&&(u[h-1][4]=o),d<m-10?(o[4]=u[h],Rn(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function Ay(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=64}(h,d,v,m);const C=Py(m,v),D=d[11],S=nf(D,v[7]);return null!==S&&function NI(s,o,u,d,h,m){d[0]=h,d[6]=o,ed(s,d,u,1,h,m)}(h,v[6],D,d,S,C),o.attachToViewContainerRef(),Rn(Hn(v),m,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=_b(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=Em(this._lContainer,u);d&&(kc(Hn(this._lContainer),u),Kw(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=Em(this._lContainer,u);return d&&null!=kc(Hn(this._lContainer),u)?new Xn(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function _b(s){return s[8]}function Hn(s){return s[8]||(s[8]=[])}function pC(s,o){let u;const d=o[s.index];if(Oi(d))u=d;else{let h;if(8&s.type)h=hr(d);else{const m=o[11];h=m.createComment("");const v=fr(s,o);Xc(m,nf(m,v),h,function HI(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=u=GS(d,o,h,s),_f(o,u)}return new ii(u,s,o)}class Rl{constructor(o){this.queryList=o,this.matches=null}clone(){return new Rl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ud{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new Ud(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Po(o,u).matches&&this.queries[u].setDirty()}}class Yf{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class Gg{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Gg(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Wg{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Wg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,u,yi(u,m)),this.matchTNodeWithReadOption(o,u,Ic(u,o,m,!1,!1))}else d===Bd?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Ic(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Fg||h===$g||h===Bd&&4&u.type)this.addMatch(u.index,-2);else{const m=Ic(u,o,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function yi(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function jT(s,o,u,d){return-1===u?function UT(s,o){return 11&s.type?kd(s,o):4&s.type?zg(s,o):null}(o,s):-2===u?function HT(s,o,u){return u===Fg?kd(o,s):u===Bd?zg(o,s):u===$g?pC(o,s):void 0}(s,o,d):Jo(s,s[1],u,o)}function yb(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=u.matches,C=[];for(let D=0;D<v.length;D+=2){const S=v[D];C.push(S<0?null:jT(o,m[S],v[D+1],u.metadata.read))}h.matches=C}return h.matches}function vb(s,o,u,d){const h=s.queries.getByIndex(u),m=h.matches;if(null!==m){const v=yb(s,o,h,u);for(let C=0;C<m.length;C+=2){const D=m[C];if(D>0)d.push(v[C/2]);else{const S=m[C+1],R=o[-D];for(let $=10;$<R.length;$++){const ue=R[$];ue[17]===ue[3]&&vb(ue[1],ue,S,d)}if(null!==R[9]){const $=R[9];for(let ue=0;ue<$.length;ue++){const ve=$[ue];vb(ve[1],ve,S,d)}}}}}return d}function gC(s){const o=je(),u=Yt(),d=pc();_h(d+1);const h=Po(u,d);if(s.dirty&&qo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?vb(u,o,d,[]):yb(u,o,h,d);s.reset(m,PT),s.notifyOnChanges()}return!0}return!1}function _C(s,o,u){const d=Yt();d.firstCreatePass&&(bb(d,new Yf(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),vC(d,je(),o)}function yC(s,o,u,d){const h=Yt();if(h.firstCreatePass){const m=rr();bb(h,new Yf(o,u,d),m.index),function bC(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}vC(h,je(),u)}function ka(){return function jd(s,o){return s[19].queries[o].queryList}(je(),pc())}function vC(s,o,u){const d=new Kf(4==(4&u));av(s,o,d,d.destroy),null===o[19]&&(o[19]=new Ud),o[19].queries.push(new Rl(d))}function bb(s,o,u){null===s.queries&&(s.queries=new Gg),s.queries.track(new Wg(o,u))}function Po(s,o){return s.queries.getByIndex(o)}function wb(s,o){return zg(s,o)}function Pl(s){const o=Le(s)||Ke(s)||et(s);return null!==o&&o.standalone}function Cu(...s){}const xC=new Tn("Application Initializer");let Jt=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Cu,this.reject=Cu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Iv(m))u.push(m);else if(Cf(m)){const v=new Promise((C,D)=>{m.subscribe({complete:C,error:D})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(ar(xC,8))},s.\u0275prov=Ht({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const OC=new Tn("AppId",{providedIn:"root",factory:function np(){return`${Vl()}${Vl()}${Vl()}`}});function Vl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rp=new Tn("Platform Initializer"),RC=new Tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rb=new Tn("appBootstrapListener"),YT=new Tn("AnimationModuleType");let PC=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ht({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const r_=new Tn("LocaleId",{providedIn:"root",factory:()=>Jp(r_,St.Optional|St.SkipSelf)||function NC(){return typeof $localize<"u"&&$localize.locale||Dd}()}),QT=new Tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class XT{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let si=(()=>{class s{compileModuleSync(u){return new Ug(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=Ie(wt(u).declarations).reduce((v,C)=>{const D=Le(C);return D&&v.push(new Tl(D)),v},[]);return new XT(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ht({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const FC=(()=>Promise.resolve(0))();function o_(s){typeof Zone>"u"?FC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Es{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new js(!1),this.onMicrotaskEmpty=new js(!1),this.onStable=new js(!1),this.onError=new js(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function LC(){let s=tt.requestAnimationFrame,o=tt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function rA(s){const o=()=>{!function Nb(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(tt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,a_(s),s.isCheckStableRunning=!0,Bl(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),a_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,m,v,C)=>{try{return Fb(s),u.invokeTask(h,m,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),Lb(s)}},onInvoke:(u,d,h,m,v,C,D)=>{try{return Fb(s),u.invoke(h,m,v,C,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Lb(s)}},onHasTask:(u,d,h,m)=>{u.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,a_(s),Bl(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,h,m)=>(u.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new De(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,nA,Cu,Cu);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const nA={};function Bl(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function a_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Fb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Lb(s){s._nesting--,Bl(s)}class iA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new js,this.onMicrotaskEmpty=new js,this.onStable=new js,this.onError=new js}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const Vb=new Tn(""),VC=new Tn("");let Bb,sA=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bb||(function Gd(s){Bb=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),o_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())o_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(ar(Es),ar(Ul),ar(VC))},s.\u0275prov=Ht({token:s,factory:s.\u0275fac}),s})(),Ul=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Bb?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ht({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Du=null;const BC=new Tn("AllowMultipleToken"),u_=new Tn("PlatformDestroyListeners");class UC{constructor(o,u){this.name=o,this.token=u}}function zC(s,o,u=[]){const d=`Platform: ${o}`,h=new Tn(d);return(m=[])=>{let v=Ub();if(!v||v.injector.get(BC,!1)){const C=[...u,...m,{provide:h,useValue:!0}];s?s(C):function l_(s){if(Du&&!Du.get(BC,!1))throw new De(400,!1);Du=s;const o=s.get(GC);(function HC(s){const o=s.get(rp,null);o&&o.forEach(u=>u())})(s)}(function $C(s=[],o){return ma.create({name:o,providers:[{provide:hl,useValue:"platform"},{provide:u_,useValue:new Set([()=>Du=null])},...s]})}(C,d))}return function uA(s){const o=Ub();if(!o)throw new De(401,!1);return o}()}}function Ub(){return Du?.get(GC)??null}let GC=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function lA(s,o){let u;return u="noop"===s?new iA:("zone.js"===s?void 0:s)||new Es(o),u}(d?.ngZone,function WC(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Es,useValue:h}];return h.run(()=>{const v=ma.create({providers:m,parent:this.injector,name:u.moduleType.name}),C=u.create(v),D=C.injector.get(il,null);if(!D)throw new De(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{D.handleError(R)}});C.onDestroy(()=>{d_(this._modules,C),S.unsubscribe()})}),function qC(s,o,u){try{const d=u();return Iv(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(D,h,()=>{const S=C.injector.get(Jt);return S.runInitializers(),S.donePromise.then(()=>(function Kv(s){qe(s,"Expected localeId to be defined"),"string"==typeof s&&(qv=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(r_,Dd)||Dd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,d=[]){const h=KC({},d);return function oA(s,o,u){const d=new Ug(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const d=u.injector.get(c_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new De(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(u_,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(ar(ma))},s.\u0275prov=Ht({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function KC(s,o){return Array.isArray(o)?o.reduce(KC,s):{...s,...o}}let c_=(()=>{class s{constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new K.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new K.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Es.assertNotInAngularZone(),o_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Es.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),S.unsubscribe()}});this.isStable=(0,O.T)(m,v.pipe((0,Ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof XE;if(!this._injector.get(Jt).done)throw!h&&Pl(u),new De(405,false);let v;v=h?u:this._injector.get($f).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const C=function No(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Il),S=v.create(ma.NULL,[],d||v.selector,C),R=S.location.nativeElement,$=S.injector.get(Vb,null);return $?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),d_(this.components,S),$?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;d_(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Rb,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>d_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new De(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(ar(Es),ar(ma),ar(il))},s.\u0275prov=Ht({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function d_(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let QC=!0,jb=!1;function JC(){return jb=!0,QC}function cA(){if(jb)throw new Error("Cannot enable prod mode after platform setup.");QC=!1}let Hb=(()=>{class s{}return s.__NG_ELEMENT_ID__=zb,s})();function zb(s){return function Iu(s,o,u){if(zs(s)&&!u){const d=Br(s.index,o);return new Xn(d,d)}return 47&s.type?new Xn(o[16],o):null}(rr(),je(),16==(16&s))}class nD{constructor(){}supports(o){return yf(o)}create(o){return new op(o)}}const pA=(s,o)=>o;class op{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||pA}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<rD(d,h,m)?u:d,C=rD(v,h,m),D=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{m||(m=[]);const S=C-h,R=D-h;if(S!=R){for(let ue=0;ue<S;ue++){const ve=ue<m.length?m[ue]:m[ue]=0,Be=ve+ue;R<=Be&&Be<S&&(m[ue]=ve+1)}m[v.previousIndex]=R-S}}C!==D&&o(v,C,D)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!yf(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],v=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,C),d=!0),u=u._next}else h=0,function uT(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[io()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(h,C),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,C,v,h)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,m,h)):o=this._addAfter(new Hl(u,d),m,h),o}_verifyReinsertion(o,u,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new qb),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Hl{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zl{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class qb{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new zl,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rD(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class iD{constructor(){}supports(o){return o instanceof Map||dd(o)}create(){return new Kb}}class Kb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||dd(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new g_(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class g_{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sD(){return new __([new nD])}let __=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||sD()),deps:[[s,new wo,new ia]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new De(901,!1)}}return s.\u0275prov=Ht({token:s,providedIn:"root",factory:sD}),s})();function ap(){return new $l([new iD])}let $l=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||ap()),deps:[[s,new wo,new ia]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new De(901,!1)}}return s.\u0275prov=Ht({token:s,providedIn:"root",factory:ap}),s})();const v_=zC(null,"core",[]);let b_=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(ar(c_))},s.\u0275mod=yt({type:s}),s.\u0275inj=Dt({}),s})();function uD(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},579:(pt,Fe,B)=>{"use strict";B.d(Fe,{EI:()=>se,Gb:()=>cn,Iv:()=>ae,Kz:()=>He,Xd:()=>nr,lT:()=>ie,xP:()=>X});var l=B(5861),pe=B(9681),K=B(1877),O=B(2090),Ee=B(4859);B(2833);const ge="analytics",_e="firebase_id",J="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",q="https://www.googletagmanager.com/gtag/js",me=new K.Yd("@firebase/analytics");function Ce(we){return Promise.all(we.map(Ae=>Ae.catch(Le=>Le)))}function De(we,Ae){const Le=document.createElement("script");Le.src=`${q}?l=${we}&id=${Ae}`,Le.async=!0,document.head.appendChild(Le)}function xe(we,Ae,Le,Ke,et,wt){return ke.apply(this,arguments)}function ke(){return(ke=(0,l.Z)(function*(we,Ae,Le,Ke,et,wt){const xt=Ke[et];try{if(xt)yield Ae[xt];else{const ct=(yield Ce(Le)).find(Nt=>Nt.measurementId===et);ct&&(yield Ae[ct.appId])}}catch(ze){me.error(ze)}we("config",et,wt)})).apply(this,arguments)}function rt(we,Ae,Le,Ke,et){return dt.apply(this,arguments)}function dt(){return(dt=(0,l.Z)(function*(we,Ae,Le,Ke,et){try{let wt=[];if(et&&et.send_to){let xt=et.send_to;Array.isArray(xt)||(xt=[xt]);const ze=yield Ce(Le);for(const ct of xt){const Nt=ze.find(wr=>wr.measurementId===ct),Qt=Nt&&Ae[Nt.appId];if(!Qt){wt=[];break}wt.push(Qt)}}0===wt.length&&(wt=Object.values(Ae)),yield Promise.all(wt),we("event",Ke,et||{})}catch(wt){me.error(wt)}})).apply(this,arguments)}function T(){const we=window.document.getElementsByTagName("script");for(const Ae of Object.values(we))if(Ae.src&&Ae.src.includes(q))return Ae;return null}const Y=new O.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ne=new class N{constructor(Ae={},Le=1e3){this.throttleMetadata=Ae,this.intervalMillis=Le}getThrottleMetadata(Ae){return this.throttleMetadata[Ae]}setThrottleMetadata(Ae,Le){this.throttleMetadata[Ae]=Le}deleteThrottleMetadata(Ae){delete this.throttleMetadata[Ae]}};function Q(we){return new Headers({Accept:"application/json","x-goog-api-key":we})}function re(we){return ee.apply(this,arguments)}function ee(){return(ee=(0,l.Z)(function*(we){var Ae;const{appId:Le,apiKey:Ke}=we,et={method:"GET",headers:Q(Ke)},wt=J.replace("{app-id}",Le),xt=yield fetch(wt,et);if(200!==xt.status&&304!==xt.status){let ze="";try{const ct=yield xt.json();null!==(Ae=ct.error)&&void 0!==Ae&&Ae.message&&(ze=ct.error.message)}catch{}throw Y.create("config-fetch-failed",{httpStatus:xt.status,responseMessage:ze})}return xt.json()})).apply(this,arguments)}function V(we){return be.apply(this,arguments)}function be(){return(be=(0,l.Z)(function*(we,Ae=ne,Le){const{appId:Ke,apiKey:et,measurementId:wt}=we.options;if(!Ke)throw Y.create("no-app-id");if(!et){if(wt)return{measurementId:wt,appId:Ke};throw Y.create("no-api-key")}const xt=Ae.getThrottleMetadata(Ke)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new on;return setTimeout((0,l.Z)(function*(){ze.abort()}),void 0!==Le?Le:6e4),$e({appId:Ke,apiKey:et,measurementId:wt},xt,ze,Ae)})).apply(this,arguments)}function $e(we,Ae,Le){return qe.apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(we,{throttleEndTimeMillis:Ae,backoffCount:Le},Ke,et=ne){var wt,xt;const{appId:ze,measurementId:ct}=we;try{yield Ue(Ke,Ae)}catch(Nt){if(ct)return me.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${null===(wt=Nt)||void 0===wt?void 0:wt.message}]`),{appId:ze,measurementId:ct};throw Nt}try{const Nt=yield re(we);return et.deleteThrottleMetadata(ze),Nt}catch(Nt){const Qt=Nt;if(!Xe(Qt)){if(et.deleteThrottleMetadata(ze),ct)return me.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${Qt?.message}]`),{appId:ze,measurementId:ct};throw Nt}const wr=503===Number(null===(xt=Qt?.customData)||void 0===xt?void 0:xt.httpStatus)?(0,O.$s)(Le,et.intervalMillis,30):(0,O.$s)(Le,et.intervalMillis),bn={throttleEndTimeMillis:Date.now()+wr,backoffCount:Le+1};return et.setThrottleMetadata(ze,bn),me.debug(`Calling attemptFetch again in ${wr} millis`),$e(we,bn,Ke,et)}})).apply(this,arguments)}function Ue(we,Ae){return new Promise((Le,Ke)=>{const et=Math.max(Ae-Date.now(),0),wt=setTimeout(Le,et);we.addEventListener(()=>{clearTimeout(wt),Ke(Y.create("fetch-throttle",{throttleEndTimeMillis:Ae}))})})}function Xe(we){if(!(we instanceof O.ZR&&we.customData))return!1;const Ae=Number(we.customData.httpStatus);return 429===Ae||500===Ae||503===Ae||504===Ae}class on{constructor(){this.listeners=[]}addEventListener(Ae){this.listeners.push(Ae)}abort(){this.listeners.forEach(Ae=>Ae())}}let Kt,Gr;function nn(){return(nn=(0,l.Z)(function*(we,Ae,Le,Ke,et){if(et&&et.global)we("event",Le,Ke);else{const wt=yield Ae;we("event",Le,Object.assign(Object.assign({},Ke),{send_to:wt}))}})).apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(we,Ae,Le,Ke){if(Ke&&Ke.global)return we("set",{screen_name:Le}),Promise.resolve();we("config",yield Ae,{update:!0,screen_name:Le})})).apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(we,Ae,Le,Ke){if(Ke&&Ke.global)return we("set",{user_id:Le}),Promise.resolve();we("config",yield Ae,{update:!0,user_id:Le})})).apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(we,Ae,Le,Ke){if(Ke&&Ke.global){const et={};for(const wt of Object.keys(Le))et[`user_properties.${wt}`]=Le[wt];return we("set",et),Promise.resolve()}we("config",yield Ae,{update:!0,user_properties:Le})})).apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(we,Ae){const Le=yield we;window[`ga-disable-${Le}`]=!Ae})).apply(this,arguments)}function kr(we){Gr=we}function St(we){Kt=we}function br(){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(){var we;if(!(0,O.hl)())return me.warn(Y.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,O.eu)()}catch(Ae){return me.warn(Y.create("indexeddb-unavailable",{errorInfo:null===(we=Ae)||void 0===we?void 0:we.toString()}).message),!1}return!0})).apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(we,Ae,Le,Ke,et,wt,xt){var ze;const ct=V(we);ct.then($n=>{Le[$n.measurementId]=$n.appId,we.options.measurementId&&$n.measurementId!==we.options.measurementId&&me.warn(`The measurement ID in the local Firebase config (${we.options.measurementId}) does not match the measurement ID fetched from the server (${$n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($n=>me.error($n)),Ae.push(ct);const Nt=br().then($n=>{if($n)return Ke.getId()}),[Qt,wr]=yield Promise.all([ct,Nt]);T()||De(wt,Qt.measurementId),Gr&&(et("consent","default",Gr),kr(void 0)),et("js",new Date);const bn=null!==(ze=xt?.config)&&void 0!==ze?ze:{};return bn.origin="firebase",bn.update=!0,null!=wr&&(bn[_e]=wr),et("config",Qt.measurementId,bn),Kt&&(et("set",Kt),St(void 0)),Qt.measurementId})).apply(this,arguments)}class wi{constructor(Ae){this.app=Ae}_delete(){return delete vn[this.app.options.appId],Promise.resolve()}}let vn={},zn=[];const Xr={};let tt,vt,Wr="dataLayer",sn="gtag",En=!1;function nr(we){if(En)throw Y.create("already-initialized");we.dataLayerName&&(Wr=we.dataLayerName),we.gtagName&&(sn=we.gtagName)}function xr(we,Ae,Le){!function Lt(){const we=[];if((0,O.ru)()&&we.push("This is a browser extension environment."),(0,O.zI)()||we.push("Cookies are not available."),we.length>0){const Ae=we.map((Ke,et)=>`(${et+1}) ${Ke}`).join(" "),Le=Y.create("invalid-analytics-context",{errorInfo:Ae});me.warn(Le.message)}}();const Ke=we.options.appId;if(!Ke)throw Y.create("no-app-id");if(!we.options.apiKey){if(!we.options.measurementId)throw Y.create("no-api-key");me.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${we.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vn[Ke])throw Y.create("already-exists",{id:Ke});if(!En){!function Oe(we){let Ae=[];Array.isArray(window[we])?Ae=window[we]:window[we]=Ae}(Wr);const{wrappedGtag:wt,gtagCore:xt}=function x(we,Ae,Le,Ke,et){let wt=function(...xt){window[Ke].push(arguments)};return window[et]&&"function"==typeof window[et]&&(wt=window[et]),window[et]=function E(we,Ae,Le,Ke){function wt(){return(wt=(0,l.Z)(function*(xt,ze,ct){try{"event"===xt?yield rt(we,Ae,Le,ze,ct):"config"===xt?yield xe(we,Ae,Le,Ke,ze,ct):"consent"===xt?we("consent","update",ct):we("set",ze)}catch(Nt){me.error(Nt)}})).apply(this,arguments)}return function et(xt,ze,ct){return wt.apply(this,arguments)}}(wt,we,Ae,Le),{gtagCore:wt,wrappedGtag:window[et]}}(vn,zn,Xr,Wr,sn);vt=wt,tt=xt,En=!0}return vn[Ke]=function Bn(we,Ae,Le,Ke,et,wt,xt){return Vr.apply(this,arguments)}(we,zn,Xr,Ae,tt,Wr,Le),new wi(we)}function cn(){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(){if((0,O.ru)()||!(0,O.zI)()||!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch{return!1}})).apply(this,arguments)}function ie(we,Ae,Le){we=(0,O.m9)(we),function Dt(we,Ae,Le,Ke){return _t.apply(this,arguments)}(vt,vn[we.app.options.appId],Ae,Le).catch(Ke=>me.error(Ke))}function ae(we,Ae,Le){we=(0,O.m9)(we),function Dn(we,Ae,Le,Ke){return Lr.apply(this,arguments)}(vt,vn[we.app.options.appId],Ae,Le).catch(Ke=>me.error(Ke))}function X(we,Ae,Le){we=(0,O.m9)(we),function Gn(we,Ae,Le,Ke){return Mn.apply(this,arguments)}(vt,vn[we.app.options.appId],Ae,Le).catch(Ke=>me.error(Ke))}function se(we,Ae){we=(0,O.m9)(we),function tr(we,Ae){return cr.apply(this,arguments)}(vn[we.app.options.appId],Ae).catch(Le=>me.error(Le))}function He(we,Ae,Le,Ke){we=(0,O.m9)(we),function Ht(we,Ae,Le,Ke,et){return nn.apply(this,arguments)}(vt,vn[we.app.options.appId],Ae,Le,Ke).catch(et=>me.error(et))}const yt="@firebase/analytics";!function an(){(0,pe._registerComponent)(new Ee.wA(ge,(Ae,{options:Le})=>xr(Ae.getProvider("app").getImmediate(),Ae.getProvider("installations-internal").getImmediate(),Le),"PUBLIC")),(0,pe._registerComponent)(new Ee.wA("analytics-internal",function we(Ae){try{const Le=Ae.getProvider(ge).getImmediate();return{logEvent:(Ke,et,wt)=>He(Le,Ke,et,wt)}}catch(Le){throw Y.create("interop-component-reg-failed",{reason:Le})}},"PRIVATE")),(0,pe.registerVersion)(yt,"0.8.0"),(0,pe.registerVersion)(yt,"0.8.0","esm2017")}()},3942:(pt,Fe,B)=>{"use strict";B.d(Fe,{Z:()=>De});var l=B(2090),pe=B(4859),K=B(9681),O=B(1877);class Ee{constructor(xe,ke){this._delegate=xe,this.firebase=ke,(0,K._addComponent)(xe,new pe.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(xe,ke=K._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(xe);return!dt.isInitialized()&&"EXPLICIT"===(null===(rt=dt.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:ke})}_removeServiceInstance(xe,ke=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(ke)}_addComponent(xe){(0,K._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,K._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function de(){const Oe=function _e(Oe){const xe={},ke={__esModule:!0,initializeApp:function E(Y,P={}){const L=K.initializeApp(Y,P);if((0,l.r3)(xe,L.name))return xe[L.name];const N=new Oe(L,ke);return xe[L.name]=N,N},app:dt,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function T(Y){const P=Y.name,L=P.replace("-compat","");if(K._registerComponent(Y)&&"PUBLIC"===Y.type){const N=(ne=dt())=>{if("function"!=typeof ne[L])throw ge.create("invalid-app-argument",{appName:P});return ne[L]()};void 0!==Y.serviceProps&&(0,l.ZB)(N,Y.serviceProps),ke[L]=N,Oe.prototype[L]=function(...ne){return this._getService.bind(this,P).apply(this,Y.multipleInstances?ne:[])}}return"PUBLIC"===Y.type?ke[L]:null},removeApp:function rt(Y){delete xe[Y]},useAsService:function W(Y,P){return"serverAuth"===P?null:P},modularAPIs:K}};function dt(Y){if(!(0,l.r3)(xe,Y=Y||K._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Y});return xe[Y]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function x(){return Object.keys(xe).map(Y=>xe[Y])}}),dt.App=Oe,ke}(Ee);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function xe(ke){(0,l.ZB)(Oe,ke)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Oe}(),J=new O.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=U;!function Ce(Oe){(0,K.registerVersion)("@firebase/app-compat","0.1.30",Oe)}()},9681:(pt,Fe,B)=>{"use strict";B.r(Fe),B.d(Fe,{FirebaseError:()=>O.ZR,SDK_VERSION:()=>tr,_DEFAULT_ENTRY_NAME:()=>qe,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>Ht,_apps:()=>Xe,_clearComponents:()=>Dn,_components:()=>on,_getProvider:()=>Dt,_registerComponent:()=>nn,_removeServiceInstance:()=>_t,deleteApp:()=>St,getApp:()=>Gr,getApps:()=>kr,initializeApp:()=>cr,onLog:()=>Bn,registerVersion:()=>mn,setLogLevel:()=>Vr});var l=B(5861),pe=B(4859),K=B(1877),O=B(2090),Ee=B(8766);class ce{constructor(se){this.container=se}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function ge(X){return"VERSION"===X.getComponent()?.type}(oe)){const He=oe.getImmediate();return`${He.library}/${He.version}`}return null}).filter(oe=>oe).join(" ")}}const _e="@firebase/app",U=new K.Yd("@firebase/app"),qe="[DEFAULT]",Ue={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,on=new Map;function Kt(X,se){try{X.container.addComponent(se)}catch(oe){U.debug(`Component ${se.name} failed to register with FirebaseApp ${X.name}`,oe)}}function Ht(X,se){X.container.addOrOverwriteComponent(se)}function nn(X){const se=X.name;if(on.has(se))return U.debug(`There were multiple attempts to register component ${se}.`),!1;on.set(se,X);for(const oe of Xe.values())Kt(oe,X);return!0}function Dt(X,se){const oe=X.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),X.container.getProvider(se)}function _t(X,se,oe=qe){Dt(X,se).clearInstance(oe)}function Dn(){on.clear()}const Gn=new O.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Mn{constructor(se,oe,He){this._isDeleted=!1,this._options=Object.assign({},se),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new pe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this.checkDestroyed(),this._automaticDataCollectionEnabled=se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(se){this._isDeleted=se}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const tr="9.9.1";function cr(X,se={}){"object"!=typeof se&&(se={name:se});const oe=Object.assign({name:qe,automaticDataCollectionEnabled:!1},se),He=oe.name;if("string"!=typeof He||!He)throw Gn.create("bad-app-name",{appName:String(He)});const it=Xe.get(He);if(it){if((0,O.vZ)(X,it.options)&&(0,O.vZ)(oe,it.config))return it;throw Gn.create("duplicate-app",{appName:He})}const yt=new pe.H0(He);for(const an of on.values())yt.addComponent(an);const fn=new Mn(X,oe,yt);return Xe.set(He,fn),fn}function Gr(X=qe){const se=Xe.get(X);if(!se)throw Gn.create("no-app",{appName:X});return se}function kr(){return Array.from(Xe.values())}function St(X){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(X){const se=X.name;Xe.has(se)&&(Xe.delete(se),yield Promise.all(X.container.getProviders().map(oe=>oe.delete())),X.isDeleted=!0)})).apply(this,arguments)}function mn(X,se,oe){var He;let it=null!==(He=Ue[X])&&void 0!==He?He:X;oe&&(it+=`-${oe}`);const yt=it.match(/\s|\//),fn=se.match(/\s|\//);if(yt||fn){const an=[`Unable to register library "${it}" with version "${se}":`];return yt&&an.push(`library name "${it}" contains illegal characters (whitespace or "/")`),yt&&fn&&an.push("and"),fn&&an.push(`version name "${se}" contains illegal characters (whitespace or "/")`),void U.warn(an.join(" "))}nn(new pe.wA(`${it}-version`,()=>({library:it,version:se}),"VERSION"))}function Bn(X,se){if(null!==X&&"function"!=typeof X)throw Gn.create("invalid-log-argument");(0,K.Am)(X,se)}function Vr(X){(0,K.Ub)(X)}const zn="firebase-heartbeat-store";let Xr=null;function Wr(){return Xr||(Xr=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(X,se)=>{0===se&&X.createObjectStore(zn)}}).catch(X=>{throw Gn.create("storage-open",{originalErrorMessage:X.message})})),Xr}function tt(){return(tt=(0,l.Z)(function*(X){var se;try{return(yield Wr()).transaction(zn).objectStore(zn).get(nr(X))}catch(oe){throw Gn.create("storage-get",{originalErrorMessage:null===(se=oe)||void 0===se?void 0:se.message})}})).apply(this,arguments)}function vt(X,se){return En.apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(X,se){var oe;try{const it=(yield Wr()).transaction(zn,"readwrite");return yield it.objectStore(zn).put(se,nr(X)),it.done}catch(He){throw Gn.create("storage-set",{originalErrorMessage:null===(oe=He)||void 0===oe?void 0:oe.message})}})).apply(this,arguments)}function nr(X){return`${X.name}!${X.options.appId}`}class Wn{constructor(se){this.container=se,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new dr(oe),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var se=this;return(0,l.Z)(function*(){const He=se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),it=Or();if(null===se._heartbeatsCache&&(se._heartbeatsCache=yield se._heartbeatsCachePromise),se._heartbeatsCache.lastSentHeartbeatDate!==it&&!se._heartbeatsCache.heartbeats.some(yt=>yt.date===it))return se._heartbeatsCache.heartbeats.push({date:it,agent:He}),se._heartbeatsCache.heartbeats=se._heartbeatsCache.heartbeats.filter(yt=>{const fn=new Date(yt.date).valueOf();return Date.now()-fn<=2592e6}),se._storage.overwrite(se._heartbeatsCache)})()}getHeartbeatsHeader(){var se=this;return(0,l.Z)(function*(){if(null===se._heartbeatsCache&&(yield se._heartbeatsCachePromise),null===se._heartbeatsCache||0===se._heartbeatsCache.heartbeats.length)return"";const oe=Or(),{heartbeatsToSend:He,unsentEntries:it}=function cn(X,se=1024){const oe=[];let He=X.slice();for(const it of X){const yt=oe.find(fn=>fn.agent===it.agent);if(yt){if(yt.dates.push(it.date),ie(oe)>se){yt.dates.pop();break}}else if(oe.push({agent:it.agent,dates:[it.date]}),ie(oe)>se){oe.pop();break}He=He.slice(1)}return{heartbeatsToSend:oe,unsentEntries:He}}(se._heartbeatsCache.heartbeats),yt=(0,O.L)(JSON.stringify({version:2,heartbeats:He}));return se._heartbeatsCache.lastSentHeartbeatDate=oe,it.length>0?(se._heartbeatsCache.heartbeats=it,yield se._storage.overwrite(se._heartbeatsCache)):(se._heartbeatsCache.heartbeats=[],se._storage.overwrite(se._heartbeatsCache)),yt})()}}function Or(){return(new Date).toISOString().substring(0,10)}class dr{constructor(se){this.app=se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,O.hl)()&&(0,O.eu)().then(()=>!0).catch(()=>!1)})()}read(){var se=this;return(0,l.Z)(function*(){return(yield se._canUseIndexedDBPromise)&&(yield function sn(X){return tt.apply(this,arguments)}(se.app))||{heartbeats:[]}})()}overwrite(se){var oe=this;return(0,l.Z)(function*(){var He;if(yield oe._canUseIndexedDBPromise){const yt=yield oe.read();return vt(oe.app,{lastSentHeartbeatDate:null!==(He=se.lastSentHeartbeatDate)&&void 0!==He?He:yt.lastSentHeartbeatDate,heartbeats:se.heartbeats})}})()}add(se){var oe=this;return(0,l.Z)(function*(){var He;if(yield oe._canUseIndexedDBPromise){const yt=yield oe.read();return vt(oe.app,{lastSentHeartbeatDate:null!==(He=se.lastSentHeartbeatDate)&&void 0!==He?He:yt.lastSentHeartbeatDate,heartbeats:[...yt.heartbeats,...se.heartbeats]})}})()}}function ie(X){return(0,O.L)(JSON.stringify({version:2,heartbeats:X})).length}!function ae(X){nn(new pe.wA("platform-logger",se=>new ce(se),"PRIVATE")),nn(new pe.wA("heartbeat",se=>new Wn(se),"PRIVATE")),mn(_e,"0.7.29",X),mn(_e,"0.7.29","esm2017"),mn("fire-js","")}("")},4859:(pt,Fe,B)=>{"use strict";B.d(Fe,{H0:()=>_e,wA:()=>K});var l=B(5861),pe=B(2090);class K{constructor(U,J,q){this.name=U,this.instanceFactory=J,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const O="[DEFAULT]";class Ee{constructor(U,J){this.name=U,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const J=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(J)){const q=new pe.BH;if(this.instancesDeferred.set(J,q),this.isInitialized(J)||this.shouldAutoInitialize())try{const me=this.getOrInitializeService({instanceIdentifier:J});me&&q.resolve(me)}catch{}}return this.instancesDeferred.get(J).promise}getImmediate(U){var J;const q=this.normalizeInstanceIdentifier(U?.identifier),me=null!==(J=U?.optional)&&void 0!==J&&J;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ce){if(me)return null;throw Ce}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function ge(de){return"EAGER"===de.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:O})}catch{}for(const[J,q]of this.instancesDeferred.entries()){const me=this.normalizeInstanceIdentifier(J);try{const Ce=this.getOrInitializeService({instanceIdentifier:me});q.resolve(Ce)}catch{}}}}clearInstance(U=O){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,l.Z)(function*(){const J=Array.from(U.instances.values());yield Promise.all([...J.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...J.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=O){return this.instances.has(U)}getOptions(U=O){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:J={}}=U,q=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const me=this.getOrInitializeService({instanceIdentifier:q,options:J});for(const[Ce,De]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ce)&&De.resolve(me);return me}onInit(U,J){var q;const me=this.normalizeInstanceIdentifier(J),Ce=null!==(q=this.onInitCallbacks.get(me))&&void 0!==q?q:new Set;Ce.add(U),this.onInitCallbacks.set(me,Ce);const De=this.instances.get(me);return De&&U(De,me),()=>{Ce.delete(U)}}invokeOnInitCallbacks(U,J){const q=this.onInitCallbacks.get(J);if(q)for(const me of q)try{me(U,J)}catch{}}getOrInitializeService({instanceIdentifier:U,options:J={}}){let q=this.instances.get(U);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=U,de===O?void 0:de),options:J}),this.instances.set(U,q),this.instancesOptions.set(U,J),this.invokeOnInitCallbacks(q,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,q)}catch{}var de;return q||null}normalizeInstanceIdentifier(U=O){return this.component?this.component.multipleInstances?U:O:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const J=this.getProvider(U.name);if(J.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);J.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const J=new Ee(U,this);return this.providers.set(U,J),J}getProviders(){return Array.from(this.providers.values())}}},2833:(pt,Fe,B)=>{"use strict";var l=B(5861),pe=B(9681),K=B(4859),O=B(2090),Ee=B(8766);const ce="@firebase/installations",ge="0.5.12",de=`w:${ge}`,U="FIS_v2",Oe=new O.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xe(he){return he instanceof O.ZR&&he.code.includes("request-failed")}function ke({projectId:he}){return`https://firebaseinstallations.googleapis.com/v1/projects/${he}/installations`}function rt(he){return{token:he.token,requestStatus:2,expiresIn:P(he.expiresIn),creationTime:Date.now()}}function dt(he,Pe){return E.apply(this,arguments)}function E(){return(E=(0,l.Z)(function*(he,Pe){const ut=(yield Pe.json()).error;return Oe.create("request-failed",{requestName:he,serverCode:ut.code,serverMessage:ut.message,serverStatus:ut.status})})).apply(this,arguments)}function x({apiKey:he}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":he})}function T(he,{refreshToken:Pe}){const Ze=x(he);return Ze.append("Authorization",function L(he){return`${U} ${he}`}(Pe)),Ze}function W(he){return Y.apply(this,arguments)}function Y(){return(Y=(0,l.Z)(function*(he){const Pe=yield he();return Pe.status>=500&&Pe.status<600?he():Pe})).apply(this,arguments)}function P(he){return Number(he.replace("s","000"))}function N(he,Pe){return ne.apply(this,arguments)}function ne(){return(ne=(0,l.Z)(function*({appConfig:he,heartbeatServiceProvider:Pe},{fid:Ze}){const ut=ke(he),kn=x(he),un=Pe.getImmediate({optional:!0});if(un){const Xt=yield un.getHeartbeatsHeader();Xt&&kn.append("x-firebase-client",Xt)}const On={method:"POST",headers:kn,body:JSON.stringify({fid:Ze,authVersion:U,appId:he.appId,sdkVersion:de})},xi=yield W(()=>fetch(ut,On));if(xi.ok){const Xt=yield xi.json();return{fid:Xt.fid||Ze,registrationStatus:2,refreshToken:Xt.refreshToken,authToken:rt(Xt.authToken)}}throw yield dt("Create Installation",xi)})).apply(this,arguments)}function Q(he){return new Promise(Pe=>{setTimeout(Pe,he)})}const ee=/^[cdef][\w-]{21}$/;function be(){try{const he=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(he),he[0]=112+he[0]%16;const Ze=function $e(he){return function re(he){return btoa(String.fromCharCode(...he)).replace(/\+/g,"-").replace(/\//g,"_")}(he).substr(0,22)}(he);return ee.test(Ze)?Ze:""}catch{return""}}function qe(he){return`${he.appName}!${he.appId}`}const Ue=new Map;function Xe(he,Pe){const Ze=qe(he);Ht(Ze,Pe),function nn(he,Pe){const Ze=function _t(){return!Dt&&"BroadcastChannel"in self&&(Dt=new BroadcastChannel("[Firebase] FID Change"),Dt.onmessage=he=>{Ht(he.data.key,he.data.fid)}),Dt}();Ze&&Ze.postMessage({key:he,fid:Pe}),function Dn(){0===Ue.size&&Dt&&(Dt.close(),Dt=null)}()}(Ze,Pe)}function Ht(he,Pe){const Ze=Ue.get(he);if(Ze)for(const ut of Ze)ut(Pe)}let Dt=null;const Mn="firebase-installations-store";let tr=null;function cr(){return tr||(tr=(0,Ee.X3)("firebase-installations-database",1,{upgrade:(he,Pe)=>{0===Pe&&he.createObjectStore(Mn)}})),tr}function Gr(he,Pe){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(he,Pe){const Ze=qe(he),kn=(yield cr()).transaction(Mn,"readwrite"),un=kn.objectStore(Mn),xn=yield un.get(Ze);return yield un.put(Pe,Ze),yield kn.done,(!xn||xn.fid!==Pe.fid)&&Xe(he,Pe.fid),Pe})).apply(this,arguments)}function St(he){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(he){const Pe=qe(he),ut=(yield cr()).transaction(Mn,"readwrite");yield ut.objectStore(Mn).delete(Pe),yield ut.done})).apply(this,arguments)}function mn(he,Pe){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(he,Pe){const Ze=qe(he),kn=(yield cr()).transaction(Mn,"readwrite"),un=kn.objectStore(Mn),xn=yield un.get(Ze),On=Pe(xn);return void 0===On?yield un.delete(Ze):yield un.put(On,Ze),yield kn.done,On&&(!xn||xn.fid!==On.fid)&&Xe(he,On.fid),On})).apply(this,arguments)}function Vr(he){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(he){let Pe;const Ze=yield mn(he.appConfig,ut=>{const kn=vn(ut),un=zn(he,kn);return Pe=un.registrationPromise,un.installationEntry});return""===Ze.fid?{installationEntry:yield Pe}:{installationEntry:Ze,registrationPromise:Pe}})).apply(this,arguments)}function vn(he){return En(he||{fid:be(),registrationStatus:0})}function zn(he,Pe){if(0===Pe.registrationStatus){if(!navigator.onLine)return{installationEntry:Pe,registrationPromise:Promise.reject(Oe.create("app-offline"))};const Ze={fid:Pe.fid,registrationStatus:1,registrationTime:Date.now()},ut=function Xr(he,Pe){return Wr.apply(this,arguments)}(he,Ze);return{installationEntry:Ze,registrationPromise:ut}}return 1===Pe.registrationStatus?{installationEntry:Pe,registrationPromise:sn(he)}:{installationEntry:Pe}}function Wr(){return(Wr=(0,l.Z)(function*(he,Pe){try{const Ze=yield N(he,Pe);return Gr(he.appConfig,Ze)}catch(Ze){throw xe(Ze)&&409===Ze.customData.serverCode?yield St(he.appConfig):yield Gr(he.appConfig,{fid:Pe.fid,registrationStatus:0}),Ze}})).apply(this,arguments)}function sn(he){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(he){let Pe=yield vt(he.appConfig);for(;1===Pe.registrationStatus;)yield Q(100),Pe=yield vt(he.appConfig);if(0===Pe.registrationStatus){const{installationEntry:Ze,registrationPromise:ut}=yield Vr(he);return ut||Ze}return Pe})).apply(this,arguments)}function vt(he){return mn(he,Pe=>{if(!Pe)throw Oe.create("installation-not-found");return En(Pe)})}function En(he){return function nr(he){return 1===he.registrationStatus&&he.registrationTime+1e4<Date.now()}(he)?{fid:he.fid,registrationStatus:0}:he}function Lt(he,Pe){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*({appConfig:he,heartbeatServiceProvider:Pe},Ze){const ut=Wn(he,Ze),kn=T(he,Ze),un=Pe.getImmediate({optional:!0});if(un){const Xt=yield un.getHeartbeatsHeader();Xt&&kn.append("x-firebase-client",Xt)}const On={method:"POST",headers:kn,body:JSON.stringify({installation:{sdkVersion:de,appId:he.appId}})},xi=yield W(()=>fetch(ut,On));if(xi.ok)return rt(yield xi.json());throw yield dt("Generate Auth Token",xi)})).apply(this,arguments)}function Wn(he,{fid:Pe}){return`${ke(he)}/${Pe}/authTokens:generate`}function Or(he){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(he,Pe=!1){let Ze;const ut=yield mn(he.appConfig,un=>{if(!oe(un))throw Oe.create("not-registered");const xn=un.authToken;if(!Pe&&He(xn))return un;if(1===xn.requestStatus)return Ze=dr(he,Pe),un;{if(!navigator.onLine)throw Oe.create("app-offline");const On=yt(un);return Ze=X(he,On),On}});return Ze?yield Ze:ut.authToken})).apply(this,arguments)}function dr(he,Pe){return ie.apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(he,Pe){let Ze=yield ae(he.appConfig);for(;1===Ze.authToken.requestStatus;)yield Q(100),Ze=yield ae(he.appConfig);const ut=Ze.authToken;return 0===ut.requestStatus?Or(he,Pe):ut})).apply(this,arguments)}function ae(he){return mn(he,Pe=>{if(!oe(Pe))throw Oe.create("not-registered");return function fn(he){return 1===he.requestStatus&&he.requestTime+1e4<Date.now()}(Pe.authToken)?Object.assign(Object.assign({},Pe),{authToken:{requestStatus:0}}):Pe})}function X(he,Pe){return se.apply(this,arguments)}function se(){return(se=(0,l.Z)(function*(he,Pe){try{const Ze=yield Lt(he,Pe),ut=Object.assign(Object.assign({},Pe),{authToken:Ze});return yield Gr(he.appConfig,ut),Ze}catch(Ze){if(!xe(Ze)||401!==Ze.customData.serverCode&&404!==Ze.customData.serverCode){const ut=Object.assign(Object.assign({},Pe),{authToken:{requestStatus:0}});yield Gr(he.appConfig,ut)}else yield St(he.appConfig);throw Ze}})).apply(this,arguments)}function oe(he){return void 0!==he&&2===he.registrationStatus}function He(he){return 2===he.requestStatus&&!function it(he){const Pe=Date.now();return Pe<he.creationTime||he.creationTime+he.expiresIn<Pe+36e5}(he)}function yt(he){const Pe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},he),{authToken:Pe})}function we(){return(we=(0,l.Z)(function*(he){const Pe=he,{installationEntry:Ze,registrationPromise:ut}=yield Vr(Pe);return ut?ut.catch(console.error):Or(Pe).catch(console.error),Ze.fid})).apply(this,arguments)}function Le(){return(Le=(0,l.Z)(function*(he,Pe=!1){const Ze=he;return yield Ke(Ze),(yield Or(Ze,Pe)).token})).apply(this,arguments)}function Ke(he){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(he){const{registrationPromise:Pe}=yield Vr(he);Pe&&(yield Pe)})).apply(this,arguments)}function $n(he){return Oe.create("missing-app-config-values",{valueName:he})}const In="installations",li=he=>{const Pe=he.getProvider("app").getImmediate(),Ze=function bn(he){if(!he||!he.options)throw $n("App Configuration");if(!he.name)throw $n("App Name");const Pe=["projectId","apiKey","appId"];for(const Ze of Pe)if(!he.options[Ze])throw $n(Ze);return{appName:he.name,projectId:he.options.projectId,apiKey:he.options.apiKey,appId:he.options.appId}}(Pe);return{app:Pe,appConfig:Ze,heartbeatServiceProvider:(0,pe._getProvider)(Pe,"heartbeat"),_delete:()=>Promise.resolve()}},Wt=he=>{const Pe=he.getProvider("app").getImmediate(),Ze=(0,pe._getProvider)(Pe,In).getImmediate();return{getId:()=>function an(he){return we.apply(this,arguments)}(Ze),getToken:kn=>function Ae(he){return Le.apply(this,arguments)}(Ze,kn)}};(function Ms(){(0,pe._registerComponent)(new K.wA(In,li,"PUBLIC")),(0,pe._registerComponent)(new K.wA("installations-internal",Wt,"PRIVATE"))})(),(0,pe.registerVersion)(ce,ge),(0,pe.registerVersion)(ce,ge,"esm2017")},1877:(pt,Fe,B)=>{"use strict";B.d(Fe,{Am:()=>de,Ub:()=>_e,Yd:()=>ge,in:()=>pe});const l=[];var pe=(()=>{return(U=pe||(pe={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",pe;var U})();const K={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},O=pe.INFO,Ee={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},ce=(U,J,...q)=>{if(J<U.logLevel)return;const me=(new Date).toISOString(),Ce=Ee[J];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Ce](`[${me}]  ${U.name}:`,...q)};class ge{constructor(J){this.name=J,this._logLevel=O,this._logHandler=ce,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in pe))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?K[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...J),this._logHandler(this,pe.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...J),this._logHandler(this,pe.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...J),this._logHandler(this,pe.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...J),this._logHandler(this,pe.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...J),this._logHandler(this,pe.ERROR,...J)}}function _e(U){l.forEach(J=>{J.setLogLevel(U)})}function de(U,J){for(const q of l){let me=null;J&&J.level&&(me=K[J.level]),q.userLogHandler=null===U?null:(Ce,De,...Oe)=>{const xe=Oe.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");De>=(me??Ce.logLevel)&&U({level:pe[De].toLowerCase(),message:xe,args:Oe,type:Ce.name})}}}},8766:(pt,Fe,B)=>{"use strict";B.d(Fe,{Lj:()=>E,X3:()=>dt});var l=B(5861);let K,O;const ge=new WeakMap,_e=new WeakMap,de=new WeakMap,U=new WeakMap,J=new WeakMap;let Ce={get(P,L,N){if(P instanceof IDBTransaction){if("done"===L)return _e.get(P);if("objectStoreNames"===L)return P.objectStoreNames||de.get(P);if("store"===L)return N.objectStoreNames[1]?void 0:N.objectStore(N.objectStoreNames[0])}return ke(P[L])},set:(P,L,N)=>(P[L]=N,!0),has:(P,L)=>P instanceof IDBTransaction&&("done"===L||"store"===L)||L in P};function xe(P){return"function"==typeof P?function Oe(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return O||(O=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...L){return P.apply(rt(this),L),ke(ge.get(this))}:function(...L){return ke(P.apply(rt(this),L))}:function(L,...N){const ne=P.call(rt(this),L,...N);return de.set(ne,L.sort?L.sort():[L]),ke(ne)}}(P):(P instanceof IDBTransaction&&function me(P){if(_e.has(P))return;const L=new Promise((N,ne)=>{const Q=()=>{P.removeEventListener("complete",re),P.removeEventListener("error",ee),P.removeEventListener("abort",ee)},re=()=>{N(),Q()},ee=()=>{ne(P.error||new DOMException("AbortError","AbortError")),Q()};P.addEventListener("complete",re),P.addEventListener("error",ee),P.addEventListener("abort",ee)});_e.set(P,L)}(P),((P,L)=>L.some(N=>P instanceof N))(P,function Ee(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,Ce):P)}function ke(P){if(P instanceof IDBRequest)return function q(P){const L=new Promise((N,ne)=>{const Q=()=>{P.removeEventListener("success",re),P.removeEventListener("error",ee)},re=()=>{N(ke(P.result)),Q()},ee=()=>{ne(P.error),Q()};P.addEventListener("success",re),P.addEventListener("error",ee)});return L.then(N=>{N instanceof IDBCursor&&ge.set(N,P)}).catch(()=>{}),J.set(L,P),L}(P);if(U.has(P))return U.get(P);const L=xe(P);return L!==P&&(U.set(P,L),J.set(L,P)),L}const rt=P=>J.get(P);function dt(P,L,{blocked:N,upgrade:ne,blocking:Q,terminated:re}={}){const ee=indexedDB.open(P,L),V=ke(ee);return ne&&ee.addEventListener("upgradeneeded",be=>{ne(ke(ee.result),be.oldVersion,be.newVersion,ke(ee.transaction))}),N&&ee.addEventListener("blocked",()=>N()),V.then(be=>{re&&be.addEventListener("close",()=>re()),Q&&be.addEventListener("versionchange",()=>Q())}).catch(()=>{}),V}function E(P,{blocked:L}={}){const N=indexedDB.deleteDatabase(P);return L&&N.addEventListener("blocked",()=>L()),ke(N).then(()=>{})}const x=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],W=new Map;function Y(P,L){if(!(P instanceof IDBDatabase)||L in P||"string"!=typeof L)return;if(W.get(L))return W.get(L);const N=L.replace(/FromIndex$/,""),ne=L!==N,Q=T.includes(N);if(!(N in(ne?IDBIndex:IDBObjectStore).prototype)||!Q&&!x.includes(N))return;const re=function(){var ee=(0,l.Z)(function*(V,...be){const $e=this.transaction(V,Q?"readwrite":"readonly");let qe=$e.store;return ne&&(qe=qe.index(be.shift())),(yield Promise.all([qe[N](...be),Q&&$e.done]))[0]});return function(be){return ee.apply(this,arguments)}}();return W.set(L,re),re}!function De(P){Ce=P(Ce)}(P=>({...P,get:(L,N,ne)=>Y(L,N)||P.get(L,N,ne),has:(L,N)=>!!Y(L,N)||P.has(L,N)}))},5861:(pt,Fe,B)=>{"use strict";function l(K,O,Ee,ce,ge,_e,de){try{var U=K[_e](de),J=U.value}catch(q){return void Ee(q)}U.done?O(J):Promise.resolve(J).then(ce,ge)}function pe(K){return function(){var O=this,Ee=arguments;return new Promise(function(ce,ge){var _e=K.apply(O,Ee);function de(J){l(_e,ce,ge,de,U,"next",J)}function U(J){l(_e,ce,ge,de,U,"throw",J)}de(void 0)})}}B.d(Fe,{Z:()=>pe})}},pt=>{pt(pt.s=5518)}]);